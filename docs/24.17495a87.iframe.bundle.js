(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{2858:function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(21),DESCRIPTORS=__webpack_require__(84),global=__webpack_require__(32),has=__webpack_require__(103),isObject=__webpack_require__(90),defineProperty=__webpack_require__(136).f,copyConstructorProperties=__webpack_require__(1785),NativeSymbol=global.Symbol;if(DESCRIPTORS&&"function"==typeof NativeSymbol&&(!("description"in NativeSymbol.prototype)||void 0!==NativeSymbol().description)){var EmptyStringDescriptionStore={},SymbolWrapper=function Symbol(){var description=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),result=this instanceof SymbolWrapper?new NativeSymbol(description):void 0===description?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString,native="Symbol(test)"==String(NativeSymbol("test")),regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:!0,get:function description(){var symbol=isObject(this)?this.valueOf():this,string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return""===desc?void 0:desc}}),$({global:!0,forced:!0},{Symbol:SymbolWrapper})}},2866:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(477),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(2871),__webpack_require__(1)),SelectFromButton=function SelectFromButton(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"Выбрать":_ref$text,_onClick=_ref.onClick;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"select-from-button",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"select-from-button__link",onClick:function onClick(event){event.preventDefault(),_onClick()},children:[text,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_1__.a,{className:"select-from-button__img select-from-button__img--more"})]})})};SelectFromButton.displayName="SelectFromButton",SelectFromButton.__docgenInfo={description:"",methods:[],displayName:"SelectFromButton",props:{text:{defaultValue:{value:"'Выбрать'",computed:!1},required:!1},onClick:{type:{name:"func"},required:!1,description:""}}},__webpack_exports__.a=SelectFromButton,SelectFromButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/SelectFromButton/SelectFromButton.jsx"]={name:"SelectFromButton",docgenInfo:SelectFromButton.__docgenInfo,path:"src/components/Form/SelectFromButton/SelectFromButton.jsx"})},2871:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2872);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2872:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-from-button__link{display:flex;align-items:center;transition:100ms ease-in-out;color:#777777 !important;border-radius:3px;cursor:pointer;font-size:0.9rem;padding:2px 8px;padding-right:3px;margin-top:2px;width:fit-content;margin-left:10px}.select-from-button__link .select-from-button__img{width:20px;transition:margin-left 200ms ease-in-out}.select-from-button__link .select-from-button__img--plus{margin-left:7px}.select-from-button__link .select-from-button__img--plus path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.select-from-button__link .select-from-button__img--more{transform:rotate(-90deg) !important}.select-from-button__link .select-from-button__img--more path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.select-from-button__link:hover{color:#333333 !important}.select-from-button__link:hover .select-from-button__img--more{margin-left:8px}.select-from-button__link:hover .select-from-button__img--more path:first-child{fill:#55a1c1}.select-from-button__link:hover .select-from-button__img--plus path:first-child{fill:#55a1c1}\n",""]),module.exports=exports},2874:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return getPackaging})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getPackagingById})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addPackaging})),__webpack_require__.d(__webpack_exports__,"e",(function(){return editPackaging})),__webpack_require__.d(__webpack_exports__,"c",(function(){return deletePackaging})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addPackagingToProduct})),__webpack_require__.d(__webpack_exports__,"d",(function(){return deletePackagingFromProduct}));var _utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);function getPackaging(signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/packing/",method:"GET",signal:signal})}function getPackagingById(id,signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/packing/"+id,method:"GET",signal:signal})}function addPackaging(packaging,signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/packing/",method:"POST",body:JSON.stringify(packaging),signal:signal})}function editPackaging(id,packaging,signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/packing/"+id,method:"PUT",body:JSON.stringify(packaging),signal:signal})}function deletePackaging(id,signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/packing/"+id,method:"DELETE",signal:signal})}function addPackagingToProduct(newPackaging,id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/product/add/"+id,method:"POST",body:JSON.stringify(newPackaging)})}function deletePackagingFromProduct(productId){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).API_URL+"/api/v1/product/add/"+productId,method:"POST",body:JSON.stringify({packings:[]})})}},2883:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/no_img.60f1f667.png"},2888:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/delete.1ad59e4c.svg"},2890:function(module,__webpack_exports__,__webpack_require__){"use strict";var Assets_priceList_no_img_png__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2883),Assets_priceList_no_img_png__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(Assets_priceList_no_img_png__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(2891),__webpack_require__(1)),ImgLoader=function ImgLoader(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"img-loader",children:props.imgSrc||""===props.imgSrc?""===props.imgSrc&&props.noPhotoTemplate?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img",{className:props.imgClass,src:Assets_priceList_no_img_png__WEBPACK_IMPORTED_MODULE_0___default.a,alt:""}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img",{className:props.imgClass,src:props.imgSrc,alt:"",loading:"lazy"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"img-loader__img--placeholder ".concat(props.imgClass)})})};ImgLoader.displayName="ImgLoader",ImgLoader.__docgenInfo={description:"",methods:[],displayName:"ImgLoader"},__webpack_exports__.a=ImgLoader,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableView/ImgLoader/ImgLoader.jsx"]={name:"ImgLoader",docgenInfo:ImgLoader.__docgenInfo,path:"src/components/TableView/ImgLoader/ImgLoader.jsx"})},2891:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2892);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2892:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}@keyframes pulse{0%{border-color:#dbdbdb;background-color:#dbdbdb}50%{border-color:#c5c5c5;background-color:#c5c5c5}100%{border-color:#dbdbdb;background-color:#dbdbdb}}@keyframes load{from{background:linear-gradient(to right, transparent 0%, #fafafa 50%, transparent 100%);left:-150px}to{background:linear-gradient(to right, transparent 0%, #e8e8e8 50%, transparent 100%);left:100%}}.img-loader .img-loader__img--placeholder{width:80px;height:80px;position:relative;border-radius:5px;animation:pulse 1s infinite ease-in-out;position:relative;overflow:hidden}.img-loader .img-loader__img--placeholder::after{content:"";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(to right, transparent 0%, #e8e8e8 50%, transparent 100%);animation:load 1s cubic-bezier(0.4, 0, 0.2, 1) infinite}.img-loader .sk-circle{width:80px;height:80px;position:relative}.img-loader .sk-circle .sk-child{width:100%;height:100%;position:absolute;left:0;top:0}.img-loader .sk-circle .sk-child:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#4293b6;border-radius:100%;-webkit-animation:sk-circleBounceDelay 1.2s infinite ease-in-out both;animation:sk-circleBounceDelay 1.2s infinite ease-in-out both}.img-loader .sk-circle .sk-circle2{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.img-loader .sk-circle .sk-circle3{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.img-loader .sk-circle .sk-circle4{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.img-loader .sk-circle .sk-circle5{-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.img-loader .sk-circle .sk-circle6{-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.img-loader .sk-circle .sk-circle7{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.img-loader .sk-circle .sk-circle8{-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.img-loader .sk-circle .sk-circle9{-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.img-loader .sk-circle .sk-circle10{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.img-loader .sk-circle .sk-circle11{-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.img-loader .sk-circle .sk-circle12{-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.img-loader .sk-circle .sk-circle2:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.img-loader .sk-circle .sk-circle3:before{-webkit-animation-delay:-1s;animation-delay:-1s}.img-loader .sk-circle .sk-circle4:before{-webkit-animation-delay:-0.9s;animation-delay:-0.9s}.img-loader .sk-circle .sk-circle5:before{-webkit-animation-delay:-0.8s;animation-delay:-0.8s}.img-loader .sk-circle .sk-circle6:before{-webkit-animation-delay:-0.7s;animation-delay:-0.7s}.img-loader .sk-circle .sk-circle7:before{-webkit-animation-delay:-0.6s;animation-delay:-0.6s}.img-loader .sk-circle .sk-circle8:before{-webkit-animation-delay:-0.5s;animation-delay:-0.5s}.img-loader .sk-circle .sk-circle9:before{-webkit-animation-delay:-0.4s;animation-delay:-0.4s}.img-loader .sk-circle .sk-circle10:before{-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.img-loader .sk-circle .sk-circle11:before{-webkit-animation-delay:-0.2s;animation-delay:-0.2s}.img-loader .sk-circle .sk-circle12:before{-webkit-animation-delay:-0.1s;animation-delay:-0.1s}@-webkit-keyframes sk-circleBounceDelay{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes sk-circleBounceDelay{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.img-loader .lds-roller{display:inline-block;position:relative;width:80px;height:80px}.img-loader .lds-roller div{animation:lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;transform-origin:40px 40px}.img-loader .lds-roller div:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#4293b6;margin:-4px 0 0 -4px}.img-loader .lds-roller div:nth-child(1){animation-delay:-0.036s}.img-loader .lds-roller div:nth-child(1):after{top:63px;left:63px}.img-loader .lds-roller div:nth-child(2){animation-delay:-0.072s}.img-loader .lds-roller div:nth-child(2):after{top:68px;left:56px}.img-loader .lds-roller div:nth-child(3){animation-delay:-0.108s}.img-loader .lds-roller div:nth-child(3):after{top:71px;left:48px}.img-loader .lds-roller div:nth-child(4){animation-delay:-0.144s}.img-loader .lds-roller div:nth-child(4):after{top:72px;left:40px}.img-loader .lds-roller div:nth-child(5){animation-delay:-0.18s}.img-loader .lds-roller div:nth-child(5):after{top:71px;left:32px}.img-loader .lds-roller div:nth-child(6){animation-delay:-0.216s}.img-loader .lds-roller div:nth-child(6):after{top:68px;left:24px}.img-loader .lds-roller div:nth-child(7){animation-delay:-0.252s}.img-loader .lds-roller div:nth-child(7):after{top:63px;left:17px}.img-loader .lds-roller div:nth-child(8){animation-delay:-0.288s}.img-loader .lds-roller div:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n',""]),module.exports=exports},2900:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return productsDefaultInputs})),__webpack_require__.d(__webpack_exports__,"a",(function(){return productCategoriesDefaultInputs}));var productsDefaultInputs=[{name:"name",defaultValue:"",isRequired:!0},{name:"category",defaultValue:"",isRequired:!0},{name:"packages",defaultValue:[],isRequired:!0},{name:"photo",defaultValue:"",isRequired:!0},{name:"weight",defaultValue:"",isRequired:!0},{name:"productionLocation",defaultValue:"ЦехЛЭМЗ",isRequired:!0,isValid:!0},{name:"comment",defaultValue:""},{name:"vendor",defaultValue:""},{name:"description",defaultValue:""},{name:"barcode",defaultValue:""}],productCategoriesDefaultInputs=[{name:"category",defaultValue:"",isRequired:!0}]},2961:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(257),__webpack_require__(672),__webpack_require__(673),__webpack_require__(165),__webpack_require__(83),__webpack_require__(475),__webpack_require__(201);var Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(356),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),Components_App__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(135),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),TableView=function TableView(_ref){var data=_ref.data,isLoading=_ref.isLoading,deleteItem=_ref.deleteItem,onSelect=_ref.onSelect,searchQuery=_ref.searchQuery,userContext=Object(react__WEBPACK_IMPORTED_MODULE_8__.useContext)(Components_App__WEBPACK_IMPORTED_MODULE_9__.a);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_7__.a,{data:function filterData(data){return data.filter((function(item){return item.name.toLowerCase().includes(searchQuery.toLowerCase())||item.quantity.toString().toLowerCase().includes(searchQuery.toLowerCase())||item.size.toLowerCase().includes(searchQuery.toLowerCase())||item.comment.toLowerCase().includes(searchQuery.toLowerCase())}))}(data),columns:[{text:"Название",value:"name"},{text:"Кол-во",value:"quantity"},{text:"Размер",value:"size"},{text:"Комментарий",value:"comment"}],actions:onSelect?void 0:function actions(item){return[{elementType:"edit",title:"Редактировать запись",link:"/packaging/edit/".concat(item.id)},{elementType:"delete",title:"Удаление записи",onClick:function onClick(){return deleteItem(item.id)},isRendered:userContext.userHasAccess(["ROLE_ADMIN"])}]},loading:{isLoading:isLoading},onClick:onSelect?function(item){return onSelect(item)}:void 0,options:onSelect?{fullSize:!0}:void 0})};TableView.displayName="TableView",TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"},__webpack_exports__.a=TableView,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/PackagingPage/TableView.jsx"]={name:"TableView",docgenInfo:TableView.__docgenInfo,path:"src/components/MainPage/PackagingPage/TableView.jsx"})},2981:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(23),__webpack_require__(51),__webpack_require__(165),__webpack_require__(474),__webpack_require__(0)),Components_Form_FormWindow_FormWindow_jsx__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(3041),__webpack_require__(203)),API_Products_packaging_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2874),_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(355),Assets_tableview_delete_svg__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(1782),__webpack_require__(2888)),Assets_tableview_delete_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(Assets_tableview_delete_svg__WEBPACK_IMPORTED_MODULE_13__),Components_Form_SelectFromButton_SelectFromButton_jsx__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2866),_TableView_jsx__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2961),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1),SelectPackaging=function SelectPackaging(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)([]),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState,2),selected=_useState2[0],setSelected=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)([]),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3,2),packages=_useState4[0],setPackages=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)(!1),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5,2),showWindow=_useState6[0],setShowWindow=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)(""),_useState8=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7,2),searchQuery=_useState8[0],setSearchQuery=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)(!1),_useState10=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];return Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){var abortController=new AbortController;0===packages.length&&function loadData(signal){setIsLoading(!0),Object(API_Products_packaging_js__WEBPACK_IMPORTED_MODULE_10__.f)(signal).then((function(res){return res.json()})).then((function(res){return setPackages(res),setIsLoading(!1)})).catch((function(error){console.log(error),setIsLoading(!1)}))}(abortController.signal),props.defaultValue&&setSelected(props.defaultValue)}),[selected,props.defaultValue]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-packaging",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Components_Form_FormWindow_FormWindow_jsx__WEBPACK_IMPORTED_MODULE_9__.a,{title:"Выбор упаковки",content:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_11__.a,{fullSize:!0,setSearchQuery:setSearchQuery,placeholder:"Введите название упаковки для поиска..."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_TableView_jsx__WEBPACK_IMPORTED_MODULE_15__.a,{data:packages,searchQuery:searchQuery,isLoading:isLoading,onSelect:function onSelect(item){var temp=selected;temp.push(item),setSelected(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(temp)),props.onChange(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(temp)),setShowWindow(!showWindow)}})]}),showWindow:showWindow,setShowWindow:setShowWindow}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-packaging__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-packaging__input_name main-form__input_name--header",children:["Упаковка"+(props.required?"*":""),!props.readOnly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Components_Form_SelectFromButton_SelectFromButton_jsx__WEBPACK_IMPORTED_MODULE_14__.a,{text:"Выбрать упаковку",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),!props.readOnly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"select-packaging__input-field",children:!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"select-packaging__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.errorName,!1)))}:null,children:"Поле не заполнено!"})})]}),selected.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"main-window__list",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"main-window__list-item main-window__list-item--header",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"Название"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"Количество"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"Размер"}),!props.readOnly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__actions",children:"Действие"})]}),selected.map((function(item,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"main-window__list-item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__mobile-text",children:"Название:"}),item.name]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__mobile-text",children:"Количество:"}),item.quantity]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__mobile-text",children:"Размер:"}),item.size]}),!props.readOnly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__actions",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"main-window__action",title:"Удалить из списка",onClick:function onClick(event){event.preventDefault();var temp=selected;temp.splice(index,1),setSelected(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(temp)),props.onChange(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(temp))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("img",{className:"main-window__img",src:Assets_tableview_delete_svg__WEBPACK_IMPORTED_MODULE_13___default.a})})})]},item.id)}))]})})]})};SelectPackaging.displayName="SelectPackaging",SelectPackaging.__docgenInfo={description:"",methods:[],displayName:"SelectPackaging"},__webpack_exports__.a=SelectPackaging,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/PackagingPage/SelectPackaging/SelectPackaging.jsx"]={name:"SelectPackaging",docgenInfo:SelectPackaging.__docgenInfo,path:"src/components/MainPage/PackagingPage/SelectPackaging/SelectPackaging.jsx"})},3041:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3042);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3042:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-packaging{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.select-packaging__img{width:25px;cursor:pointer;transition:200ms ease-in-out}.select-packaging__img:hover{transform:scale(1.05)}.select-packaging__button{border:0;border-radius:5px;width:max-content;background-color:#4293b6;color:#fff;outline:none;cursor:pointer;padding:10px 15px;font-size:70%;transition:0.2s ease-in-out;margin-bottom:5px}.select-packaging__button:hover{background-color:#519fc0}.select-packaging__error{align-self:flex-end;width:calc(100% - 20px);margin-top:-4px;font-size:0.75rem;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;cursor:pointer;transition:0.2s ease-in-out}.select-packaging__input{display:flex;justify-content:space-between;width:100%;flex-direction:column;align-items:flex-start}.select-packaging__input .select-packaging__input_name{color:#666;flex:0 1 20%;width:100%;margin-bottom:3px}.select-packaging__input .select-packaging__input-field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;flex-direction:column;width:100%}.select-packaging__input .select-packaging__input-field input[type="text"],.select-packaging__input .select-packaging__input-field input[type="number"],.select-packaging__input .select-packaging__input-field input[type="password"]{border:1px solid #bbbbbb;width:calc(100% - 20px);padding:5px 10px;border-radius:5px;transition:100ms ease-in-out;height:1.5rem;-moz-appearance:textfield}.select-packaging__input .select-packaging__input-field input[type="text"]:hover,.select-packaging__input .select-packaging__input-field input[type="number"]:hover,.select-packaging__input .select-packaging__input-field input[type="password"]:hover{border-color:#888888}.select-packaging__input .select-packaging__input-field input[type="text"]:focus,.select-packaging__input .select-packaging__input-field input[type="number"]:focus,.select-packaging__input .select-packaging__input-field input[type="password"]:focus{border:1px solid #4293b6}.select-packaging__input .select-packaging__input-field input::-webkit-outer-spin-button,.select-packaging__input .select-packaging__input-field input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.select-packaging__input .select-packaging__input-field--error input[type="text"],.select-packaging__input .select-packaging__input-field--error input[type="number"],.select-packaging__input .select-packaging__input-field--error input[type="password"]{border:1px solid #d48282 !important}.select-packaging__input .select-packaging__input-field:focus{border:1px solid #4293b6}.select-packaging>.main-window{background-color:#dddddd;border-radius:5px;width:100%}.select-packaging>.main-window .main-window__reminder{width:fit-content}.select-packaging .searchbar{margin-bottom:0}.select-packaging .form-window .main-window__list{margin-left:-15px;width:calc(100% + 30px) !important}@media (max-width: 768px){.select-packaging__input{flex-direction:column;align-items:flex-start}.select-packaging__input .select-packaging__input_name{margin-bottom:5px}.select-packaging__input .select-packaging__input-field{width:100%}.select-packaging>.main-window{width:calc(100%)}.select-packaging .main-window__actions{display:none}}\n',""]),module.exports=exports},3385:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(473),__webpack_require__(301),__webpack_require__(1016),__webpack_require__(674),__webpack_require__(165),__webpack_require__(1783),__webpack_require__(2858);var react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),API_Products_products__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__(3386),__webpack_require__(2854),__webpack_require__(683)),Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(63),_PackagingPage_SelectPackaging_SelectPackaging_jsx__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2981),Components_TableView_ImgLoader_ImgLoader_jsx__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2890),_objects__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2900),Utils_hooks__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(472),Components_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(153),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1),ViewProduct=function ViewProduct(props){var _useForm=Object(Utils_hooks__WEBPACK_IMPORTED_MODULE_15__.a)(_objects__WEBPACK_IMPORTED_MODULE_14__.b),formInputs=_useForm.formInputs,updateFormInputs=_useForm.updateFormInputs;return Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){document.title="Просмотр продукта";var id=props.history.location.pathname.split("/products/view/")[1];isNaN(Number.parseInt(id))?(alert("Неправильный индекс заявки!"),props.history.push("/products")):Object(API_Products_products__WEBPACK_IMPORTED_MODULE_10__.d)(id).then((function(res){return res.json()})).then((function(oldProduct){console.log(oldProduct),updateFormInputs({name:oldProduct.name,photo:oldProduct.photo,item:oldProduct.item,weight:oldProduct.weight,category:oldProduct.category,description:oldProduct.description,barcode:oldProduct.barcode,vendor:oldProduct.vendor,productionLocation:oldProduct.productionLocation,unit:oldProduct.unit,packages:oldProduct.packings,comment:oldProduct.comment})})).catch((function(error){console.log(error),alert("Неправильный индекс заявки!"),props.history.push("/products")}))}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"view-product",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("form",{className:"main-form__form",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__header main-form__header--full",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__title",children:"Просмотр продукции"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Фотография"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__product_img",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(Components_TableView_ImgLoader_ImgLoader_jsx__WEBPACK_IMPORTED_MODULE_13__.a,{imgClass:"",imgSrc:formInputs.photo,noPhotoTemplate:!0}),""!==formInputs.photo&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__submit",onClick:function onClick(){return Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_11__.r)(formInputs.photo,formInputs.name+".jpeg")},children:"Скачать картинку"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Наименование"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"name",defaultValue:formInputs.name,readOnly:!0})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Категория"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"weight",defaultValue:formInputs.category,readOnly:!0})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__fieldset",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__group-name",children:"Характеристика продукции"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Вес изделия"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"weight",defaultValue:formInputs.weight,readOnly:!0})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Артикул"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"vendor",defaultValue:formInputs.vendor,readOnly:!0})})]}),formInputs.description?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Описание"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("textarea",{type:"text",name:"description",defaultValue:formInputs.description,readOnly:!0})})]}):null,formInputs.barcode?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Штрих-код"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"barcode",defaultValue:formInputs.barcode,readOnly:!0})})]}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_PackagingPage_SelectPackaging_SelectPackaging_jsx__WEBPACK_IMPORTED_MODULE_12__.a,{defaultValue:formInputs.packages,readOnly:!0})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Место производства"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"productionLocation",defaultValue:formInputs.productionLocation,readOnly:!0})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_name",children:"Комментарий"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{type:"text",name:"comment",defaultValue:formInputs.comment,readOnly:!0})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"main-form__buttons main-form__buttons--full",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(Components_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_16__.a,{className:"main-form__submit main-form__submit--inverted",inverted:!0,onClick:function onClick(){return props.history.push("/products")},text:"Вернуться назад"})})]})})})};ViewProduct.displayName="ViewProduct",ViewProduct.__docgenInfo={description:"",methods:[],displayName:"ViewProduct"},__webpack_exports__.default=ViewProduct,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Products/ViewProduct/ViewProduct.jsx"]={name:"ViewProduct",docgenInfo:ViewProduct.__docgenInfo,path:"src/components/MainPage/Products/ViewProduct/ViewProduct.jsx"})},3386:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3387);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3387:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.view-product .select-packaging .select-packaging__input{width:calc(20% - 10px)}@media (max-width: 768px){.view-product .select-packaging{flex-direction:column}.view-product .select-packaging .select-packaging__input{width:100%}}\n",""]),module.exports=exports}}]);