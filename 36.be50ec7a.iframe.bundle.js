(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{2549:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(100),__webpack_require__(310),__webpack_require__(263),__webpack_require__(0)),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(2556),__webpack_require__(1)),PlaceholderLoading=function PlaceholderLoading(_ref){var _ref$items=_ref.items,items=void 0===_ref$items?3:_ref$items,itemClassName=_ref.itemClassName,_ref$minHeight=_ref.minHeight,minHeight=void 0===_ref$minHeight?"1.5rem":_ref$minHeight,placeholderContent=_ref.placeholderContent,wrapperClassName=_ref.wrapperClassName,_ref$itemStyles=_ref.itemStyles,itemStyles=void 0===_ref$itemStyles?{}:_ref$itemStyles,_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),elements=_useState2[0],setElements=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((function(){for(var temp=[],count=items,i=1;i<=count;i++)temp.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading__item ".concat(itemClassName),style:Object.assign({minHeight:minHeight},itemStyles)}));setElements([].concat(temp))}),[]),placeholderContent?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading ".concat(wrapperClassName),children:elements.map((function(item,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:itemClassName,style:{minHeight:minHeight},children:placeholderContent},index)}))}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading ".concat(wrapperClassName),children:elements.map((function(item){return item}))})};PlaceholderLoading.displayName="PlaceholderLoading",PlaceholderLoading.__docgenInfo={description:"",methods:[],displayName:"PlaceholderLoading",props:{items:{defaultValue:{value:"3",computed:!1},type:{name:"number"},required:!1,description:""},minHeight:{defaultValue:{value:"'1.5rem'",computed:!1},type:{name:"string"},required:!1,description:""},itemStyles:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},itemClassName:{type:{name:"string"},required:!1,description:""},wrapperClassName:{type:{name:"string"},required:!1,description:""},placeholderContent:{type:{name:"any"},required:!1,description:""}}},__webpack_exports__.a=PlaceholderLoading,PlaceholderLoading.propTypes={items:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,minHeight:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,itemClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,wrapperClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,placeholderContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any,itemStyles:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\TableView\\PlaceholderLoading\\PlaceholderLoading.jsx"]={name:"PlaceholderLoading",docgenInfo:PlaceholderLoading.__docgenInfo,path:"src\\utils\\TableView\\PlaceholderLoading\\PlaceholderLoading.jsx"})},2556:function(module,exports,__webpack_require__){var api=__webpack_require__(64),content=__webpack_require__(2557);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2557:function(module,exports,__webpack_require__){(exports=__webpack_require__(65)(!1)).push([module.i,'@keyframes pulse-placeholder-loading{0%,100%{background-color:#e7e7e7}50%{background-color:#efefef}}@keyframes load{from{left:-150px}to{left:100%}}.placeholder-loading__item{height:1rem;background-color:#ddd;animation:pulse-placeholder-loading 1s infinite ease-in-out;position:relative;overflow:hidden;border-bottom:1px solid #bbb}.placeholder-loading__item::after{content:"";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(to right, transparent 0%, #e8e8e8 50%, transparent 100%);animation:load 1s cubic-bezier(0.4, 0, 0.2, 1) infinite}\n',""]),module.exports=exports},2558:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(100),__webpack_require__(0)),Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2566),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(2563),__webpack_require__(1)),ControlPanel=function ControlPanel(props){var _props$styles,_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),isHidden=_useState2[0],setIsHidden=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"control-panel",style:Object.assign({},null!==(_props$styles=props.styles)&&void 0!==_props$styles?_props$styles:{}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"main-window__control-panel-wrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"control-panel__buttons",children:[props.sorting||null,props.content?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"main-window__button main-window__button--inverted main-window__button--filter",onClick:function onClick(){return setIsHidden((function(isHidden){return!isHidden}))},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{children:props.panelName||"Фильтры"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_3__.a,{className:"main-window__img ".concat(isHidden?"":"main-window__img--rotated")})]}):null,props.buttons||null,props.itemsCount?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"main-window__amount_table",children:props.itemsCount}):null]}),isHidden?null:props.content]})})};ControlPanel.displayName="ControlPanel",ControlPanel.__docgenInfo={description:"",methods:[],displayName:"ControlPanel"},__webpack_exports__.a=ControlPanel,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\MainWindow\\ControlPanel\\ControlPanel.jsx"]={name:"ControlPanel",docgenInfo:ControlPanel.__docgenInfo,path:"src\\utils\\MainWindow\\ControlPanel\\ControlPanel.jsx"})},2563:function(module,exports,__webpack_require__){var api=__webpack_require__(64),content=__webpack_require__(2564);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2564:function(module,exports,__webpack_require__){(exports=__webpack_require__(65)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.control-panel{width:100%}.control-panel .main-window__control-panel-wrapper{padding-top:5px;padding-bottom:10px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__button{margin-top:5px;padding:8px 10px;font-size:85%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .switch{margin-top:5px;margin-right:10px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .searchbar{max-width:50%;margin-right:auto;padding:0;align-self:center;margin-left:-15px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__amount_table{color:#666666;align-self:center;margin-top:5px;margin-left:auto}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window{padding:0}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel{width:max-content;margin-bottom:0;margin-right:10px;box-sizing:border-box;padding-top:calc(5px);position:relative;background-color:#ffffff}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel::before{width:100%;height:20px;position:absolute;content:\"Сортировка\";top:8px;left:10px;z-index:0;color:#777777;font-size:95%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel select{padding-top:18px;padding-right:25px;padding-left:9px;height:100%;margin:0;box-sizing:border-box;min-width:150px;z-index:0;background-color:transparent;cursor:pointer;border:1px solid #cccccc;transition:background-color 100ms ease-in-out;-webkit-appearance:none;-moz-appearance:none;background:transparent;background-image:url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z'></path></svg>\");background-repeat:no-repeat;background-position-x:100%;background-position-y:calc(50% + 2px)}.control-panel .main-window__control-panel-wrapper .main-window__button--filter{border-color:#cccccc;justify-content:space-between;padding:8px 8px !important;padding-right:5px !important}.control-panel .main-window__control-panel-wrapper .main-window__button--filter span{margin-right:20px;font-size:95%}.control-panel .main-window__control-panel-wrapper .main-window__button--filter .main-window__img{filter:none;max-width:18px;margin-top:1px;margin-right:0;transition:200ms cubic-bezier(0.23, 1, 0.32, 1)}.control-panel .main-window__control-panel-wrapper .main-window__button--filter .main-window__img path:nth-child(1){transition:200ms cubic-bezier(0.23, 1, 0.32, 1);fill:#333333}@media (max-width: 768px){.control-panel .main-window__control-panel-wrapper{padding-left:15px;padding-right:15px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons{width:calc(100% + 30px);padding:0 15px;box-sizing:border-box;flex-wrap:nowrap;margin-left:-15px;overflow:auto;white-space:nowrap}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel select{padding-top:18px !important;padding-right:25px !important;padding-left:9px !important;max-width:240px}}\n",""]),module.exports=exports},2565:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/edit.efe0dc2a.svg"},2576:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return defaultStylesPDF})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createPDF})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getPDFTitleObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getInputElementTextPDF})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getTransportationListPdfText})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getRequestPdfText})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getProductsFromRequestsListPdfText}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(419),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),pdfmake_build_vfs_fonts_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(263),__webpack_require__(310),__webpack_require__(604),__webpack_require__(2567),__webpack_require__(2571),__webpack_require__(2579),__webpack_require__(2617)),pdfmake_build_vfs_fonts_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(pdfmake_build_vfs_fonts_js__WEBPACK_IMPORTED_MODULE_7__),pdfmake__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2618),pdfmake__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(pdfmake__WEBPACK_IMPORTED_MODULE_8__),_functions_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2546),_sorting_sorting_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2559),defaultStylesPDF={title:{fontSize:18,alignment:"left"},subheader:{fontSize:14,alignment:"left"},regularText:{fontSize:11,alignment:"left"},tableHeader:{fontSize:11,color:"#555",alignment:"left"}},createPDF=function createPDF(data){var print=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pdfmake__WEBPACK_IMPORTED_MODULE_8___default.a.vfs=pdfmake_build_vfs_fonts_js__WEBPACK_IMPORTED_MODULE_7___default.a.pdfMake.vfs,print?pdfmake__WEBPACK_IMPORTED_MODULE_8___default.a.createPdf(data).print():pdfmake__WEBPACK_IMPORTED_MODULE_8___default.a.createPdf(data).open()},getPDFTitleObject=function getPDFTitleObject(name){return{text:"".concat(name,"\n"),alignment:"center",style:"title"}},getInputElementTextPDF=function getInputElementTextPDF(title,value){return{text:[{text:"\n".concat(title,": \n"),style:"regularText",fontSize:12},{text:"".concat(value,"\n\n"),style:"subheader"}]}},getTransportationListPdfText=function getTransportationListPdfText(transportation){var transportationList=[],transportationInfo=[];transportation.map((function(item){return transportationInfo.push([{text:Object(_functions_jsx__WEBPACK_IMPORTED_MODULE_9__.g)(item.date),style:"regularText"},{text:item.cargo,style:"regularText"},{text:item.quantity,style:"regularText"},{text:item.sender,style:"regularText"},{text:item.recipient,style:"regularText"},{text:item.driver,style:"regularText"}])})),transportationList.push({table:{widths:[60,140,40,80,80,"*"],body:[[{text:"Дата",style:"tableHeader"},{text:"Товар",style:"tableHeader"},{text:"Кол-во",style:"tableHeader"},{text:"Откуда",style:"tableHeader"},{text:"Куда",style:"tableHeader"},{text:"Водитель",style:"tableHeader"}]].concat(transportationInfo)}});var dd={info:{title:"Реестр транспортировок"},content:[getPDFTitleObject("Реестр транспортировок")].concat(transportationList),styles:defaultStylesPDF};return pdfmake__WEBPACK_IMPORTED_MODULE_8___default.a.vfs=pdfmake_build_vfs_fonts_js__WEBPACK_IMPORTED_MODULE_7___default.a.pdfMake.vfs,dd},getRequestPdfText=function getRequestPdfText(date,requestProducts,codeWord,workshopName,itemId){var productsArr=Object(_sorting_sorting_js__WEBPACK_IMPORTED_MODULE_10__.a)(requestProducts,{fieldName:"name",direction:"asc"}).map((function(item){return[item.name,item.quantity,item.packaging,"",""]})),dd={info:{title:"Очередь производства №"+itemId},content:[getPDFTitleObject("Очередь производства  №".concat(itemId)),workshopName?getInputElementTextPDF("Подразделение",workshopName):"\n",getInputElementTextPDF("Дата",Object(_functions_jsx__WEBPACK_IMPORTED_MODULE_9__.g)(date)),{text:"Продукция: ",style:"regularText",fontSize:12,margin:[0,0,0,5]},{table:{widths:["*",70,70,70,70],body:[[{text:"Название",style:"tableHeader"},{text:"Кол-во",style:"tableHeader"},{text:"Фасовка",style:"tableHeader"},{text:"",style:"tableHeader"},{text:"",style:"tableHeader"}]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(productsArr))}},"\n",getInputElementTextPDF("Кодовое слово",codeWord)],styles:defaultStylesPDF};createPDF(dd)},sortRequestProducts=function sortRequestProducts(data){return data.sort((function(a,b){return a[0].localeCompare(b[0],void 0,{numeric:!0})<0?-1:a[0].localeCompare(b[0],void 0,{numeric:!0})>0?1:0}))},getProductsFromRequestsListPdfText=function getProductsFromRequestsListPdfText(products,workshopName){var dd={info:{title:"Очередь производства - список"},content:[getPDFTitleObject("Очередь производства - список"),workshopName?getInputElementTextPDF("Подразделение",workshopName):"\n",sortRequestProducts(Object.entries(products)).map((function(category){if(Object.values(category[1]).length>0)return[{text:[{text:"".concat(category[0]," \n"),fontSize:12,style:"regularText",margin:[5,5,5,5]}]}].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(function formatProducts(products){return[{table:{margin:[0,5,0,5],widths:["*",100,80,80],body:[[{text:"Название",style:"tableHeader"},{text:"Кол-во",style:"tableHeader"},{text:"",style:"tableHeader"},{text:"",style:"tableHeader"}]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(sortRequestProducts(Object.entries(products)).map((function(product){return[product[0],product[1],"",""]}))))}}]}(category[1])),["\n"])}))],styles:defaultStylesPDF};createPDF(dd)}},2583:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/delete.1ad59e4c.svg"},2711:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/print.2602d8cf.png"},2712:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return getTransportations})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getTransportationById})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteTransportation})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addTransportation})),__webpack_require__.d(__webpack_exports__,"c",(function(){return editTransportation}));var _utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(605);function getTransportations(signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:"http://localhost:8443/api/v1/shipping/",method:"GET",signal:signal})}function getTransportationById(id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:"http://localhost:8443/api/v1/shipping/"+id,method:"GET"})}function deleteTransportation(id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:"http://localhost:8443/api/v1/shipping/"+id,method:"DELETE"})}function addTransportation(newTransportation){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:"http://localhost:8443/api/v1/shipping/",method:"POST",body:JSON.stringify(newTransportation)})}function editTransportation(newTransportation,id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_0__.b)({url:"http://localhost:8443/api/v1/shipping/"+id,method:"PUT",body:JSON.stringify(newTransportation)})}},3419:function(module,exports,__webpack_require__){var api=__webpack_require__(64),content=__webpack_require__(3420);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3420:function(module,exports,__webpack_require__){(exports=__webpack_require__(65)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.transportation .main-window__filter-pick{margin-top:5px;margin-bottom:5px;flex-wrap:wrap}.transportation .main-window__filter-pick .checkbox{margin-right:auto;margin-left:15px}.transportation .main-window__filter-pick .checkbox__container{width:100%;padding-left:30px}.transportation .main-window__filter-pick .checkbox__container input:checked ~ .checkbox__checkmark{background-color:#4293b6}.transportation .transportation__container{margin-top:10px;width:100%}.transportation .transportation__text{width:50px;text-align:right;padding-right:10px}.transportation .main-window__button{text-align:center;white-space:nowrap}@media (max-width: 768px){.transportation .main-window__info-panel{flex-direction:column !important}.transportation .transportation__container{text-align:center}.transportation .main-window__filter-pick .checkbox{margin-top:5px}.transportation .main-window__filter-pick .main-window__button{margin-top:5px}.transportation .main-window__filter-pick .main-window__button:last-child{margin-right:0}}\n",""]),module.exports=exports},3421:function(module,exports,__webpack_require__){var api=__webpack_require__(64),content=__webpack_require__(3422);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3422:function(module,exports,__webpack_require__){(exports=__webpack_require__(65)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.tableview_transportation{display:flex;width:100%}.tableview_transportation .main-window__list .main-window__list-item:not(.main-window__list-item--header) span{padding-top:15px;padding-bottom:15px}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(1){flex:0 1 8%;min-width:90px}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(2){flex:0 1 40%}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(3){flex:0 1 10%;max-width:80px}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(4){flex:0 1 15%}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(5){flex:0 1 15%}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(6){flex:0 1 15%}@media (max-width: 768px){.tableview_transportation .main-window__list{margin-top:-10px}.tableview_transportation .main-window__list .main-window__list-item span{padding-top:2px !important;padding-bottom:2px !important}.tableview_transportation .main-window__list .main-window__list-item span:nth-child(3){max-width:none}}\n",""]),module.exports=exports},3593:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var toConsumableArray=__webpack_require__(419),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(17),slicedToArray_default=__webpack_require__.n(slicedToArray),react=(__webpack_require__(945),__webpack_require__(1517),__webpack_require__(1518),__webpack_require__(946),__webpack_require__(2570),__webpack_require__(944),__webpack_require__(263),__webpack_require__(604),__webpack_require__(1522),__webpack_require__(100),__webpack_require__(0)),SearchBar=(__webpack_require__(3419),__webpack_require__(1521),__webpack_require__(607)),print=__webpack_require__(2711),print_default=__webpack_require__.n(print),react_router_dom=__webpack_require__(73),functions=__webpack_require__(2546),edit=(__webpack_require__(3421),__webpack_require__(2565)),edit_default=__webpack_require__.n(edit),tableview_delete=__webpack_require__(2583),delete_default=__webpack_require__.n(tableview_delete),PlaceholderLoading=__webpack_require__(2549),jsx_runtime=__webpack_require__(1),TableView_TableView_TableView=function TableView(props){return Object(jsx_runtime.jsx)("div",{className:"tableview_transportation",children:Object(jsx_runtime.jsxs)("div",{className:"main-window__list main-window__list--full",children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item main-window__list-item--header",children:[Object(jsx_runtime.jsx)("span",{children:"Дата"}),Object(jsx_runtime.jsx)("span",{children:"Товар"}),Object(jsx_runtime.jsx)("span",{children:"Кол-во"}),Object(jsx_runtime.jsx)("span",{children:"Откуда"}),Object(jsx_runtime.jsx)("span",{children:"Куда"}),Object(jsx_runtime.jsx)("span",{children:"Водитель"}),Object(jsx_runtime.jsx)("div",{className:"main-window__actions",children:"Действия"})]}),props.isLoading&&Object(jsx_runtime.jsx)(PlaceholderLoading.a,{itemClassName:"main-window__list-item",minHeight:"35px",items:props.data.length}),props.data.map((function(transportation,transportation_id){return Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item",children:[Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Дата:"}),Object(functions.g)(transportation.date)]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Товар:"}),transportation.cargo]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Кол-во:"}),Object(functions.a)(transportation.quantity)]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Откуда:"}),transportation.sender]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Куда:"}),transportation.recipient]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Водитель:"}),transportation.driver]}),Object(jsx_runtime.jsxs)("div",{className:"main-window__actions",children:[Object(jsx_runtime.jsx)(react_router_dom.a,{to:"/dispatcher/transportation/edit/"+transportation.id,className:"main-window__action",title:"Редактировать запись",children:Object(jsx_runtime.jsx)("img",{className:"main-window__img",src:edit_default.a})}),props.userHasAccess(["ROLE_ADMIN"])&&Object(jsx_runtime.jsx)("div",{className:"main-window__action",onClick:function onClick(){return props.deleteItem(transportation.id)},title:"Удалить запись",children:Object(jsx_runtime.jsx)("img",{className:"main-window__img",src:delete_default.a})})]})]},transportation_id)}))]})})};TableView_TableView_TableView.displayName="TableView",TableView_TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"};var Transportation_TableView_TableView=TableView_TableView_TableView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\MainPage\\Dispatcher\\Transportation\\TableView\\TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView_TableView.__docgenInfo,path:"src\\components\\MainPage\\Dispatcher\\Transportation\\TableView\\TableView.jsx"});var RequestsAPI_Transportation=__webpack_require__(2712),pdfFunctions=__webpack_require__(2576),Button=__webpack_require__(264),FloatingPlus=__webpack_require__(609),ControlPanel=__webpack_require__(2558),usePagination=__webpack_require__(2650),useSort=__webpack_require__(2594),sorting=__webpack_require__(2559),Transportation_Transportation_Transportation=function Transportation(props){var _useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)([]),_useState4=slicedToArray_default()(_useState3,2),transportation=_useState4[0],setTransportation=_useState4[1],_useSort=Object(useSort.a)(transportation,{},[transportation]),sortPanel=_useSort.sortPanel,sortedData=_useSort.sortedData,sortOrder=_useSort.sortOrder,filterTransportation=function filterTransportation(data){return data.filter((function(item){var senderCheck=!1,recipientCheck=!1;return workshops.map((function(workshop){workshop.senderActive&&workshop.name===item.sender&&(senderCheck=!0),workshop.recipientActive&&workshop.name===item.recipient&&(recipientCheck=!0)})),recipientCheck&&senderCheck}))},handleFilterData=function handleFilterData(data){return filterTransportation(function filterSearchQuery(data){var query=searchQuery.toLowerCase();return data.filter((function(item){return item.cargo.toLowerCase().includes(query)||Object(functions.g)(item.date).includes(query)||item.sender.toLowerCase().includes(query)||item.recipient.toLowerCase().includes(query)||item.driver.toLowerCase().includes(query)||item.id.toString().includes(query)}))}(data))},_usePagination=Object(usePagination.a)((function(){return handleFilterData(sortedData)}),[searchQuery,sortOrder,sortedData],"static"),pagination=_usePagination.pagination,data=_usePagination.data,_useState5=Object(react.useState)(!0),_useState6=slicedToArray_default()(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1],_useState7=Object(react.useState)([{name:"ЦехЛЭМЗ",visibility:["ROLE_ADMIN","ROLE_LEMZ"],senderActive:!0,recipientActive:!0},{name:"ЦехЛепсари",visibility:["ROLE_ADMIN","ROLE_LEPSARI"],senderActive:!0,recipientActive:!0},{name:"ЦехЛиговский",visibility:["ROLE_ADMIN","ROLE_LIGOVSKIY","ROLE_DISPATCHER","ROLE_MANAGER"],senderActive:!0,recipientActive:!0},{name:"Офис",visibility:["ROLE_ADMIN","ROLE_DISPATCHER","ROLE_MANAGER"],senderActive:!0,recipientActive:!0}]),_useState8=slicedToArray_default()(_useState7,2),workshops=_useState8[0],setWorkshops=_useState8[1];Object(react.useEffect)((function(){document.title="Реестр транспортировок";var abortController=new AbortController;return loadTransportation(abortController.signal),function cancel(){abortController.abort()}}),[]);var loadTransportation=function loadTransportation(signal){Object(RequestsAPI_Transportation.e)(signal).then((function(res){return res.json()})).then((function(res){setTransportation(res),setIsLoading(!1)})).catch((function(error){setIsLoading(!1),console.log(error)}))};return Object(jsx_runtime.jsx)("div",{className:"transportation",children:Object(jsx_runtime.jsxs)("div",{className:"main-window",children:[Object(jsx_runtime.jsx)(FloatingPlus.a,{linkTo:"/dispatcher/transportation/new",visibility:["ROLE_ADMIN","ROLE_DISPATCHER"]}),Object(jsx_runtime.jsx)("div",{className:"main-window__header main-window__header--full",children:Object(jsx_runtime.jsx)("div",{className:"main-window__title",children:"Реестр транспортировок"})}),Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите название товара для поиска...",setSearchQuery:setSearchQuery}),Object(jsx_runtime.jsx)(ControlPanel.a,{buttons:Object(jsx_runtime.jsx)(Button.a,{text:"Печать списка",inverted:!0,imgSrc:print_default.a,isLoading:isLoading,className:"main-window__button main-window__button--inverted",onClick:function printTransportationList(){var dd=Object(pdfFunctions.g)(Object(sorting.a)(filterTransportation(transportation),{fieldName:"date",direction:"desc"}));Object(pdfFunctions.a)(dd)}}),sorting:sortPanel,itemsCount:"Всего: ".concat(transportation.length," записей"),content:Object(jsx_runtime.jsx)("div",{className:"main-window__info-panel",children:Object(jsx_runtime.jsxs)("div",{className:"transportation__container",children:[Object(jsx_runtime.jsx)("span",{children:"Фильтр по подразделениям"}),Object(jsx_runtime.jsxs)("div",{className:"main-window__filter-pick",children:[Object(jsx_runtime.jsx)("span",{className:"transportation__text",children:"Откуда: "}),workshops.map((function(item,index){if(props.userHasAccess(item.visibility))return Object(jsx_runtime.jsx)("div",{className:item.senderActive?"main-window__button":"main-window__button main-window__button--inverted",onClick:function onClick(){var temp=workshops;temp.splice(index,1,Object.assign({},temp[index],{name:item.name,senderActive:!item.senderActive})),setWorkshops(toConsumableArray_default()(temp))},children:item.name})}))]}),Object(jsx_runtime.jsxs)("div",{className:"main-window__filter-pick",children:[Object(jsx_runtime.jsx)("span",{className:"transportation__text",children:"Куда: "}),workshops.map((function(item,index){if(props.userHasAccess(item.visibility))return Object(jsx_runtime.jsx)("div",{className:item.recipientActive?"main-window__button":"main-window__button main-window__button--inverted",onClick:function onClick(){var temp=workshops;temp.splice(index,1,Object.assign({},temp[index],{name:item.name,recipientActive:!item.recipientActive})),setWorkshops(toConsumableArray_default()(temp))},children:item.name})}))]})]})})}),Object(jsx_runtime.jsx)(Transportation_TableView_TableView,{data:data,searchQuery:searchQuery,isLoading:isLoading,userHasAccess:props.userHasAccess,deleteItem:function deleteItem(id){Object(RequestsAPI_Transportation.b)(id).then((function(){return loadTransportation()}))}}),pagination]})})};Transportation_Transportation_Transportation.displayName="Transportation",Transportation_Transportation_Transportation.__docgenInfo={description:"",methods:[],displayName:"Transportation"};__webpack_exports__.default=Transportation_Transportation_Transportation;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\MainPage\\Dispatcher\\Transportation\\Transportation.jsx"]={name:"Transportation",docgenInfo:Transportation_Transportation_Transportation.__docgenInfo,path:"src\\components\\MainPage\\Dispatcher\\Transportation\\Transportation.jsx"})}}]);