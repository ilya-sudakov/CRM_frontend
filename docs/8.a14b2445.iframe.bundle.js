(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2859:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react_datepicker__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(23),__webpack_require__(165),__webpack_require__(201),__webpack_require__(2882)),react_datepicker__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_4__),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2885),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(2881),__webpack_require__(2864),__webpack_require__(1)),InputDate=function InputDate(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__input_name",children:props.inputName+(props.required?"*":"")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:!0===props.error?"input_date__input_field input_date__input_field--error":"input_date__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_datepicker__WEBPACK_IMPORTED_MODULE_4___default.a,Object.assign({},props,{onChange:props.handleDateChange,disabledKeyboardNavigation:!0,dateFormat:props.showMonthYearPicker?"MM.yyyy":"dd.MM.yyyy",locale:date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__.a}))})]}),!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.name,!1)))}:null,children:"Поле не заполнено!"})]})};InputDate.displayName="InputDate",InputDate.__docgenInfo={description:"",methods:[],displayName:"InputDate",props:{inputName:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},error:{type:{name:"bool"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDateChange:{type:{name:"func"},required:!1,description:""},selected:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""},showMonthYearPicker:{type:{name:"bool"},required:!1,description:""},setErrorsArr:{type:{name:"func"},required:!1,description:""},errorsArr:{type:{name:"object"},required:!1,description:""}}},__webpack_exports__.a=InputDate,InputDate.propTypes={inputName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,handleDateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.instanceOf(Date),readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,showMonthYearPicker:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,setErrorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,errorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/InputDate/InputDate.jsx"]={name:"InputDate",docgenInfo:InputDate.__docgenInfo,path:"src/components/Form/InputDate/InputDate.jsx"})},2864:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2865);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2865:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_date{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_date .input_date__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.input_date .input_date__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_date .input_date__input .input_date__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper{width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker{z-index:999}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker .react-datepicker__day--selected{background-color:#4293b6 !important}.input_date .input_date__input .input_date__input_field .react-datepicker-popper{z-index:999}.input_date .input_date__input .input_date__input_field input[type="text"],.input_date .input_date__input .input_date__input_field input[type="password"]{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;box-sizing:border-box;transition:100ms ease-in-out;min-height:2rem}.input_date .input_date__input .input_date__input_field input[type="text"]:hover,.input_date .input_date__input .input_date__input_field input[type="password"]:hover{border-color:#888888}.input_date .input_date__input .input_date__input_field input[type="text"]:focus,.input_date .input_date__input .input_date__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_date .input_date__input .input_date__input_field--error input[type="text"],.input_date .input_date__input .input_date__input_field--error input[type="password"]{border:1px solid #d48282 !important}.input_date .input_date__input .input_date__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_date .input_date__input{flex-wrap:wrap;flex-direction:column;align-items:flex-start}.input_date .input_date__input .input_date__input_name{width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{width:100%}.input_date .input_date__input .input_date__input_field input{padding:10px !important}}\n',""]),module.exports=exports},2870:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),Assets_sidemenu_plus_inline_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2889),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(2893),__webpack_require__(1)),AddToButton=function AddToButton(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"Добавить":_ref$text,_onClick=_ref.onClick;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"add-to-button",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"add-to-button__link",onClick:function onClick(event){event.preventDefault(),_onClick()},children:[text,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Assets_sidemenu_plus_inline_svg__WEBPACK_IMPORTED_MODULE_1__.a,{className:"add-to-button__img add-to-button__img--plus"})]})})};AddToButton.displayName="AddToButton",AddToButton.__docgenInfo={description:"",methods:[],displayName:"AddToButton",props:{text:{defaultValue:{value:"'Добавить'",computed:!1},required:!1},onClick:{type:{name:"func"},required:!1,description:""}}},__webpack_exports__.a=AddToButton,AddToButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/AddToButton/AddToButton.jsx"]={name:"AddToButton",docgenInfo:AddToButton.__docgenInfo,path:"src/components/Form/AddToButton/AddToButton.jsx"})},2893:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2894);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2894:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.add-to-button__link{display:flex;align-items:center;transition:100ms ease-in-out;color:#777777 !important;border-radius:3px;cursor:pointer;font-size:0.9rem;padding:2px 8px;padding-right:3px;margin-top:2px;width:fit-content;margin-left:10px}.add-to-button__link .add-to-button__img{width:20px;transition:margin-left 200ms ease-in-out}.add-to-button__link .add-to-button__img--plus{margin-left:7px}.add-to-button__link .add-to-button__img--plus path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.add-to-button__link .add-to-button__img--more path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.add-to-button__link:hover{color:#333333 !important}.add-to-button__link:hover .add-to-button__img--more{margin-left:8px}.add-to-button__link:hover .add-to-button__img--more path:first-child{fill:#55a1c1}.add-to-button__link:hover .add-to-button__img--plus path:first-child{fill:#55a1c1}\n",""]),module.exports=exports},2899:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return filterEmployeesBySearchQuery})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getEmployeesByWorkshopListPdfText})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getEmployeesListPdfText}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__(257),__webpack_require__(165),__webpack_require__(672),__webpack_require__(673),__webpack_require__(83),__webpack_require__(475),__webpack_require__(201),__webpack_require__(36),__webpack_require__(51),__webpack_require__(63)),Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2862),filterEmployeesBySearchQuery=function filterEmployeesBySearchQuery(data,searchQuery){var query=searchQuery.toLowerCase();return data.filter((function(item){return null!==item.name&&(item.lastName.toLowerCase().includes(query)||item.name.toLowerCase().includes(query)||item.middleName.toLowerCase().includes(query)||item.id.toString().includes(query)||item.yearOfBirth&&item.yearOfBirth.toString().includes(query)||item.dateOfBirth&&item.dateOfBirth.toString().includes(query)||item.citizenship.toLowerCase().includes(query)||item.workshop.toLowerCase().includes(query)||item.position.toLowerCase().includes(query)||item.comment.toLowerCase().includes(query)||item.relevance.toLowerCase().includes(query))}))},getEmployeesTablePDF=function getEmployeesTablePDF(employeeInfo){return{table:{widths:["*",70,80,120,100],body:[[{text:"ФИО",style:"tableHeader"},{text:"Дата рождения",style:"tableHeader"},{text:"Гражданство",style:"tableHeader"},{text:"Должность",style:"tableHeader"},{text:"",style:"tableHeader"}]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(employeeInfo))}}},getEmployeesByWorkshopListPdfText=function getEmployeesByWorkshopListPdfText(){var employees=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],workshop=arguments.length>1?arguments[1]:void 0,employeesList=[],employeeInfo=[];employees.map((function(item){employeeInfo.push([Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_10__.o)(item),Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_10__.f)(item.yearOfBirth),item.citizenship,item.position,""])})),employeesList.push(getEmployeesTablePDF(employeeInfo));var dd={info:{title:"Список сотрудников - ".concat(workshop)},content:[Object(Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.d)("Список сотрудников ".concat(workshop,"\n"))].concat(employeesList),styles:Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.b};Object(Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.a)(dd)},getEmployeesListPdfText=function getEmployeesListPdfText(employees,workshops){var employeesList=[];workshops.map((function(workshop){employeesList.push(Object(Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.c)("Подразделение",workshop));var employeeInfo=[];employees.map((function(employee){(workshop===employee.workshop&&"Уволен"!==employee.relevance||"Уволенные"===workshop&&"Уволен"===employee.relevance)&&employeeInfo.push([Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_10__.o)(employee),Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_10__.f)(employee.yearOfBirth),employee.citizenship,employee.position,""])})),employeesList.push(getEmployeesTablePDF(employeeInfo))}));var dd={info:{title:"Список сотрудников"},content:[Object(Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.d)("Список сотрудников")].concat(employeesList),styles:Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.b};Object(Utils_pdfFunctions_js__WEBPACK_IMPORTED_MODULE_11__.a)(dd)}},2956:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(257),__webpack_require__(165),__webpack_require__(36),__webpack_require__(51),__webpack_require__(23),__webpack_require__(0)),Utils_hooks__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(472),Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(302),_App__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(135),_functions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2899),Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(63),workshops=[{name:"ЦехЛЭМЗ"},{name:"ЦехЛепсари"},{name:"ЦехЛиговский"},{name:"Офис"},{name:"Уволенные"}],filterEmployees=function filterEmployees(data,workshopItem){return data.filter((function(employee){return workshopItem===employee.workshop&&"Уволен"!==employee.relevance||"Уволенные"===workshopItem&&"Уволен"===employee.relevance}))},sortEmployees=function sortEmployees(data,searchQuery){return Object(Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_8__.a)(Object(_functions__WEBPACK_IMPORTED_MODULE_10__.a)(data,searchQuery),{fieldName:"lastName",direction:"asc"})};__webpack_exports__.a=function TableView(_ref){var isLoading=_ref.isLoading,searchQuery=_ref.searchQuery,employees=_ref.employees,deleteItem=_ref.deleteItem,onSelect=_ref.onSelect,userContext=Object(react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_App__WEBPACK_IMPORTED_MODULE_9__.a),columns=[{text:"Подразделение",value:"name",itemsCount:function itemsCount(item){return"Уволенные"!==item.name?filterEmployees(employees,item.name).length:null}}],nestedColumns=[{text:"ФИО",value:"lastName",formatFn:function formatFn(item){return"".concat(item.lastName," ").concat(item.name," ").concat(item.middleName)}},{text:"Дата рождения",value:"dateOfBirth",formatFn:function formatFn(_ref2){var dateOfBirth=_ref2.dateOfBirth;return Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_11__.f)(dateOfBirth)}},{text:"Гражданство",value:""},{text:"Должность",value:"position"}],data=onSelect?Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return sortEmployees(employees,searchQuery)}),[employees,isLoading,searchQuery]):Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return workshops.map((function(workshop){return Object.assign({},workshop,{employees:sortEmployees(filterEmployees(employees,workshop.name),searchQuery)})}))}),[employees,isLoading,searchQuery]),_useTable=Object(Utils_hooks__WEBPACK_IMPORTED_MODULE_7__.i)({data:data,isLoading:isLoading,onClick:onSelect?function(item){return onSelect(item)}:void 0,columns:onSelect?nestedColumns:columns,actions:onSelect?void 0:function actions(item){return[{onClick:function onClick(){return Object(_functions__WEBPACK_IMPORTED_MODULE_10__.b)(item.employees,item.name)},icon:"print",text:"Печать",isOutside:!0}]},nestedTable:onSelect?void 0:{isLoading:isLoading,columns:nestedColumns,actions:function actionsNested(item){return[{elementType:"edit",title:"Редактирование сотрудника",link:"/dispatcher/employees/edit/".concat(item.id),isRendered:userContext.userHasAccess(["ROLE_ADMIN","ROLE_DISPATCHER","ROLE_ENGINEER","ROLE_WORKSHOP"])},{elementType:"delete",title:"Удаление сотрудника",onClick:function onClick(){return deleteItem(item.id)},isRendered:userContext.userHasAccess(["ROLE_ADMIN"])}]},fieldName:"employees"},options:onSelect?{fullSize:!0}:void 0});return _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useTable,1)[0]}},2976:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(77),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(36),__webpack_require__(165),__webpack_require__(23),__webpack_require__(0)),_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(3015),__webpack_require__(355)),_TableView_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2956),Components_MainWindow_ControlPanel_ControlPanel_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(675),Components_Form_SelectFromButton_SelectFromButton_jsx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2866),Utils_hooks__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(472),_functions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2899),Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(63),Utils_hooks_useEmployeesList__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1039),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1),SelectEmployee=function SelectEmployee(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(null),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState,2),employee=_useState2[0],setEmployee=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(""),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(""),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5,2),fullName=_useState6[0],setFullName=_useState6[1],_useEmployeesList=Object(Utils_hooks_useEmployeesList__WEBPACK_IMPORTED_MODULE_15__.a)(!props.employees),employees=_useEmployeesList.employees,setEmployees=_useEmployeesList.setEmployees,isLoadingEmployees=_useEmployeesList.isLoadingEmployees,_useSort=Object(Utils_hooks__WEBPACK_IMPORTED_MODULE_12__.h)(employees,{sortOrder:{curSort:"lastName",lastName:"asc"},sortOptions:[{value:"lastName asc",text:"По фамилии (А-Я)"},{value:"lastName desc",text:"По фамилии (Я-А)"}],ignoreURL:!0},[employees]),sortedData=_useSort.sortedData,sortPanel=_useSort.sortPanel;Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){if(props.employees&&0===employees.length)return setEmployees(props.employees)}),[props.employees,employees]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var _props$defaultValue;"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(props.defaultValue)&&null!==(_props$defaultValue=props.defaultValue)&&void 0!==_props$defaultValue&&_props$defaultValue.lastName&&setEmployee(props.defaultValue)}),[props.defaultValue]);var _useFormWindow=Object(Utils_hooks__WEBPACK_IMPORTED_MODULE_12__.b)("Выбор сотрудника",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_8__.a,{fullSize:!0,setSearchQuery:setSearchQuery,placeholder:"Введите ФИО сотрудника для поиска..."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Components_MainWindow_ControlPanel_ControlPanel_jsx__WEBPACK_IMPORTED_MODULE_10__.a,{sorting:sortPanel,itemsCount:"Всего: ".concat(employees.length," записей")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_TableView_jsx__WEBPACK_IMPORTED_MODULE_9__.a,{employees:Object(_functions__WEBPACK_IMPORTED_MODULE_13__.a)(sortedData,searchQuery),isLoading:isLoadingEmployees,searchQuery:searchQuery,onSelect:function clickEmployee(employee){var id=employee.id,_fullName=Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_14__.o)(employee);setFullName(_fullName),setEmployee(employee),props.handleEmployeeChange(id,_fullName,employee),toggleFormWindow()}})]})),formWindow=_useFormWindow.formWindow,toggleFormWindow=_useFormWindow.toggleFormWindow;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-employee",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-employee__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-employee__input_name main-form__input_name--header",children:["".concat(props.inputName," ").concat(props.required?"*":""),!props.readOnly&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(Components_Form_SelectFromButton_SelectFromButton_jsx__WEBPACK_IMPORTED_MODULE_11__.a,{text:"Выбрать сотрудника",onClick:function onClick(){return toggleFormWindow()}})]}),employee?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"select-employee__employee-info",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"employee-info__name",children:"".concat(employee.lastName," ").concat(employee.name," ").concat(employee.middleName)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"employee-info__workshop",children:employee.workshop}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"employee-info__position",children:employee.position})]}):(props.defaultValue&&"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(props.defaultValue)||fullName)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"select-employee__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"select-employee__searchbar",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("input",{type:"text",className:!0===props.error?"select-employee__input select-employee__input--error":"select-employee__input",defaultValue:props.defaultValue?props.defaultValue:fullName,placeholder:"Выберите работника, нажав на кнопку 'Выбрать сотрудника'",disabled:!0})})})]}),!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"select-employee__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),formWindow]})};SelectEmployee.displayName="SelectEmployee",SelectEmployee.__docgenInfo={description:"",methods:[],displayName:"SelectEmployee"},__webpack_exports__.a=SelectEmployee,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Dispatcher/Employees/SelectEmployee/SelectEmployee.jsx"]={name:"SelectEmployee",docgenInfo:SelectEmployee.__docgenInfo,path:"src/components/MainPage/Dispatcher/Employees/SelectEmployee/SelectEmployee.jsx"})},3015:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3016);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3016:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-employee{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:25px}.select-employee .select-employee__input{display:flex;width:100%;justify-content:space-between;margin-top:5px;flex-direction:column;align-items:flex-start}.select-employee .select-employee__input .select-employee__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.select-employee .select-employee__input .select-employee__input_field{width:100%}.select-employee .main-form__button{font-size:0.8rem;padding:10px 10px}.select-employee__employee-info{border:1px solid #ccc;padding:5px 15px;border-radius:3px;width:100%;box-sizing:border-box;color:#333333;font-size:1rem}.select-employee__employee-info .employee-info__name{font-size:1.1rem}.select-employee__employee-info .employee-info__workshop{font-size:0.95rem}.select-employee__employee-info .employee-info__position{font-size:0.9rem;color:#777777}.select-employee .select-employee__error{width:100%;margin-top:1px;font-size:0.75rem;box-sizing:border-box;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.select-employee .select-employee__error--hidden{display:none}.select-employee .select-employee__searchbar{display:flex;flex-direction:row;position:relative;min-height:2rem}.select-employee .select-employee__searchbar .select-employee__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;z-index:0;transition:100ms ease-in-out;margin-top:0}.select-employee .select-employee__searchbar .select-employee__input:hover{border-color:#888888}.select-employee .select-employee__searchbar .select-employee__input:focus{border:1px solid #4293b6}.select-employee .select-employee__searchbar .select-employee__input--error{border:1px solid #f73434 !important}.select-employee .select-employee__searchbar .select-employee__search_button{border:0;flex:0 1 15%;background-color:#4293b6;color:#fff;border-top-right-radius:5px;border-bottom-right-radius:5px;outline:none;cursor:pointer;padding:5px 10px;font-size:80%;transition:0.2s ease-in-out}.select-employee .select-employee__searchbar .select-employee__search_button:hover{background-color:#519fc0}.select-employee .tableview-employees{width:100%}@media (max-width: 768px){.select-employee .select-employee__input{flex-wrap:wrap;flex-direction:column;align-items:flex-start}.select-employee .select-employee__input .select-employee__input_name{width:100%;margin-bottom:5px}.select-employee .select-employee__input .select-employee__input_field{width:100%}.select-employee .select-employee__input .select-employee__input_field input{padding:10px !important}}@media (max-width: 500px){.select-employee .select-from-button__link{margin-left:0;padding-left:0}.select-employee .select-employee__input_name{flex-direction:column;justify-content:flex-start;align-items:flex-start}}\n",""]),module.exports=exports},3017:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(257),__webpack_require__(672),__webpack_require__(673),__webpack_require__(83),__webpack_require__(475),__webpack_require__(201),__webpack_require__(0)),Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(1782),__webpack_require__(302)),Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(356),Components_App__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(135),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1),TableView=function TableView(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)(!0),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],userContext=Object(react__WEBPACK_IMPORTED_MODULE_7__.useContext)(Components_App__WEBPACK_IMPORTED_MODULE_11__.a);Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){props.data.length>0&&setIsLoading(!1)}),[props.data]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_10__.a,{columns:[{text:"Название",value:"work"},{text:"Тип",value:"typeOfWork"}],data:function sortWorkItems(data){return function searchQuery(data){var query=props.searchQuery.toLowerCase();return data.filter((function(item){return item.work.toLowerCase().includes(query)||item.id.toString().includes(query)}))}(Object(Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_9__.a)(data,{fieldName:"work",direction:"asc"}))}(props.data),loading:{isLoading:isLoading},actions:props.selectWork?void 0:function actions(item){return[{elementType:"edit",title:"Редактировать работу",link:"/work-list/edit/".concat(item.id)},{elementType:"delete",title:"Удаление работы",onClick:function onClick(){return props.deleteItem(item.id)},isRendered:userContext.userHasAccess(["ROLE_ADMIN"])}]},onClick:props.selectWork?function(_ref){var work=_ref.work,id=_ref.id,typeOfWork=_ref.typeOfWork;return props.selectWork(work,id,typeOfWork)}:void 0,options:props.selectWork?{fullSize:!0}:void 0})};TableView.displayName="TableView",TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"},__webpack_exports__.a=TableView,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/TableView.jsx"]={name:"TableView",docgenInfo:TableView.__docgenInfo,path:"src/components/MainPage/Work/TableView.jsx"})},3096:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return submitWorkData}));var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(134),__webpack_require__(83),__webpack_require__(166),__webpack_require__(154),__webpack_require__(202),__webpack_require__(51),__webpack_require__(23),__webpack_require__(1018),__webpack_require__(165),__webpack_require__(1022),__webpack_require__(674),__webpack_require__(480)),submitWorkData=function(){var _ref=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(worktimeInputs,date,employee,setIsLoading,inputs){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setIsLoading(!0),_context2.next=3,Promise.all(worktimeInputs.works.map(function(){var _ref2=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(item){var temp,originalItem;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return console.log(item),temp=Object.assign({day:date.getDate(),month:date.getMonth()+1,year:date.getFullYear(),employeeId:employee.id,comment:item.comment,workListId:item.workId,hours:item.hours}),_context.next=4,Promise.all(worktimeInputs.originalWorks.map((function(originalWork){var item=worktimeInputs.works.find((function(workItem){return workItem.id===originalWork.id}));if(originalWork.id&&void 0===item)return console.log("deleting element",worktimeInputs),Promise.all(originalWork.product.map((function(product){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(originalWork.id,product.id)}))).then((function(){return Promise.all(originalWork.draft.map((function(draft){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(originalWork.id,draft.partId,draft.partType)})))})).then((function(){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.f)(originalWork.id)}))})));case 4:if(!item.isOld){_context.next=16;break}if(!(originalItem=worktimeInputs.originalWorks.find((function(originalWork){return item.id===originalWork.id})))||item.hours===originalItem.hours&&item.comment===originalItem.comment&&item.workName===originalItem.workName){_context.next=9;break}return _context.next=9,Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.g)(temp,item.id);case 9:Promise.all(originalItem.product.map((function(originalProduct){if(void 0===item.product.find((function(product){return product.id===originalProduct.id})))return console.log("delete product",originalProduct),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(item.id,originalProduct.id)}))),Promise.all(item.product.map((function(product){if(void 0===originalItem.product.find((function(originalProduct){return product.id===originalProduct.id})))return console.log("add product",product),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(item.id,product.productId,product.quantity,{name:product.name})}))),Promise.all(originalItem.product.map((function(originalProduct){var product=item.product.find((function(product){return product.id===originalProduct.id}));if(void 0!==product&&originalProduct.quantity!==Number.parseFloat(product.quantity))return console.log("edit product",item.id,product,originalProduct),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(item.id,product.id).then((function(){var _product$productId,_product$product;return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(item.id,null!==(_product$productId=null==product?void 0:product.productId)&&void 0!==_product$productId?_product$productId:null==product||null===(_product$product=product.product)||void 0===_product$product?void 0:_product$product.id,product.quantity,{name:product.name})}))}))),Promise.all(originalItem.draft.map((function(originalDraft){if(void 0===item.draft.find((function(draft){return draft.id===originalDraft.id})))return console.log("delete draft",originalDraft,originalItem),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(item.id,originalDraft.partId,originalDraft.partType)}))),Promise.all(item.draft.map((function(draft){if(void 0===originalItem.draft.find((function(originalDraft){return draft.id===originalDraft.id})))return console.log("add draft",draft),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(item.id,draft.partId,draft.type,draft.quantity,draft.name)}))),Promise.all(originalItem.draft.map((function(originalDraft){var _originalDraft$partTy,_item$draft$find,draft=item.draft.find((function(draft){return draft.id===originalDraft.id}));if(console.log("edit draft opportunity",originalDraft,draft),void 0!==draft&&originalDraft.quantity!==Number.parseFloat(draft.quantity))return console.log("edit draft success",draft),Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(item.id,originalDraft.partId,null!==(_originalDraft$partTy=originalDraft.partType)&&void 0!==_originalDraft$partTy?_originalDraft$partTy:null===(_item$draft$find=item.draft.find((function(item){return draft.partId===item.id})))||void 0===_item$draft$find?void 0:_item$draft$find.type).then((function(){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(item.id,draft.partId,draft.partType,draft.quantity,draft.name)}))}))),inputs&&inputs.updateSelectedDaysWork(item);case 16:if(item.isOld||null===item.workId||void 0===item.isOld){_context.next=19;break}return console.log("adding item",item),_context.abrupt("return",Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.c)(temp).then((function(res){return res.json()})).then((function(res){return Promise.all(item.product.map((function(product){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(res.id,product.id,product.quantity,{name:product.name})}))),res.id})).then((function(id){return Promise.all(item.draft.map((function(draft){return Object(API_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(id,draft.partId,draft.type,draft.quantity,draft.name)})))})).then((function(){return inputs&&inputs.addSelectedDaysWork(item)})).catch((function(error){alert("Ошибка при добавлении записи"),setIsLoading(!1),console.log(error)})));case 19:case"end":return _context.stop()}}),_callee)})));return function(_x6){return _ref2.apply(this,arguments)}}())).then((function(){setIsLoading(!1)}));case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}),_callee2)})));return function submitWorkData(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}()},3101:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(15),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(18),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(7),slicedToArray_default=__webpack_require__.n(slicedToArray),react=(__webpack_require__(1784),__webpack_require__(1022),__webpack_require__(674),__webpack_require__(36),__webpack_require__(474),__webpack_require__(1016),__webpack_require__(23),__webpack_require__(51),__webpack_require__(83),__webpack_require__(475),__webpack_require__(201),__webpack_require__(0)),select_delete=__webpack_require__(2950),delete_default=__webpack_require__.n(select_delete),SearchBar=(__webpack_require__(3336),__webpack_require__(165),__webpack_require__(3338),__webpack_require__(355)),work_list=__webpack_require__(1037),Work_TableView=__webpack_require__(3017),SelectFromButton=__webpack_require__(2866),hooks=__webpack_require__(472),jsx_runtime=__webpack_require__(1),SelectWorkItem_SelectWorkItem_SelectWorkItem=function SelectWorkItem(props){var _useState=Object(react.useState)([]),_useState2=slicedToArray_default()(_useState,2),works=_useState2[0],setWorks=_useState2[1],_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1],_useState7=Object(react.useState)(""),_useState8=slicedToArray_default()(_useState7,2),fullName=_useState8[0],setFullName=_useState8[1];Object(react.useEffect)((function(){0===works.length&&loadWorks()}),[]);var loadWorks=function loadWorks(){setIsLoading(!0),Object(work_list.d)().then((function(res){return res.json()})).then((function(res){setWorks(res),setIsLoading(!1)})).catch((function(error){console.log(error),setIsLoading(!1)}))},_useFormWindow=Object(hooks.b)("Выбор работы",Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,setSearchQuery:setSearchQuery,placeholder:"Введите название работы для поиска..."}),Object(jsx_runtime.jsx)(Work_TableView.a,{data:works,searchQuery:searchQuery,selectWork:function clickWork(employeeName,employeeId,newWorkType){setFullName(employeeName),props.handleWorkItemChange(employeeName,employeeId,newWorkType),toggleFormWindow()},isLoading:isLoading})]})),formWindow=_useFormWindow.formWindow,toggleFormWindow=_useFormWindow.toggleFormWindow;return Object(jsx_runtime.jsxs)("div",{className:"select-work-item",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work-item__input",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work-item__input_name main-form__input_name--header",children:[props.inputName+(props.required?"*":""),(void 0===props.readOnly||!props.readOnly)&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать тип работы",onClick:function onClick(){return toggleFormWindow()}})]}),(props.defaultValue||fullName)&&Object(jsx_runtime.jsx)("div",{className:"select-work-item__input_field",children:Object(jsx_runtime.jsx)("div",{className:"select-work-item__searchbar",children:Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select-work-item__input select-work-item__input--error":"select-work-item__input",value:props.defaultValue?props.defaultValue:fullName,placeholder:"Выберите работу, нажав на кнопку 'Выбрать тип работы'",disabled:!0})})})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select-work-item__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),formWindow]})};SelectWorkItem_SelectWorkItem_SelectWorkItem.displayName="SelectWorkItem",SelectWorkItem_SelectWorkItem_SelectWorkItem.__docgenInfo={description:"",methods:[],displayName:"SelectWorkItem"};var Work_SelectWorkItem_SelectWorkItem=SelectWorkItem_SelectWorkItem_SelectWorkItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/SelectWorkItem/SelectWorkItem.jsx"]={name:"SelectWorkItem",docgenInfo:SelectWorkItem_SelectWorkItem_SelectWorkItem.__docgenInfo,path:"src/components/MainPage/Work/SelectWorkItem/SelectWorkItem.jsx"});var InputProducts=__webpack_require__(3054),asyncToGenerator=__webpack_require__(37),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),regenerator=__webpack_require__(20),regenerator_default=__webpack_require__.n(regenerator),Table=(__webpack_require__(473),__webpack_require__(301),__webpack_require__(257),__webpack_require__(672),__webpack_require__(673),__webpack_require__(1786),__webpack_require__(134),__webpack_require__(3340),__webpack_require__(3342),__webpack_require__(1782),__webpack_require__(356)),TableView_TableView_TableView=function TableView(_ref){var isLoading=_ref.isLoading,searchQuery=_ref.searchQuery,_ref$drafts=_ref.drafts,drafts=void 0===_ref$drafts?[]:_ref$drafts,setShowWindow=_ref.setShowWindow,closeWindow=_ref.closeWindow,selectDraft=_ref.selectDraft,setCloseWindow=_ref.setCloseWindow,partTypes={Bench:"Станок",Stamp:"Штамп",Press:"Пресс-форма",Detail:"Деталь"},locations={lemz:"ЦехЛЭМЗ",lepsari:"ЦехЛепсари",ligovskiy:"ЦехЛиговский"};Object(react.useEffect)((function(){setShowWindow(!1)}),[closeWindow]);var columns=[{text:"Артикул",value:"number"},{text:"Название",value:"name"},{text:"Местоположение",value:"location",formatFn:function formatFn(_ref2){var location=_ref2.location;return locations[location]}},{text:"Тип",value:"comment",formatFn:function formatFn(_ref3){var type=_ref3.type;return partTypes[type]}}];return Object(jsx_runtime.jsx)(Table.a,{data:function search(){var re=/[.,\s\-_]/gi,query=searchQuery.toLowerCase(),searchArr=query.split(" ");return drafts.filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&!1===item.number.toLowerCase().replace(re,"").includes(query.replace(re,""))&&(check=!1)})),!0===check}))}(),columns:columns,options:{fullSize:!0},loading:{isLoading:isLoading},onClick:function onClick(item){console.log(item),selectDraft(item.id,item.name,item.type,item.number),setCloseWindow(!closeWindow)}})};TableView_TableView_TableView.displayName="TableView",TableView_TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView",props:{drafts:{defaultValue:{value:"[]",computed:!1},required:!1}}};var SelectDraft_TableView_TableView=TableView_TableView_TableView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Dispatcher/Rigging/SelectDraft/TableView/TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView_TableView.__docgenInfo,path:"src/components/MainPage/Dispatcher/Rigging/SelectDraft/TableView/TableView.jsx"});var FormWindow=__webpack_require__(203),rigging=__webpack_require__(1028),SelectDraft_SelectDraft_SelectDraft=function SelectDraft(props){var _useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),searchQueryCategory=_useState4[0],setSearchQueryCategory=_useState4[1],_useState5=Object(react.useState)([]),_useState6=slicedToArray_default()(_useState5,2),selected=_useState6[0],setSelected=_useState6[1],_useState7=Object(react.useState)([]),_useState8=slicedToArray_default()(_useState7,2),drafts=_useState8[0],setDrafts=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),showWindow=_useState10[0],setShowWindow=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),isLoading=_useState12[0],setIsLoading=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),closeWindow=_useState14[0],setCloseWindow=_useState14[1],_useState15=Object(react.useState)(!1),_useState16=slicedToArray_default()(_useState15,2),showOptions=_useState16[0],setShowOptions=_useState16[1],_useState17=Object(react.useState)(!1),_useState18=slicedToArray_default()(_useState17,2),defaultValueLoaded=_useState18[0],setDefaultValueLoaded=_useState18[1];function _loadDrafts(){return(_loadDrafts=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var newDrafts;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:props.drafts?setDrafts(toConsumableArray_default()(props.drafts)):(setIsLoading(!0),newDrafts=[],Object(rigging.i)().then((function(res){return res.json()})).then((function(res){return res.map((function(item){return item.stampParts.map((function(stamp){return newDrafts.push(Object.assign({},stamp,{value:stamp.id,label:"".concat(stamp.number,", ").concat(stamp.name),type:"Stamp"}))}))})),setIsLoading(!1),setDrafts([].concat(newDrafts))})).catch((function(){return setIsLoading(!1)})));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var clickOnOption=function clickOnOption(event){var value=event.currentTarget.getAttribute("name"),id=event.currentTarget.getAttribute("id"),type=event.currentTarget.getAttribute("type"),number=event.currentTarget.getAttribute("number");setShowOptions(!showOptions);var newDraft={partId:id,name:value,number:number,type:type,quantity:0};setSelected([].concat(toConsumableArray_default()(selected),[newDraft])),props.onChange([].concat(toConsumableArray_default()(selected),[newDraft]))},clickOnSelected=function clickOnSelected(event){var id=event.target.getAttribute("id"),newSelected=selected;newSelected.splice(id,1),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},handleParamChange=function handleParamChange(event){var value=event.target.value,name=event.target.getAttribute("name"),id=event.target.getAttribute(name+"_id"),newSelected=selected;newSelected=newSelected.map((function(item,index){return Object.assign({},item,defineProperty_default()({},name,index==id?value:item[name]))})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},pressEscKey=Object(react.useCallback)((function(event){27===event.keyCode&&setShowOptions(!showOptions)}),[]);return Object(react.useEffect)((function(){return void 0===props.defaultValue||defaultValueLoaded||(setSelected(toConsumableArray_default()(props.defaultValue)),setDefaultValueLoaded(!0)),document.addEventListener("keydown",pressEscKey,!1),0===drafts.length&&function loadDrafts(){return _loadDrafts.apply(this,arguments)}(),function(){document.removeEventListener("keydown",pressEscKey,!1)}}),[props.defaultValue,props.categories,showOptions]),Object(jsx_runtime.jsxs)("div",{className:"select-draft",children:[Object(jsx_runtime.jsxs)("div",{className:"select-draft__input_name main-form__input_name--header",children:["Чертежи",!props.readOnly&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать чертеж",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),Object(jsx_runtime.jsx)("div",{className:showOptions?"select-draft__overlay":"select-draft__overlay select-draft__overlay--hidden",onClick:function onClick(){return setShowOptions(!showOptions)}}),!props.readOnly&&!props.workshop&&Object(jsx_runtime.jsxs)("div",{className:"select-draft__searchbar",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select-draft__input select-draft__input--error":"select-draft__input",onChange:function handleInputChange(event){setSearchQuery(event.target.value)},onClick:function onClick(){!props.readOnly&&setShowOptions(!showOptions)},placeholder:"Введите артикул чертежа для поиска...",readOnly:props.readOnly||props.workshop}),Object(jsx_runtime.jsx)(FormWindow.a,{title:"Выбор чертежа",content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите артикул чертежа для поиска...",setSearchQuery:setSearchQueryCategory}),Object(jsx_runtime.jsx)(SelectDraft_TableView_TableView,{drafts:drafts,searchQuery:searchQueryCategory,selectDraft:function selectDraft(id,value,type,number){var newDraft={partId:id,type:type,name:value,number:number,quantity:0};setSelected([].concat(toConsumableArray_default()(selected),[newDraft])),props.onChange([].concat(toConsumableArray_default()(selected),[newDraft]))},closeWindow:closeWindow,setCloseWindow:setCloseWindow,setShowWindow:setShowWindow,isLoading:isLoading})]}),showWindow:showWindow,setShowWindow:setShowWindow})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select-draft__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),props.options&&Object(jsx_runtime.jsx)("div",{className:showOptions?"select-draft__options":"select-draft__options select-draft__options--hidden",children:function search(){var re=/[.,\s\-_]/gi,query=searchQuery.toLowerCase(),searchArr=query.split(" ");return(props.drafts?props.drafts:drafts).filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&!1===item.number.toLowerCase().replace(re,"").includes(query.replace(re,""))&&(check=!1)})),!0===check}))}().map((function(item,index){return Object(jsx_runtime.jsx)("div",{id:item.id,type:item.type,number:item.number,optionId:index,name:item.name,className:"select-draft__option_item",onClick:clickOnOption,children:Object(jsx_runtime.jsx)("div",{children:item.number+", "+item.name})},index)}))}),Object(jsx_runtime.jsx)("div",{className:"select-draft__selected",children:selected.map((function(item,index){return Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_row",children:[Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_item",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:"select-draft__selected_name",name_id:index,name:"name",autoComplete:"off",readOnly:!0,value:"".concat(item.number||"",", ").concat(item.name),onChange:"new"===item.type?handleParamChange:null}),!props.readOnly&&!props.workshop&&Object(jsx_runtime.jsx)("img",{id:index,className:"select-draft__img",src:delete_default.a,alt:"",onClick:clickOnSelected})]}),Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_quantity",children:[Object(jsx_runtime.jsxs)("span",{className:"select-draft__input-name",children:["Кол-во (шт.)",!props.readOnly&&"*"]}),Object(jsx_runtime.jsx)("input",{quantity_id:index,type:"number",name:"quantity",autoComplete:"off",defaultValue:0!=item.quantity?item.quantity:0,value:item.quantity,onChange:handleParamChange,readOnly:props.readOnly})]})]},index)}))})]})};SelectDraft_SelectDraft_SelectDraft.displayName="SelectDraft",SelectDraft_SelectDraft_SelectDraft.__docgenInfo={description:"",methods:[],displayName:"SelectDraft"};var Rigging_SelectDraft_SelectDraft=SelectDraft_SelectDraft_SelectDraft;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Dispatcher/Rigging/SelectDraft/SelectDraft.jsx"]={name:"SelectDraft",docgenInfo:SelectDraft_SelectDraft_SelectDraft.__docgenInfo,path:"src/components/MainPage/Dispatcher/Rigging/SelectDraft/SelectDraft.jsx"});var App=__webpack_require__(135),AddToButton=__webpack_require__(2870),useMessageForUser=__webpack_require__(1061),SelectWork_SelectWork_SelectWork=function SelectWork(props){var _props$defaultConfig,_useState=Object(react.useState)(null!==(_props$defaultConfig=props.defaultConfig)&&void 0!==_props$defaultConfig?_props$defaultConfig:[]),_useState2=slicedToArray_default()(_useState,2),selected=_useState2[0],setSelected=_useState2[1],userContext=Object(react.useContext)(App.a),_useState3=Object(react.useState)(0),_useState4=slicedToArray_default()(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1],_useMessageForUser=Object(useMessageForUser.a)({title:"Удаление элемента",message:"Вы действительно хотите удалить этот элемент?",onClick:function onClick(){return deletePart(selectedIndex)},buttonText:"ОК"}),messageForUser=_useMessageForUser.messageForUser,showMessage=_useMessageForUser.showMessage,setShowMessage=_useMessageForUser.setShowMessage;Object(react.useEffect)((function(){if(void 0!==props.defaultValue){setSelected(toConsumableArray_default()(props.defaultValue));var total=props.defaultValue.reduce((function(sum,cur){return sum+Number.parseFloat(cur.hours)}),0);if(!props.setTotalHours)return;isNaN(total)?props.setTotalHours(0):props.setTotalHours(total)}}),[props.defaultValue,props.options,props.products]);var deletePart=function deletePart(id){var temp=selected;temp.splice(id,1),setSelected(toConsumableArray_default()(temp));var total=temp.reduce((function(sum,cur){return sum+Number.parseFloat(cur.hours)}),0);props.setTotalHours&&(isNaN(total)?props.setTotalHours(0):props.setTotalHours(total),props.handleWorkChange(toConsumableArray_default()(temp)))},handleInputChange=function handleInputChange(event){var id=event.target.getAttribute("index"),name=event.target.getAttribute("name"),value=event.target.value,curSum=selected.reduce((function(sum,cur,curIndex){return Number.parseInt(id)===curIndex?sum:Math.floor(10*(sum+Number.parseFloat(cur.hours)))/10}),0);"hours"===name&&curSum+(value=Number.parseFloat(event.target.value)>12?12:""===event.target.value?0:Number.parseFloat(event.target.value))>12&&(value=Math.floor(10*(12-curSum))/10);var temp=selected,originalItem=selected[id];temp.splice(id,1,Object.assign({},originalItem,defineProperty_default()({},name,value))),props.setTotalHours&&("hours"===name&&(isNaN(curSum)?props.setTotalHours(0):props.setTotalHours(curSum+value)),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp)))};return Object(jsx_runtime.jsxs)("div",{className:"select-work",children:[messageForUser,Object(jsx_runtime.jsxs)("div",{className:"main-form__item",children:[Object(jsx_runtime.jsxs)("div",{className:"main-form__input_name main-form__input_name--header",children:["Работы*",!props.readOnly&&!props.noNewItems&&Object(jsx_runtime.jsx)(AddToButton.a,{text:"Добавить работу",onClick:function handleNewPart(){var newPart={product:[],draft:[],workName:"",workType:"",workId:null,hours:0,comment:"",isOld:!1};setSelected([].concat(toConsumableArray_default()(selected),[newPart])),props.handleWorkChange([].concat(toConsumableArray_default()(selected),[newPart]))}})]}),Object(jsx_runtime.jsx)("div",{className:"main-form__input_field",children:Object(jsx_runtime.jsx)("div",{className:"select-work__selected",children:selected.map((function(item,index){return Object(jsx_runtime.jsxs)("div",{className:!props.readOnly&&selected.length>1?"select-work__selected_item select-work__selected_item--minimized":"select-work__selected_item",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work__selected_form",children:[Object(jsx_runtime.jsx)(Work_SelectWorkItem_SelectWorkItem,{inputName:"Выбор работы",required:!0,defaultValue:item.workName,id:index,handleWorkItemChange:function handleWorkItemChange(name,id,type){console.log(name,id,type);var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{workType:type,workName:name,workId:id})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},userHasAccess:userContext.userHasAccess,workItems:props.workItems,readOnly:props.readOnly}),"Продукция"===selected[index].workType||void 0===selected[index].workType||"Продукция"===selected[index].typeOfWork?Object(jsx_runtime.jsx)("div",{className:"select-work__item select-work__item--products",children:Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)(InputProducts.a,{inputName:"Продукция",options:!0,defaultValue:item.product,categories:props.categories,products:props.products,numberInput:!0,name:"product",noPackaging:!0,onChange:function onChange(value){var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{product:value})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},userHasAccess:userContext.userHasAccess,searchPlaceholder:"Введите название продукта для поиска..."})})}):"Чертеж"===selected[index].workType?Object(jsx_runtime.jsx)(Rigging_SelectDraft_SelectDraft,{options:!0,defaultValue:item.draft,onChange:function onChange(value){var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{draft:value})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},searchPlaceholder:"Добавьте чертеж нажав на кнопку 'Добавить чертеж'",userHasAccess:userContext.userHasAccess}):null,!props.noComment&&Object(jsx_runtime.jsxs)("div",{className:"select-work__item select-work__item--comment",children:[Object(jsx_runtime.jsx)("div",{className:"select-work__input_name",children:"Комментарий (необязательно)"}),Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)("textarea",{type:"text",name:"comment",index:index,autoComplete:"off",onChange:handleInputChange,value:item.comment,readOnly:props.readOnly})})]}),!props.noTime&&Object(jsx_runtime.jsxs)("div",{className:"select-work__item select-work__item--time",children:[Object(jsx_runtime.jsx)("div",{className:"select-work__input_name",children:"Часы"}),Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)("input",{type:"number",name:"hours",index:index,autoComplete:"off",onChange:handleInputChange,value:item.hours.toString(),readOnly:props.readOnly})}),!props.readOnly&&selected.length>1&&Object(jsx_runtime.jsx)("img",{index:index,onClick:deletePart,className:"select-work__img select-work__img--new",src:delete_default.a})]})]}),!props.readOnly&&selected.length>1&&Object(jsx_runtime.jsx)("img",{onClick:function onClick(){setSelectedIndex(index),setShowMessage(!showMessage)},className:"select-work__img",src:delete_default.a})]},index)}))})})]})]})};SelectWork_SelectWork_SelectWork.displayName="SelectWork",SelectWork_SelectWork_SelectWork.__docgenInfo={description:"",methods:[],displayName:"SelectWork"};__webpack_exports__.a=SelectWork_SelectWork_SelectWork;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/SelectWork/SelectWork.jsx"]={name:"SelectWork",docgenInfo:SelectWork_SelectWork_SelectWork.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/SelectWork/SelectWork.jsx"})},3336:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3337);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3337:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-work{width:calc(100% - 20px);position:relative}.select-work .main-form__item{width:100%}.select-work .main-form__input_name{margin-bottom:0 !important}.select-work .select-work__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-work .select-work__overlay--hidden{display:none}.select-work .select-draft{margin-bottom:15px}.select-work .select-draft__input_name{color:#666666;font-size:1rem;margin-bottom:3px}.select-work__selected{width:100%}.select-work .select-work-item{margin-bottom:5px}.select-work .select-work-item__input_field{font-size:0.9rem}.select-work .input_products{width:100%;margin-top:10px;font-size:95%;margin-bottom:5px}.select-work .input_products .input_products__input_name{font-size:85%}.select-work .input_products .select__input{min-height:1.25rem !important}.select-work .input_products .select .select__selected_row input{min-width:100% !important}.select-work .input_products .select__input{box-sizing:content-box;width:calc(100% - 20px);min-width:0 !important}.select-work__selected_item{background-color:#eeeeee;border-radius:3px;padding:0px 15px;margin-top:5px;width:calc(100% - 30px);position:relative;transition:0.2s ease-in-out;background-color:#eeeeee;border:1px solid #cccccc}.select-work__selected_item--minimized{width:calc(100% - 80px)}.select-work__selected_item:first-child{margin-top:5px}.select-work__selected_item .select-work__img{position:absolute;right:-35px;cursor:pointer;top:25%}.select-work__selected_item .select-work__img--new{right:-30px}.select-work__selected_item .select-work__selected_header{display:flex;cursor:pointer;padding:10px 0px}.select-work__selected_item .select-work__selected_header .select-work__selected_name{flex:0 1 33.3%}.select-work__selected_item .select-work__selected_header .select-work__selected_name span{font-size:70%}.select-work__selected_item .select-work__selected_form{transform-origin:0 0;height:100%;width:calc(100%);padding:15px 0;transition:0.2s ease-in-out;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.select-work__selected_item .select-work__selected_form--hidden{transform:scaleY(0);height:0;padding:0}.select-work__selected_item .select-work__selected_form .select-work__item{width:calc(100% - 0px);margin:0 auto;display:flex;justify-content:space-between;margin-top:5px;flex-direction:column;align-items:flex-start}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_name{color:#666666;flex:0 1 20%;font-size:85%;margin-bottom:3px;width:100%}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field{flex:0 1 80%;width:100%}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field>input,.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field textarea{font-size:80%;width:calc(100% - 20px - 2px);border-radius:3px;min-width:fit-content}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field>textarea{max-width:calc(100% - 22px);min-width:calc(100% - 22px);outline:none;min-height:50px;resize:none;transition:100ms ease-in-out}.select-work__selected_item .select-work__selected_form .select-work__item--comment,.select-work__selected_item .select-work__selected_form .select-work__item--time{position:relative}.select-work__selected_item .select-work__selected_form .select-work__item--comment .select-work__input_name,.select-work__selected_item .select-work__selected_form .select-work__item--time .select-work__input_name{color:#888888;flex:0 1 20%;font-size:80%;position:absolute;top:4px;left:5px;padding:0 5px;border-radius:3px;font-size:0.85rem;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea,.select-work__selected_item .select-work__selected_form .select-work__item--comment input,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea,.select-work__selected_item .select-work__selected_form .select-work__item--time input{padding-top:22px;padding-bottom:7px;border:1px solid #cccccc;width:100%;padding:5px 10px;padding-top:22px;padding-bottom:7px;border-radius:3px;font-size:0.9rem;transition:100ms ease-in-out;min-width:0;max-width:100%}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea:hover,.select-work__selected_item .select-work__selected_form .select-work__item--comment input:hover,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea:hover,.select-work__selected_item .select-work__selected_form .select-work__item--time input:hover{border:1px solid #aaaaaa}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea:focus,.select-work__selected_item .select-work__selected_form .select-work__item--comment input:focus,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea:focus,.select-work__selected_item .select-work__selected_form .select-work__item--time input:focus{border:1px solid #4293b6}.select-work .main-form__button{font-size:0.8rem;padding:10px 10px}.select-work__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:5px;z-index:2}.select-work__input:focus{border:1px solid #4293b6}@media (max-width: 768px){.select-work{width:100% !important}.select-work .select-work__selected_form .select-work__item{flex-direction:column}.select-work .select-work__selected_form .select-work__item .select-work__input_name{width:100%;margin-bottom:5px}.select-work .select-work__selected_form .select-work__item .select-work__input_field{width:100%;max-width:none}}@media (max-width: 500px){.select-work .add-to-button__link{margin-left:0;padding-left:0}.select-work .main-form__input_name--header{flex-direction:column;align-items:flex-start}.select-work .select-work__selected_form .select-from-button__link{margin-left:0;padding-left:0}}\n",""]),module.exports=exports},3338:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3339);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3339:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-work-item{width:calc(100% - 0px);display:flex;flex-direction:column;justify-content:space-between}.select-work-item--new .select-work-item__input_name{position:absolute;top:-11px;left:6px;z-index:1;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select-work-item--new input{max-width:none !important;min-width:0 !important}.select-work-item .searchbar{margin-bottom:0}.select-work-item .select-work-item__input{display:flex;width:calc(100% - 0px);justify-content:space-between;position:relative;flex-direction:column;align-items:flex-start}.select-work-item .select-work-item__input .select-work-item__input_name{color:#666;font-size:1rem;flex:0 1 20%;width:100%;margin-bottom:0px}.select-work-item .select-work-item__input .select-work-item__input_field{width:100%;font-size:0.85rem !important}.select-work-item .select-work-item__error{width:80%;align-self:flex-end;margin-top:1px;font-size:0.75rem;background-color:#f73434;color:#ffffff;border-radius:5px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.select-work-item .select-work-item__error--hidden{display:none}.select-work-item .select-work-item__searchbar{display:flex;flex-direction:row;position:relative;width:calc(100% - 0px);margin-top:5px}.select-work-item .select-work-item__searchbar .select-work-item__input{border:1px solid #bbbbbb;flex:0 1 100%;padding:5px 10px;border-radius:3px;z-index:0;min-width:0 !important}.select-work-item .select-work-item__searchbar .select-work-item__input:focus{border:1px solid #4293b6}.select-work-item .select-work-item__searchbar .select-work-item__input--error{border:1px solid #f73434 !important}.select-work-item .main-form__button{font-size:0.8rem}@media (max-width: 768px){.select-work-item .select-work-item__input{flex-wrap:wrap;flex-direction:column}.select-work-item .select-work-item__input .select-work-item__input_name{width:100%;margin-bottom:5px}.select-work-item .select-work-item__input .select-work-item__input_field{width:100%}}\n",""]),module.exports=exports},3340:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3341);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3341:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-draft{width:100%;position:relative;margin-top:5px}.select-draft__buttons{flex-direction:row}.select-draft__buttons .select-draft__search_button{margin-right:5px}.select-draft .select-draft__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-draft .select-draft__overlay--hidden{display:none}.select-draft__error{width:calc(100% - 20px);margin-top:1px;font-size:0.75rem;background-color:#f73434;color:#ffffff;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out}.select-draft__error--hidden{display:none}.select-draft__searchbar{display:flex;flex-direction:column;position:relative}.select-draft__searchbar .select-draft__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px !important;z-index:0;font-size:80% !important}.select-draft__searchbar .select-draft__input:focus{border:1px solid #4293b6}.select-draft__searchbar .select-draft__input--error{border:1px solid #f73434 !important}.select-draft__searchbar .select-draft__search_button{border:0;border-radius:3px;width:fit-content;background-color:#4293b6;color:#fff;outline:none;cursor:pointer;padding:10px 10px;font-size:70%;transition:0.2s ease-in-out;margin-bottom:5px}.select-draft__searchbar .select-draft__search_button:hover{background-color:#519fc0}.select-draft__searchbar .tableview_products{width:100%}.select-draft__options{position:absolute;width:100%;max-height:200px;overflow-y:auto;background-color:#fff;display:flex;flex-direction:column;font-size:80%;z-index:2;transform:scaleX(1);transition:0.1s ease-in-out;box-shadow:0 4px 4px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);transform-origin:0 0;padding:4px 0}.select-draft__options--hidden{transform:scaleY(0)}.select-draft__options .select-draft__img{max-width:50px;border-radius:2.5px;margin-right:10px}.select-draft__options .select-draft__option_item{padding:15px 10px;cursor:pointer;background-color:#ffffff;transition:0.1s ease-in-out;display:flex;flex-direction:row;align-items:center}.select-draft__options .select-draft__option_item:hover{color:#fff;background-color:#4293b6}.select-draft .searchbar{margin-bottom:0}.select-draft__selected{display:flex;flex-direction:column}.select-draft__selected_photo{max-width:50px;max-height:50px;margin-right:10px;border-radius:5px}.select-draft__selected_title{margin-top:10px;margin-left:15px;font-size:85%;color:#666}.select-draft__selected_row{display:flex;flex-direction:row;justify-content:space-between;margin-top:12px;font-size:0.9rem}.select-draft__selected_row:first-of-type{margin-top:12px}.select-draft__selected_row .select-draft__selected_item{display:flex;padding:0px 0px;border-radius:3px;width:calc(60% - 30px);margin-right:50px;position:relative;font-size:90%;align-items:center;border:1px solid #bbbbbb;transition:100ms ease-in-out;cursor:pointer;background-color:#ffffff;color:#333333}.select-draft__selected_row .select-draft__selected_item:hover{border-color:#999999}.select-draft__selected_row .select-draft__selected_item:last-child{margin-bottom:0}.select-draft__selected_row .select-draft__selected_item .select-draft__img{position:absolute;left:calc(100% + 10px);width:25px;border-radius:105px}.select-draft__selected_row .select-draft__selected_item .select-draft__selected_name{width:100%;height:fit-content;padding:10px 5px;border:none !important;cursor:pointer}.select-draft__selected_row .select-draft__selected_quantity,.select-draft__selected_row .select-draft__selected_packaging{width:calc(40% - 0px);display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:90%;box-sizing:border-box;position:relative}.select-draft__selected_row .select-draft__selected_quantity .select-draft__input-name,.select-draft__selected_row .select-draft__selected_packaging .select-draft__input-name{position:absolute;top:-7px;left:6px;z-index:1;background-color:#ffffff;padding:0 5px;color:#777777;white-space:nowrap;border-radius:3px}.select-draft__selected_row .select-draft__selected_quantity input[type="text"],.select-draft__selected_row .select-draft__selected_quantity input[type="number"],.select-draft__selected_row .select-draft__selected_quantity textarea,.select-draft__selected_row .select-draft__selected_packaging input[type="text"],.select-draft__selected_row .select-draft__selected_packaging input[type="number"],.select-draft__selected_row .select-draft__selected_packaging textarea{border:1px solid #bbbbbb;font-size:110%;width:100%;min-width:100px;display:flex;padding:10px 10px;border-radius:3px;outline:none;position:relative;align-items:center;transition:100ms ease-in-out;z-index:0;padding-top:10px;box-sizing:border-box;color:#333333;height:auto;max-width:none}.select-draft__selected_row .select-draft__selected_quantity input[type="text"]:focus,.select-draft__selected_row .select-draft__selected_quantity input[type="number"]:focus,.select-draft__selected_row .select-draft__selected_quantity textarea:focus,.select-draft__selected_row .select-draft__selected_packaging input[type="text"]:focus,.select-draft__selected_row .select-draft__selected_packaging input[type="number"]:focus,.select-draft__selected_row .select-draft__selected_packaging textarea:focus{border:1px solid #4293b6}.select-draft__selected .select-draft__selected_item--completed{background-color:#5ea76e}.select-draft__selected .select-draft__selected_item--completed:hover{background-color:#539862}.select-draft__selected .select-draft__selected_item--defect{background-color:#c48681}.select-draft__selected .select-draft__selected_item--defect:hover{background-color:#bc7570}.select-draft__selected .select-draft__selected_item--production{background-color:#87a8b6}.select-draft__selected .select-draft__selected_item--production:hover{background-color:#779dac}.select-draft--new{padding-right:10px;box-sizing:border-box;margin-top:0;margin-bottom:0 !important;display:flex;flex-direction:row-reverse;align-items:flex-start;justify-content:space-between}.select-draft--new button{border-color:transparent;font-size:28px;color:#888;cursor:pointer;background-color:transparent;line-height:1rem;margin-top:4px;margin-right:0 !important}.select-draft--new .select-draft__input_name{position:absolute;top:-11px;left:6px;z-index:1;color:#555555;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select-draft--new input{max-width:none !important;min-width:0 !important}.select-draft--new .select-draft__selected{margin-top:0px;margin-bottom:10px;margin-right:6px;width:100%}.select-draft--new .select-draft__selected .select-draft__selected_row{align-items:flex-start;margin-top:0}.select-draft--new .select-draft__selected .select-draft__selected_row:not(:first-child){margin-top:8px}.select-draft--new .select-draft__selected_item{width:100%}.select-draft--new .select-draft__selected_item input{font-size:0.9rem !important;height:3rem !important;max-height:1.6rem !important}.select-draft--new .select-draft__img{max-width:21px}.select-draft--new .select-draft__selected_quantity{margin-right:0;width:calc(30%);min-width:110px;max-width:125px}.select-draft--new .select-draft__selected_quantity input{min-width:100% !important;height:2.25rem !important;box-sizing:border-box;border-radius:3px !important}.select-draft--new .select-draft__input_field{font-size:0.85rem}.select-draft--readonly .select-draft__input .select-draft__input_name{border-radius:5px}.select-draft--readonly .select-draft__selected .select-draft__selected_row:first-child{margin-top:0px !important}.select-draft--readonly .select-draft__selected .select-draft__selected_row .select-draft__selected_item .select-draft__selected_name{height:3rem !important;max-height:1.5rem !important}.select-draft--readonly .select-draft__selected .select-draft__selected_row .select-draft__selected_quantity input{height:3rem !important;max-height:2.3rem !important}@media (max-width: 768px){.select-draft{width:100% !important}}@media (max-width: 576px){.select-draft{width:100% !important}.select-draft__selected_row{flex-direction:column;margin-top:20px}.select-draft__selected_row .select-draft__selected_item{width:calc(100% - 40px)}.select-draft__selected_row .select-draft__selected_packaging,.select-draft__selected_row .select-draft__selected_quantity{margin-top:12.5px;width:100%}.select-draft__selected_row .select-draft__selected_packaging input,.select-draft__selected_row .select-draft__selected_quantity input{width:100%}}\n',""]),module.exports=exports},3342:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3343);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3343:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-drafts__list{width:calc(100% + 30px);margin-left:-15px}.select-drafts__list .main-window__list .main-window__list-item{cursor:pointer}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(1){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(2){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(3){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(4){flex:0 1 15%}@media (max-width: 768px){.select-drafts__list .main-window__actions{display:none}}\n",""]),module.exports=exports}}]);