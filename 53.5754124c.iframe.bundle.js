(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{2647:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(282),__webpack_require__(40),__webpack_require__(2)),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(2649),__webpack_require__(1)),InputText=function InputText(_ref){var inputName=_ref.inputName,required=_ref.required,error=_ref.error,type=_ref.type,name=_ref.name,handleInputChange=_ref.handleInputChange,defaultValue=_ref.defaultValue,readOnly=_ref.readOnly,disabled=_ref.disabled,setErrorsArr=_ref.setErrorsArr,errorsArr=_ref.errorsArr;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"input_text",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"input_text__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"input_text__input_name",children:inputName+(required?"*":"")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:!0===error?"input_text__input_field input_text__input_field--error":"input_text__input_field",children:"textarea"===type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("textarea",{name:name,autoComplete:"off",onChange:handleInputChange,value:defaultValue,readOnly:readOnly,disabled:disabled}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("input",{type:type||"text",name:name,autoComplete:"off",onChange:handleInputChange,value:defaultValue,readOnly:readOnly,disabled:disabled})})]}),error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"input_text__error",onClick:setErrorsArr?function(){return setErrorsArr(Object.assign({},errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},name,!1)))}:null,children:"Поле не заполнено!"})]})};InputText.displayName="InputText",InputText.__docgenInfo={description:"",methods:[],displayName:"InputText",props:{inputName:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},error:{type:{name:"bool"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleInputChange:{type:{name:"func"},required:!1,description:""},defaultValue:{type:{name:"string"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},setErrorsArr:{type:{name:"func"},required:!1,description:""},errorsArr:{type:{name:"object"},required:!1,description:""}}},__webpack_exports__.a=InputText,InputText.propTypes={inputName:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,error:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,handleInputChange:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,setErrorsArr:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,errorsArr:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputText\\InputText.jsx"]={name:"InputText",docgenInfo:InputText.__docgenInfo,path:"src\\utils\\Form\\InputText\\InputText.jsx"})},2649:function(module,exports,__webpack_require__){var api=__webpack_require__(47),content=__webpack_require__(2650);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2650:function(module,exports,__webpack_require__){(exports=__webpack_require__(48)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_text{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_text .input_text__error{width:100%;margin-top:1px;font-size:0.75rem;box-sizing:border-box;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.input_text .input_text__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_text .input_text__input .input_text__input_name{color:#666;padding-right:10px;flex:0 1 calc(20% - 10px);width:100%;margin-bottom:5px}.input_text .input_text__input .input_text__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;min-height:2rem;width:100%}.input_text .input_text__input .input_text__input_field input[type="text"],.input_text .input_text__input .input_text__input_field input[type="password"],.input_text .input_text__input .input_text__input_field input[type="number"],.input_text .input_text__input .input_text__input_field textarea{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;transition:100ms ease-in-out;box-sizing:border-box}.input_text .input_text__input .input_text__input_field input[type="text"]:hover,.input_text .input_text__input .input_text__input_field input[type="password"]:hover,.input_text .input_text__input .input_text__input_field input[type="number"]:hover,.input_text .input_text__input .input_text__input_field textarea:hover{border-color:#888888}.input_text .input_text__input .input_text__input_field input[type="text"]:focus,.input_text .input_text__input .input_text__input_field input[type="password"]:focus,.input_text .input_text__input .input_text__input_field input[type="number"]:focus,.input_text .input_text__input .input_text__input_field textarea:focus{border:1px solid #4293b6}.input_text .input_text__input .input_text__input_field input::-webkit-outer-spin-button,.input_text .input_text__input .input_text__input_field input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input_text .input_text__input .input_text__input_field textarea{min-width:calc(100% - 20px);outline:none;min-height:100px;max-height:150px;resize:vertical}.input_text .input_text__input .input_text__input_field input[type="number"]{-moz-appearance:textfield}.input_text .input_text__input .input_text__input_field--error input[type="text"],.input_text .input_text__input .input_text__input_field--error input[type="number"],.input_text .input_text__input .input_text__input_field--error input[type="password"],.input_text .input_text__input .input_text__input_field--error textarea{border:1px solid #d48282 !important}@media (max-width: 768px){.input_text .input_text__input{flex-wrap:wrap;align-items:flex-start;flex-direction:column}.input_text .input_text__input .input_text__input_name{width:100%;margin-bottom:5px}.input_text .input_text__input .input_text__input_field{width:calc(100% - 0px)}.input_text .input_text__input .input_text__input_field input{padding:10px !important}}\n',""]),module.exports=exports},2674:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return getClients})),__webpack_require__.d(__webpack_exports__,"j",(function(){return searchClients})),__webpack_require__.d(__webpack_exports__,"d",(function(){return editNextContactDateClient})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getClientsByCategoryAndType})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getClientById})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addClient})),__webpack_require__.d(__webpack_exports__,"c",(function(){return editClient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteClient})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getInfoByINN})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getBIKByINN}));__webpack_require__(2678),__webpack_require__(632),__webpack_require__(241);var axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(991),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(633);function getClients(elements){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"http://localhost:8443/api/v1/client/?size="+elements,method:"GET"})}function searchClients(query,fields){var formattedFields=fields.filter((function(cur){return""!==cur&&cur})).join("&");return console.log("formatted",formattedFields,fields),Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"".concat("http://localhost:8443","/api/v1/client/search/").concat(formattedFields&&""!==formattedFields?"".concat(formattedFields,"/"):""),method:"POST",body:JSON.stringify(query)})}function editNextContactDateClient(date){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"http://localhost:8443/api/v1/client/date/",method:"POST",body:JSON.stringify(date)})}function getClientsByCategoryAndType(category_type,curPage,itemsPerPage,sortOrder,signal){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"http://localhost:8443/api/v1/client/category_type/client/?page="+(curPage-1)+"&sort="+sortOrder.curSort+","+sortOrder[sortOrder.curSort]+"&size="+itemsPerPage,method:"POST",body:JSON.stringify(category_type),signal:signal})}function getClientById(id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"http://localhost:8443/api/v1/client/"+id,method:"GET"})}function addClient(newClient){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.a)();return axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("".concat("http://localhost:8443","/api/v1/client"),newClient,headers)}function editClient(newClient,id){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.a)();return axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("".concat("http://localhost:8443","/api/v1/client/").concat(id),newClient,headers)}function deleteClient(id){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.b)({url:"http://localhost:8443/api/v1/client/"+id,method:"DELETE"})}function getInfoByINN(INN){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.c)({url:"https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party",method:"POST",body:JSON.stringify(INN)})}function getBIKByINN(INN){return Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_4__.c)({url:"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/bank",method:"POST",body:JSON.stringify(INN)})}},2678:function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(18),IndexedObject=__webpack_require__(637),toIndexedObject=__webpack_require__(183),arrayMethodIsStrict=__webpack_require__(990),nativeJoin=[].join,ES3_STRINGS=IndexedObject!=Object,STRICT_METHOD=arrayMethodIsStrict("join",",");$({target:"Array",proto:!0,forced:ES3_STRINGS||!STRICT_METHOD},{join:function join(separator){return nativeJoin.call(toIndexedObject(this),void 0===separator?",":separator)}})},2732:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return getLTDList})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getLTDById})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addLTD})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteLTD}));__webpack_require__(241);var _utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(633),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(991),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);function getLTDList(){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_1__.a)();return axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("".concat("http://localhost:8443","/api/v1/plc/"),headers)}function getLTDById(id){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_1__.a)();return axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("".concat("http://localhost:8443","/api/v1/plc/").concat(id),headers)}function addLTD(newLtd){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_1__.a)();return axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("".concat("http://localhost:8443","/api/v1/plc/"),newLtd,headers)}function deleteLTD(id){var headers=Object(_utilsAPI_jsx__WEBPACK_IMPORTED_MODULE_1__.a)();return axios__WEBPACK_IMPORTED_MODULE_2___default.a.delete("".concat("http://localhost:8443","/api/v1/plc/").concat(id),headers)}},2890:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fetchINNData})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getInputsListFromArray}));__webpack_require__(40),__webpack_require__(282),__webpack_require__(213);var Utils_Form_InputText_InputText_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2647),Utils_RequestsAPI_Clients_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2674),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),fetchINNData=function fetchINNData(inputs,setIsLoading,setFormInputs){setIsLoading(!0);var formData={};Object(Utils_RequestsAPI_Clients_jsx__WEBPACK_IMPORTED_MODULE_4__.i)({query:inputs.inn,branch_type:"MAIN"}).then((function(res){return res.json()})).then((function(res){if(res.suggestions.length>0){var _data$management;console.log(res);var data=res.suggestions[0].data;return formData=Object.assign(Object.assign({},inputs,{name:data.name.full,shortName:data.name.short,kpp:data.kpp,okpo:data.okpo,okved:data.okved,ogrn:data.ogrn,legalAddress:data.address.value,generalDirector:null===(_data$management=data.management)||void 0===_data$management?void 0:_data$management.name}))}return null})).then((function(newData){null!==newData?Object(Utils_RequestsAPI_Clients_jsx__WEBPACK_IMPORTED_MODULE_4__.e)({query:formData.name}).then((function(res){return res.json()})).then((function(res){console.log(res),setIsLoading(!1),setFormInputs(Object.assign({},formData,{bik:res.suggestions.length>0?res.suggestions[0].data.bic:""})),setIsLoading(!1)})):(alert("Не найдено данных с данным ИНН"),setIsLoading(!1))}))},ltdFormCreateInput=function ltdFormCreateInput(options,errors,inputs){var _options$required;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Utils_Form_InputText_InputText_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{inputName:options.inputName,required:null!==(_options$required=options.required)&&void 0!==_options$required&&_options$required,error:options.required?errors.formErrors[options.name]:void 0,defaultValue:inputs.formInputs[options.name],handleInputChange:function handleInputChange(_ref){var target=_ref.target;return inputs.handleInputChange(options.name,target.value)},errorsArr:options.required?errors.formErrors:void 0,setErrorsArr:options.required?errors.setFormErrors:void 0})};ltdFormCreateInput.displayName="ltdFormCreateInput";var getInputsListFromArray=function getInputsListFromArray(array,errors,inputs){return array.map((function(input){return input.custom?input.custom:ltdFormCreateInput(input,errors,inputs)}))};ltdFormCreateInput.__docgenInfo={description:"",methods:[],displayName:"ltdFormCreateInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\MainPage\\PriceList\\LtdListPage\\Forms\\functions.js"]={name:"ltdFormCreateInput",docgenInfo:ltdFormCreateInput.__docgenInfo,path:"src\\components\\MainPage\\PriceList\\LtdListPage\\Forms\\functions.js"})},2891:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return ltdListDefaultInputObject})),__webpack_require__.d(__webpack_exports__,"g",(function(){return ltdListDefaultInputObjectValues})),__webpack_require__.d(__webpack_exports__,"h",(function(){return ltdListDefaultInputs})),__webpack_require__.d(__webpack_exports__,"e",(function(){return ltdFormNameInputs})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ltdFormAddressInputs})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ltdFormContactsInputs})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ltdFormBankInputs})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ltdFormEmployeesInputs}));var ltdListDefaultInputObject={name:!1,legalAddress:!1,mailingAddress:!1,phone:!1,site:!1,inn:!1,kpp:!1,email:!1,ogrn:!1,okpo:!1,okved:!1,checkingAccount:!1,bank:!1,correspondentAccount:!1,bik:!1,generalDirector:!1,accountant:!1,logo:!1},ltdListDefaultInputObjectValues={name:"",shortName:"",legalAddress:"",mailingAddress:"",phone:"",site:"",inn:"",kpp:"",ogrn:"",okpo:"",okved:"",email:"",checkingAccount:"",bank:"",correspondentAccount:"",bik:"",generalDirector:"",accountant:"",logo:""},ltdListDefaultInputs=[{name:"name",defaultValue:"",isRequired:!0},{name:"shortName",defaultValue:""},{name:"legalAddress",defaultValue:"",isRequired:!0},{name:"mailingAddress",defaultValue:"",isRequired:!0},{name:"phone",defaultValue:"",isRequired:!0},{name:"site",defaultValue:"",isRequired:!0},{name:"inn",defaultValue:"",isRequired:!0},{name:"kpp",defaultValue:"",isRequired:!0},{name:"ogrn",defaultValue:"",isRequired:!0},{name:"okpo",defaultValue:"",isRequired:!0},{name:"okved",defaultValue:"",isRequired:!0},{name:"email",defaultValue:"",isRequired:!0},{name:"checkingAccount",defaultValue:"",isRequired:!0},{name:"bank",defaultValue:"",isRequired:!0},{name:"correspondentAccount",defaultValue:"",isRequired:!0},{name:"bik",defaultValue:"",isRequired:!0},{name:"generalDirector",defaultValue:"",isRequired:!0},{name:"accountant",defaultValue:"",isRequired:!0},{name:"logo",defaultValue:"",isRequired:!0}],ltdFormNameInputs=[{name:"name",inputName:"Наименование",required:!0},{name:"shortName",inputName:"Краткое наименование"}],ltdFormAddressInputs=[{name:"legalAddress",inputName:"Юридический адрес",required:!0},{name:"mailingAddress",inputName:"Почтовый адрес",required:!0},{name:"site",inputName:"Сайт",required:!0}],ltdFormContactsInputs=[{name:"phone",inputName:"Телефон",required:!0},{name:"email",inputName:"E-mail",required:!0}],ltdFormBankInputs=[{name:"checkingAccount",inputName:"Расчетный счет №",required:!0},{name:"bank",inputName:"Банк",required:!0},{name:"correspondentAccount",inputName:"Корреспондентский счет",required:!0},{name:"bik",inputName:"БИК",required:!0}],ltdFormEmployeesInputs=[{name:"generalDirector",inputName:"Генеральный директор",required:!0},{name:"accountant",inputName:"Главный бухгалтер",required:!0}]},3519:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(284),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(147),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(40),__webpack_require__(634),__webpack_require__(441),__webpack_require__(1583),__webpack_require__(1581),__webpack_require__(241),__webpack_require__(440),__webpack_require__(242),__webpack_require__(0)),Utils_Form_ErrorMessage_ErrorMessage_jsx__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__(3520),__webpack_require__(995)),Utils_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(181),Utils_RequestsAPI_PriceList_lts_list_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2732),Utils_Form_FileUploader_FileUploader_jsx__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(641),Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(982),_functions_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2890),_objects_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2891),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1),EditLtd=function EditLtd(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(_objects_js__WEBPACK_IMPORTED_MODULE_20__.g),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState,2),formInputs=_useState2[0],setFormInputs=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(_objects_js__WEBPACK_IMPORTED_MODULE_20__.f),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(_objects_js__WEBPACK_IMPORTED_MODULE_20__.f),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5,2),validInputs=_useState6[0],setValidInputs=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),_useState8=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7,2),showError=_useState8[0],setShowError=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),_useState10=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1],validateField=function validateField(fieldName,value){void 0!==validInputs[fieldName]&&setValidInputs(Object.assign({},validInputs,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({},fieldName,""!==value)))},handleInputChange=function handleInputChange(name,value){validateField(name,value),setFormInputs((function(formInputs){return Object.assign({},formInputs,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({},name,value))})),setFormErrors(Object.assign({},formErrors,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({},name,!1)))};Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){document.title="Редактирование ООО";var id=props.history.location.pathname.split("/ltd-list/edit/")[1];isNaN(Number.parseInt(id))?(alert("Неправильный индекс!"),props.history.push("/ltd-list")):Object(Utils_RequestsAPI_PriceList_lts_list_js__WEBPACK_IMPORTED_MODULE_16__.c)(id).then((function(data){return setFormInputs(Object.assign({},data.data))})).catch((function(error){console.log(error),alert("Неправильный индекс!"),props.history.push("/ltd-list")}))}),[]);var allOtherInputs=[{name:"inn",inputName:"ИНН",required:!0},{custom:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Utils_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_15__.a,{text:"Загрузить данные по ИНН",className:"main-window__button main-window__button--inverted",inverted:!0,onClick:function onClick(){return Object(_functions_js__WEBPACK_IMPORTED_MODULE_19__.a)(formInputs,setIsLoading,setFormInputs,(function(name,value){return validateField(name,value)}))},isLoading:isLoading,style:{margin:"-15px auto 20px 10px"}})},{name:"kpp",inputName:"КПП",required:!0},{name:"ogrn",inputName:"ОГРН",required:!0},{name:"okpo",inputName:"ОКПО",required:!0},{name:"okved",inputName:"ОКВЭД",required:!0},{name:"okpo",inputName:"ОКПО",required:!0},{name:"okpo",inputName:"ОКПО",required:!0}],defaultInputsListParams=[{formErrors:formErrors,setFormErrors:setFormErrors},{formInputs:formInputs,handleInputChange:handleInputChange}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"new-packaging",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("form",{className:"main-form__form",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__header main-form__header--full",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__title",children:"Редактирование ООО"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Utils_Form_ErrorMessage_ErrorMessage_jsx__WEBPACK_IMPORTED_MODULE_14__.a,{message:"Не заполнены все обязательные поля!",showError:showError,setShowError:setShowError}),_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[_objects_js__WEBPACK_IMPORTED_MODULE_20__.e].concat(defaultInputsListParams)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"main-form__fieldset",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__group-name",children:"Адреса"}),_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[_objects_js__WEBPACK_IMPORTED_MODULE_20__.a].concat(defaultInputsListParams))]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"main-form__fieldset",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__group-name",children:"Контактные данные"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__group-content",children:_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[_objects_js__WEBPACK_IMPORTED_MODULE_20__.c].concat(defaultInputsListParams))})]}),_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[allOtherInputs].concat(defaultInputsListParams)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"main-form__fieldset",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__group-name",children:"Банковская информация"}),_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[_objects_js__WEBPACK_IMPORTED_MODULE_20__.b].concat(defaultInputsListParams))]}),_functions_js__WEBPACK_IMPORTED_MODULE_19__.b.apply(void 0,[_objects_js__WEBPACK_IMPORTED_MODULE_20__.d].concat(defaultInputsListParams)),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"main-form__item",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__input_name",children:"Лого*"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Utils_Form_FileUploader_FileUploader_jsx__WEBPACK_IMPORTED_MODULE_17__.a,{onChange:function(){var _ref=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee(result){var downgraded;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(""===result[0]||!result[0]){_context.next=6;break}return _context.next=3,Object(Utils_functions_jsx__WEBPACK_IMPORTED_MODULE_18__.m)(result[0],"jpeg",.3);case 3:_context.t0=_context.sent,_context.next=7;break;case 6:_context.t0="";case 7:downgraded=_context.t0,handleInputChange("logo",downgraded);case 9:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),type:"readAsDataURL",defaultValue:""!==formInputs.logo?[formInputs.logo]:[],error:formErrors.logo,hideError:function hideError(){return setFormErrors(Object.assign({},formErrors,{logo:!1}))}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"main-form__input_hint",children:"* - поля, обязательные для заполнения"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"main-form__buttons main-form__buttons--full",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Utils_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_15__.a,{inverted:!0,className:"main-form__submit main-form__submit--inverted",onClick:function onClick(){return props.history.push("/ltd-list")},text:"Вернуться назад",isLoading:isLoading}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Utils_Form_Button_Button_jsx__WEBPACK_IMPORTED_MODULE_15__.a,{text:"Редактировать запись",isLoading:isLoading,className:"main-form__submit",onClick:function handleSubmit(){setIsLoading(!0),console.log(formInputs),function formIsValid(){var check=!0,newErrors=_objects_js__WEBPACK_IMPORTED_MODULE_20__.f;for(var item in validInputs)""===formInputs[item]&&(check=!1,newErrors=Object.assign(Object.assign({},newErrors,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({},item,!0))));return setFormErrors(newErrors),!0===check||(setIsLoading(!1),setShowError(!0),!1)}()&&Object(Utils_RequestsAPI_PriceList_lts_list_js__WEBPACK_IMPORTED_MODULE_16__.a)(formInputs).then((function(){})).then((function(){return props.history.push("/ltd-list")})).catch((function(){setIsLoading(!1),alert("Ошибка при добавлении записи")}))}})]})]})})})};EditLtd.displayName="EditLtd",EditLtd.__docgenInfo={description:"",methods:[],displayName:"EditLtd"},__webpack_exports__.default=EditLtd,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\MainPage\\PriceList\\LtdListPage\\Forms\\EditLtd\\EditLtd.jsx"]={name:"EditLtd",docgenInfo:EditLtd.__docgenInfo,path:"src\\components\\MainPage\\PriceList\\LtdListPage\\Forms\\EditLtd\\EditLtd.jsx"})},3520:function(module,exports,__webpack_require__){var api=__webpack_require__(47),content=__webpack_require__(3521);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3521:function(module,exports,__webpack_require__){(exports=__webpack_require__(48)(!1)).push([module.i,"",""]),module.exports=exports}}]);