(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{2666:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react_datepicker__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(41),__webpack_require__(281),__webpack_require__(333),__webpack_require__(2698)),react_datepicker__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_4__),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2699),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(2697),__webpack_require__(2673),__webpack_require__(1)),InputDate=function InputDate(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__input_name",children:props.inputName+(props.required?"*":"")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:!0===props.error?"input_date__input_field input_date__input_field--error":"input_date__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_datepicker__WEBPACK_IMPORTED_MODULE_4___default.a,Object.assign({},props,{onChange:props.handleDateChange,disabledKeyboardNavigation:!0,dateFormat:props.showMonthYearPicker?"MM.yyyy":"dd.MM.yyyy",locale:date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6___default.a}))})]}),!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.name,!1)))}:null,children:"Поле не заполнено!"})]})};InputDate.displayName="InputDate",InputDate.__docgenInfo={description:"",methods:[],displayName:"InputDate",props:{inputName:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},error:{type:{name:"bool"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDateChange:{type:{name:"func"},required:!1,description:""},selected:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""},showMonthYearPicker:{type:{name:"bool"},required:!1,description:""},setErrorsArr:{type:{name:"func"},required:!1,description:""},errorsArr:{type:{name:"object"},required:!1,description:""}}},__webpack_exports__.a=InputDate,InputDate.propTypes={inputName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,handleDateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.instanceOf(Date),readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,showMonthYearPicker:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,setErrorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,errorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputDate/InputDate.jsx"]={name:"InputDate",docgenInfo:InputDate.__docgenInfo,path:"src/utils/Form/InputDate/InputDate.jsx"})},2673:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2674);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2674:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_date{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_date .input_date__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.input_date .input_date__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_date .input_date__input .input_date__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper{width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker{z-index:999}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker .react-datepicker__day--selected{background-color:#4293b6 !important}.input_date .input_date__input .input_date__input_field .react-datepicker-popper{z-index:999}.input_date .input_date__input .input_date__input_field input[type="text"],.input_date .input_date__input .input_date__input_field input[type="password"]{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;box-sizing:border-box;transition:100ms ease-in-out;min-height:2rem}.input_date .input_date__input .input_date__input_field input[type="text"]:hover,.input_date .input_date__input .input_date__input_field input[type="password"]:hover{border-color:#888888}.input_date .input_date__input .input_date__input_field input[type="text"]:focus,.input_date .input_date__input .input_date__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_date .input_date__input .input_date__input_field--error input[type="text"],.input_date .input_date__input .input_date__input_field--error input[type="password"]{border:1px solid #d48282 !important}.input_date .input_date__input .input_date__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_date .input_date__input{flex-wrap:wrap;flex-direction:column;align-items:flex-start}.input_date .input_date__input .input_date__input_name{width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{width:100%}.input_date .input_date__input .input_date__input_field input{padding:10px !important}}\n',""]),module.exports=exports},2676:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ok.2ad21b54.svg"},2678:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return months})),__webpack_require__.d(__webpack_exports__,"b",(function(){return days})),__webpack_require__.d(__webpack_exports__,"a",(function(){return customSelectStyles}));__webpack_require__(41);var months=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],days=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],customSelectStyles={container:function container(provided){return Object.assign({},provided,{width:"100%",borderColor:"1px solid #247fa7"})},option:function option(provided){return Object.assign({},provided,{borderColor:"1px solid #247fa7"})}}},2679:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/chevron-down.d0a0493c.svg"},2681:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),Assets_sidemenu_plus_inline_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2706),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(2704),__webpack_require__(1)),AddToButton=function AddToButton(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"Добавить":_ref$text,_onClick=_ref.onClick;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"add-to-button",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"add-to-button__link",onClick:function onClick(event){event.preventDefault(),_onClick()},children:[text,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Assets_sidemenu_plus_inline_svg__WEBPACK_IMPORTED_MODULE_1__.a,{className:"add-to-button__img add-to-button__img--plus"})]})})};AddToButton.displayName="AddToButton",AddToButton.__docgenInfo={description:"",methods:[],displayName:"AddToButton",props:{text:{defaultValue:{value:"'Добавить'",computed:!1},required:!1},onClick:{type:{name:"func"},required:!1,description:""}}},__webpack_exports__.a=AddToButton,AddToButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/AddToButton/AddToButton.jsx"]={name:"AddToButton",docgenInfo:AddToButton.__docgenInfo,path:"src/utils/Form/AddToButton/AddToButton.jsx"})},2690:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/delete.1ad59e4c.svg"},2691:function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(19),IndexedObject=__webpack_require__(643),toIndexedObject=__webpack_require__(184),arrayMethodIsStrict=__webpack_require__(993),nativeJoin=[].join,ES3_STRINGS=IndexedObject!=Object,STRICT_METHOD=arrayMethodIsStrict("join",",");$({target:"Array",proto:!0,forced:ES3_STRINGS||!STRICT_METHOD},{join:function join(separator){return nativeJoin.call(toIndexedObject(this),void 0===separator?",":separator)}})},2704:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2705);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2705:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.add-to-button__link{display:flex;align-items:center;transition:100ms ease-in-out;color:#777777 !important;border-radius:3px;cursor:pointer;font-size:0.9rem;padding:2px 8px;padding-right:3px;margin-top:2px;width:fit-content;margin-left:10px}.add-to-button__link .add-to-button__img{width:20px;transition:margin-left 200ms ease-in-out}.add-to-button__link .add-to-button__img--plus{margin-left:7px}.add-to-button__link .add-to-button__img--plus path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.add-to-button__link .add-to-button__img--more path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.add-to-button__link:hover{color:#333333 !important}.add-to-button__link:hover .add-to-button__img--more{margin-left:8px}.add-to-button__link:hover .add-to-button__img--more path:first-child{fill:#55a1c1}.add-to-button__link:hover .add-to-button__img--plus path:first-child{fill:#55a1c1}\n",""]),module.exports=exports},2727:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2728);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2728:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_products{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_products .select{width:calc(90% - 20px);width:100%}.input_products--new{margin:0 !important;padding-right:10px}.input_products .input_products__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_products .input_products__input .input_products__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_products .input_products__input .input_products__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;height:2rem;width:100%}.input_products .input_products__input .input_products__input_field input[type="text"],.input_products .input_products__input .input_products__input_field input[type="password"]{border:1px solid #bbbbbb;width:calc(100% - 20px);padding:5px 10px;border-radius:5px;transition:100ms ease-in-out}.input_products .input_products__input .input_products__input_field input[type="text"]:hover,.input_products .input_products__input .input_products__input_field input[type="password"]:hover{border-color:#888888}.input_products .input_products__input .input_products__input_field input[type="text"]:focus,.input_products .input_products__input .input_products__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_products .input_products__input .input_products__input_field--error input[type="text"],.input_products .input_products__input .input_products__input_field--error input[type="password"]{border:1px solid #f73434 !important}.input_products .input_products__input .input_products__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_products .input_products__input{flex-wrap:wrap}.input_products .input_products__input .input_products__input_name{margin-bottom:5px}.input_products .input_products__input .input_products__input_field{width:100%}.input_products .input_products__error{width:calc(100% - 20px)}}\n',""]),module.exports=exports},2729:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2730);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2730:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select{width:100%;position:relative;--completed: #c7e9ce;--defect: #ebbdba;--production: #eaebde}.select .select__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select .select__overlay--hidden{display:none}.select__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;margin-top:-11px;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.select__error--hidden{display:none}.select__searchbar{display:flex;flex-direction:column;position:relative;margin-bottom:12px}.select__searchbar .select__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px !important;box-sizing:border-box;z-index:0;transition:100ms ease-in-out;min-height:2rem}.select__searchbar .select__input:hover{border-color:#888888}.select__searchbar .select__input:focus{border:1px solid #4293b6}.select__searchbar .select__input--error{border:1px solid #d48282 !important}.select__searchbar .main-form__button{font-size:0.8rem}.select__searchbar .tableview_products{width:calc(100% + 30px);margin-left:-15px}.select__options{position:absolute;width:100%;max-height:200px;overflow-y:auto;background-color:#fff;display:flex;flex-direction:column;font-size:80%;z-index:2;transform:scaleX(1);transition:0.1s ease-in-out;padding:5px 0;box-shadow:0 4px 4px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);transform-origin:0 0;margin-top:-12px}.select__options--hidden{transform:scaleY(0)}.select__options .select__img{max-width:50px;width:100%;border-radius:2.5px;margin-right:10px}.select__options .sk-circle{max-width:50px;max-height:50px}.select__options .select__option_item{padding:5px 10px;cursor:pointer;background-color:#ffffff;transition:0.1s ease-in-out;display:flex;flex-direction:row;align-items:center;min-height:40px}.select__options .select__option_item:hover{color:#fff;background-color:#4293b6}.select__selected{font-size:90%;display:flex;flex-direction:column}.select__selected_photo{max-width:50px;max-height:50px;margin-right:10px;border-radius:5px}.select__selected_title{margin-top:5px;font-size:95%;color:#666;display:none}.select__selected_row{display:flex;flex-direction:row;justify-content:space-between;margin-top:12px;font-size:0.9rem}.select__selected_row:first-of-type{margin-top:0px}.select__selected_row .select__selected_item{display:flex;padding:0px 0px;border-radius:3px;width:calc(50% - 30px);margin-right:50px;position:relative;font-size:90%;align-items:center;border:1px solid #bbbbbb;transition:100ms ease-in-out;cursor:pointer;background-color:#ffffff;color:#333333}.select__selected_row .select__selected_item:hover{border-color:#999999}.select__selected_row .select__selected_item:last-child{margin-bottom:0}.select__selected_row .select__selected_item .select__img{position:absolute;left:calc(100% + 10px);width:22.5px;border-radius:105px}.select__selected_row .select__selected_item .select__selected_name{width:100%;height:fit-content;padding:10px 10px}.select__selected_row .select__selected_quantity,.select__selected_row .select__selected_packaging{width:calc(25% - 10px);display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:90%;margin-right:10px;box-sizing:border-box;position:relative}.select__selected_row .select__selected_quantity span,.select__selected_row .select__selected_packaging span{position:absolute;top:-7px;left:6px;z-index:1;background-color:#ffffff;padding:0 5px;color:#777777;white-space:nowrap;border-radius:3px}.select__selected_row .select__selected_quantity input[type="text"],.select__selected_row .select__selected_quantity input[type="number"],.select__selected_row .select__selected_quantity textarea,.select__selected_row .select__selected_quantity select,.select__selected_row .select__selected_packaging input[type="text"],.select__selected_row .select__selected_packaging input[type="number"],.select__selected_row .select__selected_packaging textarea,.select__selected_row .select__selected_packaging select{border:1px solid #bbbbbb;font-size:110%;width:100%;min-width:100px;display:flex;padding:10px 10px;border-radius:3px;outline:none;position:relative;align-items:center;transition:100ms ease-in-out;z-index:0;padding-top:10px;box-sizing:border-box;color:#333333;height:auto}.select__selected_row .select__selected_quantity input[type="text"]:hover,.select__selected_row .select__selected_quantity input[type="number"]:hover,.select__selected_row .select__selected_quantity textarea:hover,.select__selected_row .select__selected_quantity select:hover,.select__selected_row .select__selected_packaging input[type="text"]:hover,.select__selected_row .select__selected_packaging input[type="number"]:hover,.select__selected_row .select__selected_packaging textarea:hover,.select__selected_row .select__selected_packaging select:hover{border-color:#888888}.select__selected_row .select__selected_quantity input[type="text"]:focus,.select__selected_row .select__selected_quantity input[type="number"]:focus,.select__selected_row .select__selected_quantity textarea:focus,.select__selected_row .select__selected_quantity select:focus,.select__selected_row .select__selected_packaging input[type="text"]:focus,.select__selected_row .select__selected_packaging input[type="number"]:focus,.select__selected_row .select__selected_packaging textarea:focus,.select__selected_row .select__selected_packaging select:focus{border:1px solid #4293b6}.select__selected_row .select__selected_quantity input::-webkit-outer-spin-button,.select__selected_row .select__selected_quantity input::-webkit-inner-spin-button,.select__selected_row .select__selected_packaging input::-webkit-outer-spin-button,.select__selected_row .select__selected_packaging input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.select__selected_row .select__selected_quantity input[type="number"],.select__selected_row .select__selected_packaging input[type="number"]{-moz-appearance:textfield}.select__selected_row .select__selected_packaging{margin-right:0;width:25%}.select__selected_row--minimized .select__selected_item{width:calc(50% - 30px);margin-right:10px}.select__selected_row--minimized .select__selected_quantity,.select__selected_row--minimized .select__selected_packaging{width:calc(25% + 15px);margin-right:10px}.select__selected_row--minimized .select__img{display:none}.select__selected_row--minimized div:last-child{margin-right:0}.select__selected .select__selected_item--completed{background-color:var(--completed)}.select__selected .select__selected_item--defect{background-color:var(--defect)}.select__selected .select__selected_item--production{background-color:var(--production)}.select--new{padding-right:10px;box-sizing:border-box;margin-top:0;margin-bottom:0 !important;display:flex;flex-direction:row-reverse;align-items:flex-start}.select--new .select__input{width:fit-content !important}.select--new .select__input_field{font-size:0.85rem !important}.select--new .select__input_name{position:absolute;top:-11px;left:6px;z-index:1;color:#555555;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select--new button{border-color:transparent;font-size:28px;color:#888;cursor:pointer;background-color:transparent;line-height:1rem;margin-top:4px}.select--new .select__selected{margin-top:0px;width:100%;margin-bottom:10px;margin-right:6px}.select--new .select__selected .select__selected_row{margin-top:0;align-items:flex-start}.select--new .select__selected .select__selected_row:not(:first-child){margin-top:8px}.select--new .select__selected_item{width:calc(100%);font-size:0.8rem}.select--new .select__selected_item .select-product__color_name{padding:5px 5px;height:3rem !important;max-height:1.5rem !important}.select--new .select__selected_item .select__selected_name{padding:5px 10px;height:3rem !important;max-height:1.6rem !important;white-space:nowrap;overflow-x:hidden;background-color:#ffffff;border-radius:5px;display:flex;align-items:center;font-size:0.9rem}.select--new .select__img{max-width:21px}.select--new input{max-width:none !important;min-width:0 !important}.select--new .select__selected_quantity{margin-right:0;width:calc(30%);min-width:110px;max-width:125px;font-size:0.8rem}.select--new .select__selected_quantity input{min-width:100% !important;box-sizing:border-box;height:3rem !important;max-height:2.25rem !important}.select--new .select__input_field{font-size:0.9rem}.select--readonly .select__input .select__input_name{border-radius:5px}.select--readonly .select__selected .select__selected_row:first-child{margin-top:0px !important}.select--readonly .select__selected .select__selected_row .select__selected_item .select__selected_name{max-height:1rem}.select--readonly .select__selected .select__selected_row .select__selected_quantity input{height:3rem !important;max-height:2.3rem !important}@media (max-width: 768px){.select{width:100% !important}.select .select__searchbar .select__input{padding:10px !important}.select__selected_row{flex-wrap:wrap}.select__selected_row .select__selected_item{margin-right:auto !important;width:calc(100% - 43px) !important}.select__selected_row .select__selected_packaging,.select__selected_row .select__selected_quantity{width:calc(50% - 2.5px);margin-top:10px;margin-right:5px}.select__selected_row .select__selected_quantity{min-width:80px}.select__selected_row .select__selected_packaging{min-width:150px}.select__selected_row--minimized{margin-left:0}.select__selected_row--minimized .select__selected_item{width:100% !important}}\n',""]),module.exports=exports},2731:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2732);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2732:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-product__color{width:100%;height:100%;display:flex;position:relative;align-items:center;justify-content:center;--completed: #c7e9ce;--defect: #ebbdba;--production: #eaebde}.select-product__color .select-product__color_overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-product__color .select-product__color_overlay--hidden{display:none}.select-product__color .select-product__color_name{cursor:pointer;display:flex;text-align:left;justify-content:space-between;align-items:center;width:100%;height:fit-content;padding:10px 10px;transition:0.2s ease-in-out}.select-product__color .select-product__color_name .tableview__img{margin:0;width:15px}.select-product__color .select-product__color_picker{box-shadow:0 1px 1px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);border-radius:2.5px;font-weight:normal;position:absolute;top:calc(100% - 1rem);transform-origin:0 0;width:100%;max-width:100px;z-index:1}.select-product__color .select-product__color_picker--hidden{transform:scaleY(0)}.select-product__color .select-product__color_picker .select-product__color_option{content:"";width:100%;padding:2.5px 0px;text-align:center;transition:100ms ease-in-out;cursor:pointer;color:#444444}.select-product__color .select-product__color_picker .select-product__color_option:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.select-product__color .select-product__color_picker .select-product__color_option:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.select-product__color .select-product__color_picker .select-product__color_option:hover{color:#999999}.select-product__color .select-product__color_picker .select-product__color_option--completed{background-color:var(--completed)}.select-product__color .select-product__color_picker .select-product__color_option--defect{background-color:var(--defect)}.select-product__color .select-product__color_picker .select-product__color_option--production{background-color:var(--production)}\n',""]),module.exports=exports},2766:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(18),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(65),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(15),slicedToArray_default=__webpack_require__.n(slicedToArray),SelectFromButton=(__webpack_require__(640),__webpack_require__(444),__webpack_require__(636),__webpack_require__(147),__webpack_require__(638),__webpack_require__(639),__webpack_require__(281),__webpack_require__(213),__webpack_require__(987),__webpack_require__(41),__webpack_require__(241),__webpack_require__(641),__webpack_require__(333),__webpack_require__(2663),__webpack_require__(2727),__webpack_require__(2671)),react=__webpack_require__(0),SearchBar=(__webpack_require__(2729),__webpack_require__(642)),TableView=__webpack_require__(2787),FormWindow=__webpack_require__(335),ImgLoader=__webpack_require__(2689),ControlPanel=__webpack_require__(2656),useSort=__webpack_require__(2682),select_delete=(__webpack_require__(991),__webpack_require__(1584),__webpack_require__(1583),__webpack_require__(2690)),delete_default=__webpack_require__.n(select_delete),chevron_down=__webpack_require__(2679),chevron_down_default=__webpack_require__.n(chevron_down),jsx_runtime=(__webpack_require__(2731),__webpack_require__(1)),ColorPicker_ColorPicker_ColorPicker=function ColorPicker(props){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showColorPicker=_useState2[0],setShowColorPicker=_useState2[1],clickOnColorOption=function clickOnColorOption(color){props.handleStatusChange(color,props.id),setShowColorPicker(!1)};return Object(jsx_runtime.jsxs)("div",{className:"select-product__color",children:[Object(jsx_runtime.jsx)("div",{className:showColorPicker?"select-product__color_overlay":"select-product__color_overlay select-product__color_overlay--hidden",onClick:function onClick(){return setShowColorPicker(!showColorPicker)}}),Object(jsx_runtime.jsxs)("div",{className:"select-product__color_name",onClick:function onClick(){return setShowColorPicker(!showColorPicker)},children:[props.defaultName,Object(jsx_runtime.jsx)("img",{className:"tableview__img",src:chevron_down_default.a})]}),Object(jsx_runtime.jsxs)("div",{className:showColorPicker?"select-product__color_picker":"select-product__color_picker select-product__color_picker--hidden",children:[Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("completed")},className:"select-product__color_option select-product__color_option--completed",children:"Завершено"}),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("defect")},className:"select-product__color_option select-product__color_option--defect",children:"Приоритет"}),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("production")},className:"select-product__color_option select-product__color_option--production",children:"В работе"})]})]})};ColorPicker_ColorPicker_ColorPicker.displayName="ColorPicker",ColorPicker_ColorPicker_ColorPicker.__docgenInfo={description:"",methods:[],displayName:"ColorPicker"};var InputProducts_ColorPicker_ColorPicker=ColorPicker_ColorPicker_ColorPicker;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/ColorPicker/ColorPicker.jsx"]={name:"ColorPicker",docgenInfo:ColorPicker_ColorPicker_ColorPicker.__docgenInfo,path:"src/utils/Form/InputProducts/ColorPicker/ColorPicker.jsx"});var functions_defaultPropsForLayoutFunctions={numberInput:"text",readOnly:!1,workshop:!1,handleParamChange:function handleParamChange(){},clickOnSelected:function clickOnSelected(){},handleStatusChange:function handleStatusChange(){}},functions_renderQuantity=function renderQuantity(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Кол-во (шт.)".concat(props.readOnly?"":"*"),readOnly:!1};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_quantity",children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{quantity_id:index,type:"number",name:"quantity",autoComplete:"off",defaultValue:0!=item.quantity?item.quantity:0,value:item.quantity,onChange:props.handleParamChange,disabled:props.readOnly||props.workshop||options.readOnly})]})};functions_renderQuantity.displayName="renderQuantity";var functions_renderNewQuantity=function renderNewQuantity(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Отгружено (шт.)".concat(props.readOnly?"":"*"),readOnly:!1};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_quantity",children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{quantityNew_id:index,type:"number",name:"quantityNew",autoComplete:"off",defaultValue:0,value:item.quantityNew,onChange:props.handleParamChange,disabled:options.readOnly})]})};functions_renderNewQuantity.displayName="renderNewQuantity";var functions_renderPackaging=function renderPackaging(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Фасовка".concat(props.readOnly?"":"*"),readOnly:!1,marginRight:"0px"};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_packaging",style:{marginRight:options.marginRight},children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{packaging_id:index,type:"text",name:"packaging",autoComplete:"off",defaultValue:item.packaging,value:item.packaging,onChange:props.handleParamChange,disabled:options.readOnly||props.workshop})]})};functions_renderPackaging.displayName="renderPackaging";var functions_renderSelectPackaging=function renderSelectPackaging(index,item){var _products$find,_products$find$packin,props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,products=arguments.length>3?arguments[3]:void 0;return Object(jsx_runtime.jsx)("select",{onChange:props.handleParamChange,packaging_id:index,name:"packaging",defaultValue:item.packaging,value:item.packaging,disabled:props.readOnly||props.workshop,children:null===(_products$find=products.find((function(product){return product.id===Number.parseInt(item.productId)})))||void 0===_products$find||null===(_products$find$packin=_products$find.packings)||void 0===_products$find$packin?void 0:_products$find$packin.map((function(packagingItem,index){return Object(jsx_runtime.jsx)("option",{value:packagingItem.id,children:packagingItem.name},index)}))})};functions_renderSelectPackaging.displayName="renderSelectPackaging";var functions_renderSelectedItemName=function renderSelectedItemName(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{readOnly:!1,showColorPicker:!0,showDelete:!0};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_item select__selected_item--"+(item.status?item.status:"production"),children:[!props.readOnly&&options.showColorPicker?Object(jsx_runtime.jsx)(InputProducts_ColorPicker_ColorPicker,{defaultName:item.name,id:item.id,handleStatusChange:props.handleStatusChange}):Object(jsx_runtime.jsx)("div",{className:"select__selected_name",children:item.name}),Object(jsx_runtime.jsx)("img",{id:index,className:"select__img",src:delete_default.a,alt:"",onClick:props.clickOnSelected})]})};functions_renderSelectedItemName.displayName="renderSelectedItemName",functions_renderQuantity.__docgenInfo={description:"",methods:[],displayName:"renderQuantity"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/functions.jsx"]={name:"renderQuantity",docgenInfo:functions_renderQuantity.__docgenInfo,path:"src/utils/Form/InputProducts/functions.jsx"}),functions_renderNewQuantity.__docgenInfo={description:"",methods:[],displayName:"renderNewQuantity"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/functions.jsx"]={name:"renderNewQuantity",docgenInfo:functions_renderNewQuantity.__docgenInfo,path:"src/utils/Form/InputProducts/functions.jsx"}),functions_renderPackaging.__docgenInfo={description:"",methods:[],displayName:"renderPackaging"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/functions.jsx"]={name:"renderPackaging",docgenInfo:functions_renderPackaging.__docgenInfo,path:"src/utils/Form/InputProducts/functions.jsx"}),functions_renderSelectPackaging.__docgenInfo={description:"",methods:[],displayName:"renderSelectPackaging"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/functions.jsx"]={name:"renderSelectPackaging",docgenInfo:functions_renderSelectPackaging.__docgenInfo,path:"src/utils/Form/InputProducts/functions.jsx"}),functions_renderSelectedItemName.__docgenInfo={description:"",methods:[],displayName:"renderSelectedItemName"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/functions.jsx"]={name:"renderSelectedItemName",docgenInfo:functions_renderSelectedItemName.__docgenInfo,path:"src/utils/Form/InputProducts/functions.jsx"});var useProductsList=__webpack_require__(2711),InputProducts_InputProducts_InputProducts=function InputProducts(props){var _props$products,_props$products2,_props$customSearch,_props$products5,_props$categories,_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),searchQueryCategory=_useState4[0],setSearchQueryCategory=_useState4[1],_useState5=Object(react.useState)([]),_useState6=slicedToArray_default()(_useState5,2),selected=_useState6[0],setSelected=_useState6[1],_useProductsList=Object(useProductsList.a)(!props.products||!props.categories),products=_useProductsList.products,categories=_useProductsList.categories,_useState7=Object(react.useState)(!1),_useState8=slicedToArray_default()(_useState7,2),showWindow=_useState8[0],setShowWindow=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),closeWindow=_useState10[0],setCloseWindow=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),showOptions=_useState12[0],setShowOptions=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),showOverlay=_useState14[0],setShowOverlay=_useState14[1],_useSort=Object(useSort.a)(null!==(_props$products=props.products)&&void 0!==_props$products?_props$products:products,{ignoreURL:!0,sortOrder:{curSort:"name",name:"asc"},sortOptions:[{value:"name asc",text:"По алфавиту (А-Я)"},{value:"name desc",text:"По алфавиту (Я-А)"},{value:"weight desc",text:"По весу"}]},[null!==(_props$products2=props.products)&&void 0!==_props$products2?_props$products2:products]),sortPanel=_useSort.sortPanel,sortedData=_useSort.sortedData,clickOnInput=function clickOnInput(){return setShowOverlay(!showOverlay),setShowOptions(!showOptions)},clickOnOption=function clickOnOption(event){var value=event.currentTarget.getAttribute("name"),newData={id:event.currentTarget.getAttribute("id"),name:value,quantity:0,quantityNew:0,packaging:"",status:"production",productId:event.currentTarget.getAttribute("productId")};clickOnInput(),setSelected([].concat(toConsumableArray_default()(selected),[newData])),props.onChange([].concat(toConsumableArray_default()(selected),[newData]))},pressEscKey=Object(react.useCallback)((function(event){if(27===event.keyCode&&(console.log(showOptions,showOverlay),showOptions))return clickOnInput()}),[showOptions,showOverlay]);Object(react.useEffect)((function(){return void 0!==props.defaultValue&&setSelected(toConsumableArray_default()(props.defaultValue)),document.addEventListener("keydown",pressEscKey,!1),function(){document.removeEventListener("keydown",pressEscKey,!1)}}),[props.defaultValue,props.categories,showOptions,showOverlay]);var defaultPropsForLayoutFunctions={numberInput:props.numberInput,readOnly:props.readOnly,workshop:props.workshop,handleParamChange:function handleParamChange(event){return function handleParamChange(event){var value=event.target.value,name=event.target.getAttribute("name"),id=event.target.getAttribute(name+"_id"),productId=event.target.getAttribute(productId),newSelected=selected;newSelected=newSelected.map((function(item,index){return Object.assign({},item,defineProperty_default()({},name,index==id?value:item[name]))})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))}(event)},clickOnSelected:function clickOnSelected(event){var id=event.target.getAttribute("id"),newSelected=selected;newSelected.splice(id,1),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},handleStatusChange:function handleStatusChange(color,id){var newSelected=selected;newSelected=newSelected.map((function(item){return Object.assign({},item,{status:item.id==id?color:item.status})})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))}},customLayoutOptions={productName:{render:function render(index,item,options){return functions_renderSelectedItemName(index,item,defaultPropsForLayoutFunctions,options)}},quantity:{render:function render(index,item,options){return functions_renderQuantity(index,item,defaultPropsForLayoutFunctions,options)}},newQuantity:{render:function render(index,item,options){return functions_renderNewQuantity(index,item,defaultPropsForLayoutFunctions,options)}},packaging:{render:function render(index,item,options){return functions_renderPackaging(index,item,defaultPropsForLayoutFunctions,options)}},selectPackaging:{render:function render(index,item){var _props$products4;return functions_renderSelectPackaging(index,item,defaultPropsForLayoutFunctions,null!==(_props$products4=props.products)&&void 0!==_props$products4?_props$products4:products)}}};return Object(jsx_runtime.jsx)("div",{className:"input_products",children:Object(jsx_runtime.jsxs)("div",{className:"input_products__input",children:[Object(jsx_runtime.jsxs)("div",{className:"input_products__input_name main-form__input_name--header",children:[props.inputName+(props.required?"*":""),!props.readOnly&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать продукцию",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),Object(jsx_runtime.jsxs)("div",{className:"select",children:[Object(jsx_runtime.jsx)("div",{className:showOverlay?"select__overlay":"select__overlay select__overlay--hidden",onClick:function clickOverlay(){showOverlay&&clickOnInput()}}),!props.readOnly&&!props.workshop&&!1!==(null===(_props$customSearch=props.customSearch)||void 0===_props$customSearch?void 0:_props$customSearch.display)&&Object(jsx_runtime.jsxs)("div",{className:"select__searchbar",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select__input select__input--error":"select__input",onChange:function handleInputChange(event){setSearchQuery(event.target.value)},onClick:props.readOnly?null:clickOnInput,placeholder:props.searchPlaceholder,readOnly:props.readOnly||props.workshop}),Object(jsx_runtime.jsx)(FormWindow.a,{title:"Выбор продукции",content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите название продукции для поиска...",setSearchQuery:setSearchQueryCategory}),Object(jsx_runtime.jsx)(ControlPanel.a,{itemsCount:"Всего: ".concat((null!==(_props$products5=props.products)&&void 0!==_props$products5?_props$products5:products).length," записей"),sorting:sortPanel}),Object(jsx_runtime.jsx)(TableView.a,{products:function filterSearchQuery(data){var query=searchQueryCategory.toLowerCase();return data.filter((function(item){return item.name.toLowerCase().includes(query)||item.id.toString().includes(query)||item.weight.toString().includes(query)||null!==item.comment&&item.comment.toLowerCase().includes(query)}))}(sortedData),categories:null!==(_props$categories=props.categories)&&void 0!==_props$categories?_props$categories:categories,searchQuery:searchQueryCategory,deleteItem:null,selectProduct:function selectProduct(id,value,productId){var newData={id:id,name:value,quantity:0,quantityNew:0,packaging:"",status:"production",productId:productId};setSelected([].concat(toConsumableArray_default()(selected),[newData])),props.onChange([].concat(toConsumableArray_default()(selected),[newData]))},closeWindow:closeWindow,setCloseWindow:setCloseWindow,setShowWindow:setShowWindow})]}),showWindow:showWindow,setShowWindow:setShowWindow})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),props.options&&Object(jsx_runtime.jsx)("div",{className:showOptions?"select__options":"select__options select__options--hidden",children:function search(){var _props$products3,searchArr=searchQuery.split(" ");return(null!==(_props$products3=props.products)&&void 0!==_props$products3?_props$products3:products).filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&(check=!1)})),!0===check}))}().map((function(item,index){return Object(jsx_runtime.jsxs)("div",{id:item.id,optionId:index,productId:item.id,name:item.name,className:"select__option_item",onClick:clickOnOption,children:[Object(jsx_runtime.jsx)(ImgLoader.a,{imgSrc:item.photo,imgClass:"select__img"}),Object(jsx_runtime.jsx)("div",{children:"№"+item.id+", "+item.name})]},item.id)}))}),Object(jsx_runtime.jsxs)("div",{className:"select__selected",children:[0!==selected.length&&Object(jsx_runtime.jsx)("span",{className:"select__selected_title",children:"Выбранная продукция:"}),selected.map((function(item,index){var _props$customSelected;return Object(jsx_runtime.jsx)("div",{className:props.readOnly||props.workshop||!0===(null===(_props$customSelected=props.customSelectedItem)||void 0===_props$customSelected?void 0:_props$customSelected.isMinimized)?"select__selected_row select__selected_row--minimized":"select__selected_row",children:props.customLayout?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.entries(props.customLayout).map((function(layoutOption){return customLayoutOptions[layoutOption[0]].render(index,item,layoutOption[1])}))}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[functions_renderSelectedItemName(index,item,defaultPropsForLayoutFunctions),functions_renderQuantity(index,item,defaultPropsForLayoutFunctions),functions_renderPackaging(index,item,defaultPropsForLayoutFunctions,props.noPackaging?{readOnly:!0,customName:"Фасовка".concat(props.readOnly?"":"*"),marginRight:"0px"}:void 0)]})},item.id)}))]})]})]})})};InputProducts_InputProducts_InputProducts.displayName="InputProducts",InputProducts_InputProducts_InputProducts.__docgenInfo={description:"",methods:[],displayName:"InputProducts"};__webpack_exports__.a=InputProducts_InputProducts_InputProducts;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/Form/InputProducts/InputProducts.jsx"]={name:"InputProducts",docgenInfo:InputProducts_InputProducts_InputProducts.__docgenInfo,path:"src/utils/Form/InputProducts/InputProducts.jsx"})},2855:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2856);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2856:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-work{width:calc(100% - 20px);position:relative}.select-work .main-form__item{width:100%}.select-work .main-form__input_name{margin-bottom:0 !important}.select-work .select-work__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-work .select-work__overlay--hidden{display:none}.select-work .select-draft{margin-bottom:15px}.select-work .select-draft__input_name{color:#666666;font-size:1rem;margin-bottom:3px}.select-work__selected{width:100%}.select-work .select-work-item{margin-bottom:5px}.select-work .select-work-item__input_field{font-size:0.9rem}.select-work .input_products{width:100%;margin-top:10px;font-size:95%;margin-bottom:5px}.select-work .input_products .input_products__input_name{font-size:85%}.select-work .input_products .select__input{min-height:1.25rem !important}.select-work .input_products .select .select__selected_row input{min-width:100% !important}.select-work .input_products .select__input{box-sizing:content-box;width:calc(100% - 20px);min-width:0 !important}.select-work__selected_item{background-color:#eeeeee;border-radius:3px;padding:0px 15px;margin-top:5px;width:calc(100% - 30px);position:relative;transition:0.2s ease-in-out;background-color:#eeeeee;border:1px solid #cccccc}.select-work__selected_item--minimized{width:calc(100% - 80px)}.select-work__selected_item:first-child{margin-top:5px}.select-work__selected_item .select-work__img{position:absolute;right:-35px;cursor:pointer;top:25%}.select-work__selected_item .select-work__img--new{right:-30px}.select-work__selected_item .select-work__selected_header{display:flex;cursor:pointer;padding:10px 0px}.select-work__selected_item .select-work__selected_header .select-work__selected_name{flex:0 1 33.3%}.select-work__selected_item .select-work__selected_header .select-work__selected_name span{font-size:70%}.select-work__selected_item .select-work__selected_form{transform-origin:0 0;height:100%;width:calc(100%);padding:15px 0;transition:0.2s ease-in-out;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.select-work__selected_item .select-work__selected_form--hidden{transform:scaleY(0);height:0;padding:0}.select-work__selected_item .select-work__selected_form .select-work__item{width:calc(100% - 0px);margin:0 auto;display:flex;justify-content:space-between;margin-top:5px;flex-direction:column;align-items:flex-start}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_name{color:#666666;flex:0 1 20%;font-size:85%;margin-bottom:3px;width:100%}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field{flex:0 1 80%;width:100%}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field>input,.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field textarea{font-size:80%;width:calc(100% - 20px - 2px);border-radius:3px;min-width:fit-content}.select-work__selected_item .select-work__selected_form .select-work__item .select-work__input_field>textarea{max-width:calc(100% - 22px);min-width:calc(100% - 22px);outline:none;min-height:50px;resize:none;transition:100ms ease-in-out}.select-work__selected_item .select-work__selected_form .select-work__item--comment,.select-work__selected_item .select-work__selected_form .select-work__item--time{position:relative}.select-work__selected_item .select-work__selected_form .select-work__item--comment .select-work__input_name,.select-work__selected_item .select-work__selected_form .select-work__item--time .select-work__input_name{color:#888888;flex:0 1 20%;font-size:80%;position:absolute;top:4px;left:5px;padding:0 5px;border-radius:3px;font-size:0.85rem;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea,.select-work__selected_item .select-work__selected_form .select-work__item--comment input,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea,.select-work__selected_item .select-work__selected_form .select-work__item--time input{padding-top:22px;padding-bottom:7px;border:1px solid #cccccc;width:100%;padding:5px 10px;padding-top:22px;padding-bottom:7px;border-radius:3px;font-size:0.9rem;transition:100ms ease-in-out;min-width:0;max-width:100%}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea:hover,.select-work__selected_item .select-work__selected_form .select-work__item--comment input:hover,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea:hover,.select-work__selected_item .select-work__selected_form .select-work__item--time input:hover{border:1px solid #aaaaaa}.select-work__selected_item .select-work__selected_form .select-work__item--comment textarea:focus,.select-work__selected_item .select-work__selected_form .select-work__item--comment input:focus,.select-work__selected_item .select-work__selected_form .select-work__item--time textarea:focus,.select-work__selected_item .select-work__selected_form .select-work__item--time input:focus{border:1px solid #4293b6}.select-work .main-form__button{font-size:0.8rem;padding:10px 10px}.select-work__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:5px;z-index:2}.select-work__input:focus{border:1px solid #4293b6}@media (max-width: 768px){.select-work{width:100% !important}.select-work .select-work__selected_form .select-work__item{flex-direction:column}.select-work .select-work__selected_form .select-work__item .select-work__input_name{width:100%;margin-bottom:5px}.select-work .select-work__selected_form .select-work__item .select-work__input_field{width:100%;max-width:none}}@media (max-width: 500px){.select-work .add-to-button__link{margin-left:0;padding-left:0}.select-work .main-form__input_name--header{flex-direction:column;align-items:flex-start}.select-work .select-work__selected_form .select-from-button__link{margin-left:0;padding-left:0}}\n",""]),module.exports=exports},2857:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2858);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2858:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-work-item{width:calc(100% - 0px);display:flex;flex-direction:column;justify-content:space-between}.select-work-item--new .select-work-item__input_name{position:absolute;top:-11px;left:6px;z-index:1;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select-work-item--new input{max-width:none !important;min-width:0 !important}.select-work-item .searchbar{margin-bottom:0}.select-work-item .select-work-item__input{display:flex;width:calc(100% - 0px);justify-content:space-between;position:relative;flex-direction:column;align-items:flex-start}.select-work-item .select-work-item__input .select-work-item__input_name{color:#666;font-size:1rem;flex:0 1 20%;width:100%;margin-bottom:0px}.select-work-item .select-work-item__input .select-work-item__input_field{width:100%;font-size:0.85rem !important}.select-work-item .select-work-item__error{width:80%;align-self:flex-end;margin-top:1px;font-size:0.75rem;background-color:#f73434;color:#ffffff;border-radius:5px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.select-work-item .select-work-item__error--hidden{display:none}.select-work-item .select-work-item__searchbar{display:flex;flex-direction:row;position:relative;width:calc(100% - 0px);margin-top:5px}.select-work-item .select-work-item__searchbar .select-work-item__input{border:1px solid #bbbbbb;flex:0 1 100%;padding:5px 10px;border-radius:3px;z-index:0;min-width:0 !important}.select-work-item .select-work-item__searchbar .select-work-item__input:focus{border:1px solid #4293b6}.select-work-item .select-work-item__searchbar .select-work-item__input--error{border:1px solid #f73434 !important}.select-work-item .main-form__button{font-size:0.8rem}@media (max-width: 768px){.select-work-item .select-work-item__input{flex-wrap:wrap;flex-direction:column}.select-work-item .select-work-item__input .select-work-item__input_name{width:100%;margin-bottom:5px}.select-work-item .select-work-item__input .select-work-item__input_field{width:100%}}\n",""]),module.exports=exports},2859:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2860);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2860:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.tableview-work{display:flex;flex-direction:column;width:calc(100% + 30px);margin-left:-15px}.tableview-work .main-window__list-item{padding-bottom:10px;padding-top:10px;cursor:pointer}.tableview-work .main-window__list-item span:nth-child(1){flex:0 1 50%}.tableview-work .main-window__list-item span:nth-child(2){flex:0 1 25%}.tableview-work .main-window__list-item .main-window__actions{flex:0 1 10%}@media (max-width: 768px){.tableview-work .main-window__actions{display:none}}\n",""]),module.exports=exports},2861:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2862);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2862:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-draft{width:100%;position:relative;margin-top:5px}.select-draft__buttons{flex-direction:row}.select-draft__buttons .select-draft__search_button{margin-right:5px}.select-draft .select-draft__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-draft .select-draft__overlay--hidden{display:none}.select-draft__error{width:calc(100% - 20px);margin-top:1px;font-size:0.75rem;background-color:#f73434;color:#ffffff;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out}.select-draft__error--hidden{display:none}.select-draft__searchbar{display:flex;flex-direction:column;position:relative}.select-draft__searchbar .select-draft__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px !important;z-index:0;font-size:80% !important}.select-draft__searchbar .select-draft__input:focus{border:1px solid #4293b6}.select-draft__searchbar .select-draft__input--error{border:1px solid #f73434 !important}.select-draft__searchbar .select-draft__search_button{border:0;border-radius:3px;width:fit-content;background-color:#4293b6;color:#fff;outline:none;cursor:pointer;padding:10px 10px;font-size:70%;transition:0.2s ease-in-out;margin-bottom:5px}.select-draft__searchbar .select-draft__search_button:hover{background-color:#519fc0}.select-draft__searchbar .tableview_products{width:100%}.select-draft__options{position:absolute;width:100%;max-height:200px;overflow-y:auto;background-color:#fff;display:flex;flex-direction:column;font-size:80%;z-index:2;transform:scaleX(1);transition:0.1s ease-in-out;box-shadow:0 4px 4px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);transform-origin:0 0;padding:4px 0}.select-draft__options--hidden{transform:scaleY(0)}.select-draft__options .select-draft__img{max-width:50px;border-radius:2.5px;margin-right:10px}.select-draft__options .select-draft__option_item{padding:15px 10px;cursor:pointer;background-color:#ffffff;transition:0.1s ease-in-out;display:flex;flex-direction:row;align-items:center}.select-draft__options .select-draft__option_item:hover{color:#fff;background-color:#4293b6}.select-draft .searchbar{margin-bottom:0}.select-draft__selected{display:flex;flex-direction:column}.select-draft__selected_photo{max-width:50px;max-height:50px;margin-right:10px;border-radius:5px}.select-draft__selected_title{margin-top:10px;margin-left:15px;font-size:85%;color:#666}.select-draft__selected_row{display:flex;flex-direction:row;justify-content:space-between;margin-top:12px;font-size:0.9rem}.select-draft__selected_row:first-of-type{margin-top:12px}.select-draft__selected_row .select-draft__selected_item{display:flex;padding:0px 0px;border-radius:3px;width:calc(60% - 30px);margin-right:50px;position:relative;font-size:90%;align-items:center;border:1px solid #bbbbbb;transition:100ms ease-in-out;cursor:pointer;background-color:#ffffff;color:#333333}.select-draft__selected_row .select-draft__selected_item:hover{border-color:#999999}.select-draft__selected_row .select-draft__selected_item:last-child{margin-bottom:0}.select-draft__selected_row .select-draft__selected_item .select-draft__img{position:absolute;left:calc(100% + 10px);width:25px;border-radius:105px}.select-draft__selected_row .select-draft__selected_item .select-draft__selected_name{width:100%;height:fit-content;padding:10px 5px;border:none !important;cursor:pointer}.select-draft__selected_row .select-draft__selected_quantity,.select-draft__selected_row .select-draft__selected_packaging{width:calc(40% - 0px);display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:90%;box-sizing:border-box;position:relative}.select-draft__selected_row .select-draft__selected_quantity .select-draft__input-name,.select-draft__selected_row .select-draft__selected_packaging .select-draft__input-name{position:absolute;top:-7px;left:6px;z-index:1;background-color:#ffffff;padding:0 5px;color:#777777;white-space:nowrap;border-radius:3px}.select-draft__selected_row .select-draft__selected_quantity input[type="text"],.select-draft__selected_row .select-draft__selected_quantity input[type="number"],.select-draft__selected_row .select-draft__selected_quantity textarea,.select-draft__selected_row .select-draft__selected_packaging input[type="text"],.select-draft__selected_row .select-draft__selected_packaging input[type="number"],.select-draft__selected_row .select-draft__selected_packaging textarea{border:1px solid #bbbbbb;font-size:110%;width:100%;min-width:100px;display:flex;padding:10px 10px;border-radius:3px;outline:none;position:relative;align-items:center;transition:100ms ease-in-out;z-index:0;padding-top:10px;box-sizing:border-box;color:#333333;height:auto;max-width:none}.select-draft__selected_row .select-draft__selected_quantity input[type="text"]:focus,.select-draft__selected_row .select-draft__selected_quantity input[type="number"]:focus,.select-draft__selected_row .select-draft__selected_quantity textarea:focus,.select-draft__selected_row .select-draft__selected_packaging input[type="text"]:focus,.select-draft__selected_row .select-draft__selected_packaging input[type="number"]:focus,.select-draft__selected_row .select-draft__selected_packaging textarea:focus{border:1px solid #4293b6}.select-draft__selected .select-draft__selected_item--completed{background-color:#5ea76e}.select-draft__selected .select-draft__selected_item--completed:hover{background-color:#539862}.select-draft__selected .select-draft__selected_item--defect{background-color:#c48681}.select-draft__selected .select-draft__selected_item--defect:hover{background-color:#bc7570}.select-draft__selected .select-draft__selected_item--production{background-color:#87a8b6}.select-draft__selected .select-draft__selected_item--production:hover{background-color:#779dac}.select-draft--new{padding-right:10px;box-sizing:border-box;margin-top:0;margin-bottom:0 !important;display:flex;flex-direction:row-reverse;align-items:flex-start;justify-content:space-between}.select-draft--new button{border-color:transparent;font-size:28px;color:#888;cursor:pointer;background-color:transparent;line-height:1rem;margin-top:4px;margin-right:0 !important}.select-draft--new .select-draft__input_name{position:absolute;top:-11px;left:6px;z-index:1;color:#555555;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select-draft--new input{max-width:none !important;min-width:0 !important}.select-draft--new .select-draft__selected{margin-top:0px;margin-bottom:10px;margin-right:6px;width:100%}.select-draft--new .select-draft__selected .select-draft__selected_row{align-items:flex-start;margin-top:0}.select-draft--new .select-draft__selected .select-draft__selected_row:not(:first-child){margin-top:8px}.select-draft--new .select-draft__selected_item{width:100%}.select-draft--new .select-draft__selected_item input{font-size:0.9rem !important;height:3rem !important;max-height:1.6rem !important}.select-draft--new .select-draft__img{max-width:21px}.select-draft--new .select-draft__selected_quantity{margin-right:0;width:calc(30%);min-width:110px;max-width:125px}.select-draft--new .select-draft__selected_quantity input{min-width:100% !important;height:2.25rem !important;box-sizing:border-box;border-radius:3px !important}.select-draft--new .select-draft__input_field{font-size:0.85rem}.select-draft--readonly .select-draft__input .select-draft__input_name{border-radius:5px}.select-draft--readonly .select-draft__selected .select-draft__selected_row:first-child{margin-top:0px !important}.select-draft--readonly .select-draft__selected .select-draft__selected_row .select-draft__selected_item .select-draft__selected_name{height:3rem !important;max-height:1.5rem !important}.select-draft--readonly .select-draft__selected .select-draft__selected_row .select-draft__selected_quantity input{height:3rem !important;max-height:2.3rem !important}@media (max-width: 768px){.select-draft{width:100% !important}}@media (max-width: 576px){.select-draft{width:100% !important}.select-draft__selected_row{flex-direction:column;margin-top:20px}.select-draft__selected_row .select-draft__selected_item{width:calc(100% - 40px)}.select-draft__selected_row .select-draft__selected_packaging,.select-draft__selected_row .select-draft__selected_quantity{margin-top:12.5px;width:100%}.select-draft__selected_row .select-draft__selected_packaging input,.select-draft__selected_row .select-draft__selected_quantity input{width:100%}}\n',""]),module.exports=exports},2863:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2864);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2864:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-drafts__list{width:calc(100% + 30px);margin-left:-15px}.select-drafts__list .main-window__list .main-window__list-item{cursor:pointer}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(1){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(2){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(3){flex:0 1 20%}.select-drafts__list .main-window__list .main-window__list-item span:nth-child(4){flex:0 1 15%}@media (max-width: 768px){.select-drafts__list .main-window__actions{display:none}}\n",""]),module.exports=exports},2865:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return submitWorkData}));var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(282),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(148),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(443),__webpack_require__(241),__webpack_require__(283),__webpack_require__(242),__webpack_require__(334),__webpack_require__(147),__webpack_require__(41),__webpack_require__(991),__webpack_require__(281),__webpack_require__(1588),__webpack_require__(1583),__webpack_require__(2687)),submitWorkData=function(){var _ref=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(worktimeInputs,date,employee,setIsLoading,inputs){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setIsLoading(!0),_context2.next=3,Promise.all(worktimeInputs.works.map(function(){var _ref2=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(item){var temp,originalItem;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return console.log(item),temp=Object.assign({day:date.getDate(),month:date.getMonth()+1,year:date.getFullYear(),employeeId:employee.id,comment:item.comment,workListId:item.workId,hours:item.hours}),_context.next=4,Promise.all(worktimeInputs.originalWorks.map((function(originalWork){var item=worktimeInputs.works.find((function(workItem){return workItem.id===originalWork.id}));if(originalWork.id&&void 0===item)return console.log("deleting element",worktimeInputs),Promise.all(originalWork.product.map((function(product){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(originalWork.id,product.id)}))).then((function(){return Promise.all(originalWork.draft.map((function(draft){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(originalWork.id,draft.partId,draft.partType)})))})).then((function(){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.f)(originalWork.id)}))})));case 4:if(!item.isOld){_context.next=16;break}if(!(originalItem=worktimeInputs.originalWorks.find((function(originalWork){return item.id===originalWork.id})))||item.hours===originalItem.hours&&item.comment===originalItem.comment&&item.workName===originalItem.workName){_context.next=9;break}return _context.next=9,Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.g)(temp,item.id);case 9:Promise.all(originalItem.product.map((function(originalProduct){if(void 0===item.product.find((function(product){return product.id===originalProduct.id})))return console.log("delete product",originalProduct),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(item.id,originalProduct.id)}))),Promise.all(item.product.map((function(product){if(void 0===originalItem.product.find((function(originalProduct){return product.id===originalProduct.id})))return console.log("add product",product),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(item.id,product.productId,product.quantity,{name:product.name})}))),Promise.all(originalItem.product.map((function(originalProduct){var product=item.product.find((function(product){return product.id===originalProduct.id}));if(void 0!==product&&originalProduct.quantity!==Number.parseFloat(product.quantity))return console.log("edit product",item.id,product,originalProduct),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.e)(item.id,product.id).then((function(){var _product$productId,_product$product;return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(item.id,null!==(_product$productId=null==product?void 0:product.productId)&&void 0!==_product$productId?_product$productId:null==product||null===(_product$product=product.product)||void 0===_product$product?void 0:_product$product.id,product.quantity,{name:product.name})}))}))),Promise.all(originalItem.draft.map((function(originalDraft){if(void 0===item.draft.find((function(draft){return draft.id===originalDraft.id})))return console.log("delete draft",originalDraft,originalItem),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(item.id,originalDraft.partId,originalDraft.partType)}))),Promise.all(item.draft.map((function(draft){if(void 0===originalItem.draft.find((function(originalDraft){return draft.id===originalDraft.id})))return console.log("add draft",draft),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(item.id,draft.partId,draft.type,draft.quantity,draft.name)}))),Promise.all(originalItem.draft.map((function(originalDraft){var _originalDraft$partTy,_item$draft$find,draft=item.draft.find((function(draft){return draft.id===originalDraft.id}));if(console.log("edit draft opportunity",originalDraft,draft),void 0!==draft&&originalDraft.quantity!==Number.parseFloat(draft.quantity))return console.log("edit draft success",draft),Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.d)(item.id,originalDraft.partId,null!==(_originalDraft$partTy=originalDraft.partType)&&void 0!==_originalDraft$partTy?_originalDraft$partTy:null===(_item$draft$find=item.draft.find((function(item){return draft.partId===item.id})))||void 0===_item$draft$find?void 0:_item$draft$find.type).then((function(){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(item.id,draft.partId,draft.partType,draft.quantity,draft.name)}))}))),inputs&&inputs.updateSelectedDaysWork(item);case 16:if(item.isOld||null===item.workId||void 0===item.isOld){_context.next=19;break}return console.log("adding item",item),_context.abrupt("return",Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.c)(temp).then((function(res){return res.json()})).then((function(res){return Promise.all(item.product.map((function(product){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.b)(res.id,product.id,product.quantity,{name:product.name})}))),res.id})).then((function(id){return Promise.all(item.draft.map((function(draft){return Object(Utils_RequestsAPI_WorkManaging_work_control__WEBPACK_IMPORTED_MODULE_13__.a)(id,draft.partId,draft.type,draft.quantity,draft.name)})))})).then((function(){return inputs&&inputs.addSelectedDaysWork(item)})).catch((function(error){alert("Ошибка при добавлении записи"),setIsLoading(!1),console.log(error)})));case 19:case"end":return _context.stop()}}),_callee)})));return function(_x6){return _ref2.apply(this,arguments)}}())).then((function(){setIsLoading(!1)}));case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}),_callee2)})));return function submitWorkData(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}()},2900:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(18),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(65),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(15),slicedToArray_default=__webpack_require__.n(slicedToArray),react=(__webpack_require__(2668),__webpack_require__(1588),__webpack_require__(1583),__webpack_require__(213),__webpack_require__(987),__webpack_require__(1584),__webpack_require__(41),__webpack_require__(147),__webpack_require__(241),__webpack_require__(641),__webpack_require__(333),__webpack_require__(0)),select_delete=__webpack_require__(2690),delete_default=__webpack_require__.n(select_delete),FormWindow=(__webpack_require__(2855),__webpack_require__(281),__webpack_require__(2857),__webpack_require__(335)),SearchBar=__webpack_require__(642),work_list=__webpack_require__(2769),PlaceholderLoading=(__webpack_require__(636),__webpack_require__(638),__webpack_require__(639),__webpack_require__(2859),__webpack_require__(1585),__webpack_require__(2653)),sorting=__webpack_require__(988),jsx_runtime=__webpack_require__(1),TableView_TableView=function TableView(props){return Object(react.useEffect)((function(){props.setShowWindow(!1)}),[props.fullName]),Object(jsx_runtime.jsx)("div",{className:"tableview-work",children:Object(jsx_runtime.jsx)("div",{className:"main-window",children:Object(jsx_runtime.jsxs)("div",{className:"main-window__list main-window__list--full",children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item main-window__list-item--header",children:[Object(jsx_runtime.jsx)("span",{children:"Название"}),Object(jsx_runtime.jsx)("span",{children:"Тип"})]}),props.isLoading?Object(jsx_runtime.jsx)(PlaceholderLoading.a,{itemClassName:"main-window__list-item",minHeight:"2rem",items:15}):function sortProducts(data){return Object(sorting.a)(function searchQuery(data){var query=props.searchQuery.toLowerCase();return data.filter((function(item){return item.work.toLowerCase().includes(query)||item.id.toString().includes(query)}))}(data),{fieldName:"work",direction:"asc"})}(props.data).map((function(work,work_id){return Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item",onClick:function onClick(){props.selectWork(work.work,work.id,work.typeOfWork)},children:[Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Название:"}),work.work]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Тип:"}),work.typeOfWork]})]},work_id)}))]})})})};TableView_TableView.displayName="TableView",TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"};var SelectWorkItem_TableViewWork_TableView=TableView_TableView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/SelectWorkItem/TableViewWork/TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView.__docgenInfo,path:"src/components/MainPage/Work/SelectWorkItem/TableViewWork/TableView.jsx"});var SelectFromButton=__webpack_require__(2671),SelectWorkItem_SelectWorkItem_SelectWorkItem=function SelectWorkItem(props){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showWindow=_useState2[0],setShowWindow=_useState2[1],_useState3=Object(react.useState)([]),_useState4=slicedToArray_default()(_useState3,2),works=_useState4[0],setWorks=_useState4[1],_useState5=Object(react.useState)(""),_useState6=slicedToArray_default()(_useState5,2),searchQuery=_useState6[0],setSearchQuery=_useState6[1],_useState7=Object(react.useState)(!1),_useState8=slicedToArray_default()(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1],_useState9=Object(react.useState)(""),_useState10=slicedToArray_default()(_useState9,2),fullName=_useState10[0],setFullName=_useState10[1];Object(react.useEffect)((function(){0===works.length&&loadWorks()}),[]);var loadWorks=function loadWorks(){setIsLoading(!0),Object(work_list.d)().then((function(res){return res.json()})).then((function(res){setWorks(res),setIsLoading(!1)})).catch((function(error){console.log(error),setIsLoading(!1)}))};return Object(jsx_runtime.jsxs)("div",{className:"select-work-item",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work-item__input",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work-item__input_name main-form__input_name--header",children:[props.inputName+(props.required?"*":""),(void 0===props.readOnly||!props.readOnly)&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать тип работы",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),(props.defaultValue||fullName)&&Object(jsx_runtime.jsx)("div",{className:"select-work-item__input_field",children:Object(jsx_runtime.jsx)("div",{className:"select-work-item__searchbar",children:Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select-work-item__input select-work-item__input--error":"select-work-item__input",value:props.defaultValue?props.defaultValue:fullName,placeholder:"Выберите работу, нажав на кнопку 'Выбрать тип работы'",disabled:!0})})})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select-work-item__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),Object(jsx_runtime.jsx)(FormWindow.a,{title:"Выбор работы",windowName:"select-work-item",id:props.id,content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,setSearchQuery:setSearchQuery,placeholder:"Введите название работы для поиска..."}),Object(jsx_runtime.jsx)(SelectWorkItem_TableViewWork_TableView,{data:works,searchQuery:searchQuery,userHasAccess:props.userHasAccess,selectWork:function clickWork(employeeName,employeeId,newWorkType){setFullName(employeeName),props.handleWorkItemChange(employeeName,employeeId,newWorkType),setShowWindow(!showWindow)},fullName:fullName,isLoading:isLoading,showWindow:showWindow,setShowWindow:setShowWindow})]}),showWindow:showWindow,setShowWindow:setShowWindow})]})};SelectWorkItem_SelectWorkItem_SelectWorkItem.displayName="SelectWorkItem",SelectWorkItem_SelectWorkItem_SelectWorkItem.__docgenInfo={description:"",methods:[],displayName:"SelectWorkItem"};var Work_SelectWorkItem_SelectWorkItem=SelectWorkItem_SelectWorkItem_SelectWorkItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/SelectWorkItem/SelectWorkItem.jsx"]={name:"SelectWorkItem",docgenInfo:SelectWorkItem_SelectWorkItem_SelectWorkItem.__docgenInfo,path:"src/components/MainPage/Work/SelectWorkItem/SelectWorkItem.jsx"});var InputProducts=__webpack_require__(2766),asyncToGenerator=__webpack_require__(282),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),regenerator=__webpack_require__(148),regenerator_default=__webpack_require__.n(regenerator),ok=(__webpack_require__(640),__webpack_require__(444),__webpack_require__(1591),__webpack_require__(443),__webpack_require__(2861),__webpack_require__(2863),__webpack_require__(2676)),ok_default=__webpack_require__.n(ok),TableView_TableView_TableView=function TableView(props){var partTypes={Bench:"Станок",Stamp:"Штамп",Press:"Пресс-форма",Detail:"Деталь"};return Object(react.useEffect)((function(){props.setShowWindow(!1)}),[props.closeWindow]),Object(jsx_runtime.jsx)("div",{className:"select-drafts__list",children:Object(jsx_runtime.jsx)("div",{className:"main-window",children:Object(jsx_runtime.jsxs)("div",{className:"main-window__list main-window__list--full",children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item main-window__list-item--header",children:[Object(jsx_runtime.jsx)("span",{children:"Артикул"}),Object(jsx_runtime.jsx)("span",{children:"Название"}),Object(jsx_runtime.jsx)("span",{children:"Местоположение"}),Object(jsx_runtime.jsx)("span",{children:"Тип"}),Object(jsx_runtime.jsx)("div",{className:"main-window__actions",children:"Действие"})]}),function search(){var re=/[.,\s\-_]/gi,query=props.searchQuery.toLowerCase(),searchArr=query.split(" ");return props.drafts.filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&!1===item.number.toLowerCase().replace(re,"").includes(query.replace(re,""))&&(check=!1)})),!0===check}))}().map((function(draft){return Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item",onClick:function onClick(){console.log(draft),props.selectDraft(draft.id,draft.name,draft.type,draft.number),props.setCloseWindow(!props.closeWindow)},children:[Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Артикул:"}),draft.number]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Название:"}),draft.name]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Местоположение:"}),draft.location]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Тип:"}),partTypes[draft.type]]}),Object(jsx_runtime.jsx)("div",{className:"main-window__actions",children:Object(jsx_runtime.jsx)("div",{className:"main-window__action",onClick:function onClick(){props.selectDraft(draft.id,draft.name,draft.type),console.log(props.closeWindow),props.setCloseWindow(!props.closeWindow)},title:"Выбрать деталь",children:Object(jsx_runtime.jsx)("img",{className:"main-window__img",src:ok_default.a,alt:""})})})]},draft.id)}))]})})})};TableView_TableView_TableView.displayName="TableView",TableView_TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"};var Rigging_SelectDraft_TableView_TableView=TableView_TableView_TableView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Dispatcher/Rigging/SelectDraft/TableView/TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView_TableView.__docgenInfo,path:"src/components/MainPage/Dispatcher/Rigging/SelectDraft/TableView/TableView.jsx"});var rigging=__webpack_require__(2712),SelectDraft_SelectDraft_SelectDraft=function SelectDraft(props){var _useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),searchQueryCategory=_useState4[0],setSearchQueryCategory=_useState4[1],_useState5=Object(react.useState)([]),_useState6=slicedToArray_default()(_useState5,2),selected=_useState6[0],setSelected=_useState6[1],_useState7=Object(react.useState)([]),_useState8=slicedToArray_default()(_useState7,2),drafts=_useState8[0],setDrafts=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),showWindow=_useState10[0],setShowWindow=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),closeWindow=_useState12[0],setCloseWindow=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),showOptions=_useState14[0],setShowOptions=_useState14[1],_useState15=Object(react.useState)(!1),_useState16=slicedToArray_default()(_useState15,2),defaultValueLoaded=_useState16[0],setDefaultValueLoaded=_useState16[1];function _loadDrafts(){return(_loadDrafts=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var newDrafts;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:props.drafts?setDrafts(toConsumableArray_default()(props.drafts)):(newDrafts=[],Object(rigging.i)().then((function(res){return res.json()})).then((function(res){return res.map((function(item){return item.stampParts.map((function(stamp){return newDrafts.push(Object.assign({},stamp,{value:stamp.id,label:"".concat(stamp.number,", ").concat(stamp.name),type:"Stamp"}))}))})),setDrafts([].concat(newDrafts))})));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var clickOnOption=function clickOnOption(event){var value=event.currentTarget.getAttribute("name"),id=event.currentTarget.getAttribute("id"),type=event.currentTarget.getAttribute("type"),number=event.currentTarget.getAttribute("number");setShowOptions(!showOptions);var newDraft={partId:id,name:value,number:number,type:type,quantity:0};setSelected([].concat(toConsumableArray_default()(selected),[newDraft])),props.onChange([].concat(toConsumableArray_default()(selected),[newDraft]))},clickOnSelected=function clickOnSelected(event){var id=event.target.getAttribute("id"),newSelected=selected;newSelected.splice(id,1),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},handleParamChange=function handleParamChange(event){var value=event.target.value,name=event.target.getAttribute("name"),id=event.target.getAttribute(name+"_id"),newSelected=selected;newSelected=newSelected.map((function(item,index){return Object.assign({},item,defineProperty_default()({},name,index==id?value:item[name]))})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},pressEscKey=Object(react.useCallback)((function(event){27===event.keyCode&&setShowOptions(!showOptions)}),[]);return Object(react.useEffect)((function(){return void 0===props.defaultValue||defaultValueLoaded||(setSelected(toConsumableArray_default()(props.defaultValue)),setDefaultValueLoaded(!0)),document.addEventListener("keydown",pressEscKey,!1),0===drafts.length&&function loadDrafts(){return _loadDrafts.apply(this,arguments)}(),function(){document.removeEventListener("keydown",pressEscKey,!1)}}),[props.defaultValue,props.categories,showOptions]),Object(jsx_runtime.jsxs)("div",{className:"select-draft",children:[Object(jsx_runtime.jsxs)("div",{className:"select-draft__input_name main-form__input_name--header",children:["Чертежи",!props.readOnly&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать чертеж",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),Object(jsx_runtime.jsx)("div",{className:showOptions?"select-draft__overlay":"select-draft__overlay select-draft__overlay--hidden",onClick:function onClick(){return setShowOptions(!showOptions)}}),!props.readOnly&&!props.workshop&&Object(jsx_runtime.jsxs)("div",{className:"select-draft__searchbar",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select-draft__input select-draft__input--error":"select-draft__input",onChange:function handleInputChange(event){setSearchQuery(event.target.value)},onClick:function onClick(){!props.readOnly&&setShowOptions(!showOptions)},placeholder:"Введите артикул чертежа для поиска...",readOnly:props.readOnly||props.workshop}),Object(jsx_runtime.jsx)(FormWindow.a,{title:"Выбор чертежа",content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите артикул чертежа для поиска...",setSearchQuery:setSearchQueryCategory}),Object(jsx_runtime.jsx)(Rigging_SelectDraft_TableView_TableView,{drafts:drafts,searchQuery:searchQueryCategory,selectDraft:function selectDraft(id,value,type,number){var newDraft={partId:id,type:type,name:value,number:number,quantity:0};setSelected([].concat(toConsumableArray_default()(selected),[newDraft])),props.onChange([].concat(toConsumableArray_default()(selected),[newDraft]))},closeWindow:closeWindow,setCloseWindow:setCloseWindow,setShowWindow:setShowWindow})]}),showWindow:showWindow,setShowWindow:setShowWindow})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select-draft__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),props.options&&Object(jsx_runtime.jsx)("div",{className:showOptions?"select-draft__options":"select-draft__options select-draft__options--hidden",children:function search(){var re=/[.,\s\-_]/gi,query=searchQuery.toLowerCase(),searchArr=query.split(" ");return(props.drafts?props.drafts:drafts).filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&!1===item.number.toLowerCase().replace(re,"").includes(query.replace(re,""))&&(check=!1)})),!0===check}))}().map((function(item,index){return Object(jsx_runtime.jsx)("div",{id:item.id,type:item.type,number:item.number,optionId:index,name:item.name,className:"select-draft__option_item",onClick:clickOnOption,children:Object(jsx_runtime.jsx)("div",{children:item.number+", "+item.name})},index)}))}),Object(jsx_runtime.jsx)("div",{className:"select-draft__selected",children:selected.map((function(item,index){return Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_row",children:[Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_item",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:"select-draft__selected_name",name_id:index,name:"name",autoComplete:"off",readOnly:!0,value:"".concat(item.number||"",", ").concat(item.name),onChange:"new"===item.type?handleParamChange:null}),!props.readOnly&&!props.workshop&&Object(jsx_runtime.jsx)("img",{id:index,className:"select-draft__img",src:delete_default.a,alt:"",onClick:clickOnSelected})]}),Object(jsx_runtime.jsxs)("div",{className:"select-draft__selected_quantity",children:[Object(jsx_runtime.jsxs)("span",{className:"select-draft__input-name",children:["Кол-во (шт.)",!props.readOnly&&"*"]}),Object(jsx_runtime.jsx)("input",{quantity_id:index,type:"number",name:"quantity",autoComplete:"off",defaultValue:0!=item.quantity?item.quantity:0,value:item.quantity,onChange:handleParamChange,readOnly:props.readOnly})]})]},index)}))})]})};SelectDraft_SelectDraft_SelectDraft.displayName="SelectDraft",SelectDraft_SelectDraft_SelectDraft.__docgenInfo={description:"",methods:[],displayName:"SelectDraft"};var Rigging_SelectDraft_SelectDraft=SelectDraft_SelectDraft_SelectDraft;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Dispatcher/Rigging/SelectDraft/SelectDraft.jsx"]={name:"SelectDraft",docgenInfo:SelectDraft_SelectDraft_SelectDraft.__docgenInfo,path:"src/components/MainPage/Dispatcher/Rigging/SelectDraft/SelectDraft.jsx"});var App=__webpack_require__(214),AddToButton=__webpack_require__(2681),useMessageForUser=__webpack_require__(2721),SelectWork_SelectWork_SelectWork=function SelectWork(props){var _props$defaultConfig,_useState=Object(react.useState)(null!==(_props$defaultConfig=props.defaultConfig)&&void 0!==_props$defaultConfig?_props$defaultConfig:[]),_useState2=slicedToArray_default()(_useState,2),selected=_useState2[0],setSelected=_useState2[1],userContext=Object(react.useContext)(App.a),_useState3=Object(react.useState)(0),_useState4=slicedToArray_default()(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1],_useMessageForUser=Object(useMessageForUser.a)({title:"Удаление элемента",message:"Вы действительно хотите удалить этот элемент?",onClick:function onClick(){return deletePart(selectedIndex)},buttonText:"ОК"}),messageForUser=_useMessageForUser.messageForUser,showMessage=_useMessageForUser.showMessage,setShowMessage=_useMessageForUser.setShowMessage;Object(react.useEffect)((function(){if(void 0!==props.defaultValue){setSelected(toConsumableArray_default()(props.defaultValue));var total=props.defaultValue.reduce((function(sum,cur){return sum+Number.parseFloat(cur.hours)}),0);if(!props.setTotalHours)return;isNaN(total)?props.setTotalHours(0):props.setTotalHours(total)}}),[props.defaultValue,props.options,props.products]);var deletePart=function deletePart(id){var temp=selected;temp.splice(id,1),setSelected(toConsumableArray_default()(temp));var total=temp.reduce((function(sum,cur){return sum+Number.parseFloat(cur.hours)}),0);props.setTotalHours&&(isNaN(total)?props.setTotalHours(0):props.setTotalHours(total),props.handleWorkChange(toConsumableArray_default()(temp)))},handleInputChange=function handleInputChange(event){var id=event.target.getAttribute("index"),name=event.target.getAttribute("name"),value=event.target.value,curSum=selected.reduce((function(sum,cur,curIndex){return Number.parseInt(id)===curIndex?sum:Math.floor(10*(sum+Number.parseFloat(cur.hours)))/10}),0);"hours"===name&&curSum+(value=Number.parseFloat(event.target.value)>12?12:""===event.target.value?0:Number.parseFloat(event.target.value))>12&&(value=Math.floor(10*(12-curSum))/10);var temp=selected,originalItem=selected[id];temp.splice(id,1,Object.assign({},originalItem,defineProperty_default()({},name,value))),props.setTotalHours&&("hours"===name&&(isNaN(curSum)?props.setTotalHours(0):props.setTotalHours(curSum+value)),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp)))};return Object(jsx_runtime.jsxs)("div",{className:"select-work",children:[messageForUser,Object(jsx_runtime.jsxs)("div",{className:"main-form__item",children:[Object(jsx_runtime.jsxs)("div",{className:"main-form__input_name main-form__input_name--header",children:["Работы*",!props.readOnly&&!props.noNewItems&&Object(jsx_runtime.jsx)(AddToButton.a,{text:"Добавить работу",onClick:function handleNewPart(){var newPart={product:[],draft:[],workName:"",workType:"",workId:null,hours:0,comment:"",isOld:!1};setSelected([].concat(toConsumableArray_default()(selected),[newPart])),props.handleWorkChange([].concat(toConsumableArray_default()(selected),[newPart]))}})]}),Object(jsx_runtime.jsx)("div",{className:"main-form__input_field",children:Object(jsx_runtime.jsx)("div",{className:"select-work__selected",children:selected.map((function(item,index){return Object(jsx_runtime.jsxs)("div",{className:!props.readOnly&&selected.length>1?"select-work__selected_item select-work__selected_item--minimized":"select-work__selected_item",children:[Object(jsx_runtime.jsxs)("div",{className:"select-work__selected_form",children:[Object(jsx_runtime.jsx)(Work_SelectWorkItem_SelectWorkItem,{inputName:"Выбор работы",required:!0,defaultValue:item.workName,id:index,handleWorkItemChange:function handleWorkItemChange(name,id,type){console.log(name,id,type);var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{workType:type,workName:name,workId:id})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},userHasAccess:userContext.userHasAccess,workItems:props.workItems,readOnly:props.readOnly}),"Продукция"===selected[index].workType||void 0===selected[index].workType||"Продукция"===selected[index].typeOfWork?Object(jsx_runtime.jsx)("div",{className:"select-work__item select-work__item--products",children:Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)(InputProducts.a,{inputName:"Продукция",options:!0,defaultValue:item.product,categories:props.categories,products:props.products,numberInput:!0,name:"product",noPackaging:!0,onChange:function onChange(value){var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{product:value})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},userHasAccess:userContext.userHasAccess,searchPlaceholder:"Введите название продукта для поиска..."})})}):"Чертеж"===selected[index].workType?Object(jsx_runtime.jsx)(Rigging_SelectDraft_SelectDraft,{options:!0,defaultValue:item.draft,onChange:function onChange(value){var temp=selected,originalItem=selected[index];temp.splice(index,1,Object.assign({},originalItem,{draft:value})),setSelected(toConsumableArray_default()(temp)),props.handleWorkChange(toConsumableArray_default()(temp))},searchPlaceholder:"Добавьте чертеж нажав на кнопку 'Добавить чертеж'",userHasAccess:userContext.userHasAccess}):null,!props.noComment&&Object(jsx_runtime.jsxs)("div",{className:"select-work__item select-work__item--comment",children:[Object(jsx_runtime.jsx)("div",{className:"select-work__input_name",children:"Комментарий (необязательно)"}),Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)("textarea",{type:"text",name:"comment",index:index,autoComplete:"off",onChange:handleInputChange,value:item.comment,readOnly:props.readOnly})})]}),!props.noTime&&Object(jsx_runtime.jsxs)("div",{className:"select-work__item select-work__item--time",children:[Object(jsx_runtime.jsx)("div",{className:"select-work__input_name",children:"Часы"}),Object(jsx_runtime.jsx)("div",{className:"select-work__input_field",children:Object(jsx_runtime.jsx)("input",{type:"number",name:"hours",index:index,autoComplete:"off",onChange:handleInputChange,value:item.hours.toString(),readOnly:props.readOnly})}),!props.readOnly&&selected.length>1&&Object(jsx_runtime.jsx)("img",{index:index,onClick:deletePart,className:"select-work__img select-work__img--new",src:delete_default.a})]})]}),!props.readOnly&&selected.length>1&&Object(jsx_runtime.jsx)("img",{onClick:function onClick(){setSelectedIndex(index),setShowMessage(!showMessage)},className:"select-work__img",src:delete_default.a})]},index)}))})})]})]})};SelectWork_SelectWork_SelectWork.displayName="SelectWork",SelectWork_SelectWork_SelectWork.__docgenInfo={description:"",methods:[],displayName:"SelectWork"};__webpack_exports__.a=SelectWork_SelectWork_SelectWork;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/SelectWork/SelectWork.jsx"]={name:"SelectWork",docgenInfo:SelectWork_SelectWork_SelectWork.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/SelectWork/SelectWork.jsx"})},3376:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3377);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3377:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.notes-journal{padding:15px 0;padding-bottom:60px;background-color:#fff;font-size:1rem}.notes-journal .main-window__header .main-window__title{width:100%}.notes-journal .control-panel{margin-bottom:25px}.notes-journal .control-panel .main-window__control-panel-wrapper{padding-top:10px}.notes-journal .control-panel .input_date{margin-bottom:0;width:fit-content;margin-top:5px;margin-right:10px;justify-content:center}.notes-journal .control-panel .input_date__input{flex-direction:row;justify-content:flex-start;align-items:center}.notes-journal .control-panel .input_date__input_name{width:fit-content;flex:none;margin-bottom:0}.notes-journal .control-panel .input_date__input_field{width:fit-content}.notes-journal .form-window__content .main-form{align-items:center;background-color:transparent}.notes-journal .form-window__content .main-form__form{border:1px solid #ccc}.notes-journal__current-date{display:flex;align-items:center;margin-left:25px;font-size:1.5rem;margin-bottom:15px}.notes-journal__current-date .main-window__img{padding:5px;cursor:pointer}.notes-journal__current-date .main-window__img:first-child{margin-right:5px;margin-left:-10px}.notes-journal__current-date .main-window__img:nth-child(2){margin-left:5px}.notes-journal__list{display:flex;flex-direction:column;padding:0 25px}.notes-journal__list-item{display:flex;flex-direction:column;margin-bottom:15px}.notes-journal__list-item>span{display:flex;align-items:center;font-size:1.2rem;margin-bottom:5px;cursor:pointer}.notes-journal__list-item--header{flex-direction:row}.notes-journal__list-item--header>span{flex:0 1 50%}.notes-journal__list-item--header>span:nth-child(n+2){flex:0 1 25%}.notes-journal__list-item:last-child{margin-bottom:0}.notes-journal__list-item .employees__row{display:flex;align-items:flex-start;border:1px solid #ccc;padding:10px 10px;margin-bottom:15px;border-radius:3px;transition:100ms ease-in-out;background-color:#f5f5f5;margin-bottom:0;border-radius:0}.notes-journal__list-item .employees__row:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.notes-journal__list-item .employees__row:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.notes-journal__list-item .employees__row:nth-child(2n+1){background-color:#ffffff}.notes-journal__list-item .employees__row:not(:last-child){border-bottom:none}.notes-journal__list-item .employees__row:last-child{margin-bottom:15px}.notes-journal__list-item .employees__row>span{flex:0 1 30%;align-self:stretch;display:flex;flex-direction:column;cursor:pointer}.notes-journal__list-item .employees__row>span a{width:fit-content}.notes-journal__list-item .employees__row>span a>div{position:relative;width:fit-content;transition:100ms ease-in-out;color:#222}.notes-journal__list-item .employees__row>span a>div:nth-child(2){font-size:0.9rem;color:#777}.notes-journal__list-item .employees__row>span a .main-window__img{opacity:0;position:absolute;right:-30px;transition:100ms ease-in-out}.notes-journal__list-item .employees__row>span a:hover>div{color:#4293b6}.notes-journal__list-item .employees__row>span a:hover>div:nth-child(2){color:#777}.notes-journal__list-item .employees__row>span a:hover .main-window__img{opacity:1}.notes-journal__list-item .employees__row .employees__days-wrapper{flex:0 1 70%;display:flex;flex-direction:row;align-items:center;align-self:stretch}.notes-journal__list-item .employees__row .employees__days-wrapper>span{flex:0 1 50%;position:relative}.notes-journal__list-item .employees__row .employees__days-wrapper>span:nth-child(1){margin-right:50px}.notes-journal__list-item .employees__row .employees__days-wrapper>span .employees__field-name{position:absolute;left:6px;top:1px;padding-top:3px;box-sizing:border-box;user-select:none;pointer-events:none;color:#888;font-size:0.9rem;background-color:#fff;padding-right:2px;width:fit-content}.notes-journal__list-item .employees__row .employees__days-wrapper>span textarea{resize:vertical;width:100%;padding:5px 5px;padding-top:22px;box-sizing:border-box;border-radius:3px;border:1px solid #ccc;outline:none;height:3.2rem;min-height:3.2rem;max-height:5rem;font-size:1rem;transition:100ms ease-in-out}.notes-journal__list-item .employees__row .employees__days-wrapper>span textarea:hover{border-color:#999}.notes-journal__list-item .employees__row .employees__days-wrapper>span textarea:focus{border-color:#4293b6}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day{font-size:1rem;height:100%;display:flex;flex-direction:column}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header{display:flex;flex-direction:row;align-items:center;margin-bottom:5px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header>span{color:#999;font-size:0.9rem}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header .add-to-button{margin-right:7px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header .add-to-button__link{margin:0;border:1px solid #ccc;border-radius:999px;padding:2px 10px;padding-left:12px;white-space:nowrap}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header .add-to-button__link:hover{border-color:#bbb}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header>span:nth-child(3){color:#777;padding:2px 5px;border:1px solid #bbb;border-radius:3px;margin-left:7px;font-size:0.9rem;display:none;position:absolute;left:-60px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item{border:1px solid #ccc;background-color:transparent;padding:5px 10px;width:100%;box-sizing:border-box;cursor:pointer;position:relative;border-radius:3px;transition:100ms ease-in-out;margin-bottom:5px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__img{position:absolute;top:7px;right:10px;opacity:0;transition:100ms ease-in-out}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item:hover{background-color:#eee;border-color:#ccc}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item:hover .employees__img{opacity:1}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item--no-product{border-color:#f8c9c9;background-color:#faf1f1;margin-bottom:28px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item--no-product .employees__work-header span:first-child{color:#444}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__work-header{display:flex;align-items:center}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__work-header span:nth-child(1){margin-right:10px;font-size:0.95rem}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__work-header span:nth-child(2){color:#777;padding:2px 5px;border:1px solid #ccc;border-radius:3px;font-size:0.9rem;white-space:nowrap}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__item-list{color:#555;font-size:0.9rem;display:flex;flex-direction:column;margin-top:4px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__item-list span{margin-bottom:4px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__item-list span:last-child{margin-bottom:0}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__comment{color:#777;font-size:0.8rem;margin-top:3px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__comment span:nth-child(1){margin-right:5px;color:#aaa}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__comment span:nth-child(2){font-style:italic}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day .employees__work-item .employees__error{color:#888888cc;font-size:0.85rem;position:absolute;bottom:-25px;border:1px solid #f8c9c9;background-color:#faf1f1;width:calc(100% + 2px);margin-left:-1px;left:0;box-sizing:border-box;border-radius:3px;padding:2px 10px}.notes-journal>.form-window{transform:none}.notes-journal>.form-window .form-window__content{transform:none}.notes-journal>.form-window .form-window .form-window__content{width:70vw;height:70vh}.notes-journal>.form-window .form-window--hidden .form-window__content{width:0;height:0}.notes-journal>.form-window .main-form{padding:0}.notes-journal>.form-window .main-form__form{padding-top:15px}.notes-journal .form-window--hidden .form-window__content{width:0;height:0}@media (max-width: 768px){.notes-journal__list-item .employees__row{flex-direction:column}.notes-journal__list-item .employees__row .employees__day-header span:nth-child(2){background-color:#f5f5f5}.notes-journal__list-item .employees__row:nth-child(2n+1) .employees__day-header span:nth-child(2){background-color:#fff}.notes-journal__list-item .employees__row>span{margin-bottom:10px}.notes-journal__list-item .employees__row .employees__days-wrapper{align-items:stretch}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header .add-to-button__link{padding-top:5px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header>span:nth-child(2){position:absolute;top:-10px;left:8px;padding:0 5px}}@media (max-width: 500px){.notes-journal .control-panel{margin-bottom:10px}.notes-journal__current-date{margin-left:10px}.notes-journal__list{padding:0 10px}.notes-journal__list-item .employees__row{flex-direction:column}.notes-journal__list-item .employees__row>span{margin-bottom:10px}.notes-journal__list-item .employees__row .employees__days-wrapper{flex-direction:column}.notes-journal__list-item .employees__row .employees__days-wrapper span:first-child{margin-right:0;margin-bottom:10px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header .add-to-button__link{padding-top:0px}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__day-header span:nth-child(2){position:relative;top:0;left:0;padding:0}.notes-journal__list-item .employees__row .employees__days-wrapper .employees__work-header span:first-child{margin:0}}\n",""]),module.exports=exports},3378:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3379);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3379:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,"",""]),module.exports=exports},3587:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _path,_path2,_path3,toConsumableArray=__webpack_require__(65),toConsumableArray_default=__webpack_require__.n(toConsumableArray),defineProperty=__webpack_require__(18),defineProperty_default=__webpack_require__.n(defineProperty),slicedToArray=__webpack_require__(15),slicedToArray_default=__webpack_require__.n(slicedToArray),react=(__webpack_require__(333),__webpack_require__(636),__webpack_require__(991),__webpack_require__(41),__webpack_require__(213),__webpack_require__(0)),SearchBar=__webpack_require__(642),ControlPanel=__webpack_require__(2656),chevron_down_inline=__webpack_require__(989),InputDate=__webpack_require__(2666),PlaceholderLoading=(__webpack_require__(638),__webpack_require__(639),__webpack_require__(281),__webpack_require__(147),__webpack_require__(1586),__webpack_require__(2668),__webpack_require__(2653)),edit_inline=__webpack_require__(1547);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var bx_window_open_inline=function SvgBxWindowOpeninline(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",style:{msTransform:"rotate(360deg)",WebkitTransform:"rotate(360deg)"},transform:"rotate(360)"},props),_path||(_path=react.createElement("path",{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h5v-2H4V7h16v12h-5v2h5c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z",fill:"#626262"})),_path2||(_path2=react.createElement("path",{d:"M13 21v-5h3l-4-5-4 5h3v5z",fill:"#626262"})),_path3||(_path3=react.createElement("path",{fill:"rgba(0, 0, 0, 0)",d:"M0 0h24v24H0z"})))},AddToButton=__webpack_require__(2681),functions=__webpack_require__(986),react_router_dom=__webpack_require__(53),sorting=__webpack_require__(988),defaultJournalWorkshops={lemz:{active:!0,name:"ЦехЛЭМЗ",engName:"lemz"},lepsari:{active:!0,name:"ЦехЛепсари",engName:"lepsari"},ligovskiy:{active:!0,name:"ЦехЛиговский",engName:"ligovskiy"},office:{active:!0,name:"Офис",engName:"office"}},jsx_runtime=__webpack_require__(1),TableView_TableView=function TableView(_ref){var isLoading=_ref.isLoading,employees=_ref.employees,searchQuery=_ref.searchQuery,curDay=_ref.curDay,todaysWork=_ref.todaysWork,yesterdaysWork=_ref.yesterdaysWork,handleOpenWorkForm=_ref.handleOpenWorkForm,_useState=Object(react.useState)(defaultJournalWorkshops),_useState2=slicedToArray_default()(_useState,2),workshops=_useState2[0],setWorkshops=_useState2[1];return Object(jsx_runtime.jsx)("div",{className:"notes-journal__list",children:Object.values(workshops).map((function(workshop,index){var filteredEmployees=Object(sorting.a)(function filterEmployees(employees,searchQuery){var query=searchQuery.toLowerCase();return employees.filter((function(employee){var _employee$lastName,_employee$lastName$to,_employee$name,_employee$name$toLowe,_employee$middleName,_employee$middleName$;return"Уволен"!==(null==employee?void 0:employee.relevance)&&"Уволенные"!==(null==employee?void 0:employee.workshop)&&((null==employee||null===(_employee$lastName=employee.lastName)||void 0===_employee$lastName||null===(_employee$lastName$to=_employee$lastName.toLowerCase())||void 0===_employee$lastName$to?void 0:_employee$lastName$to.includes(query))||(null==employee||null===(_employee$name=employee.name)||void 0===_employee$name||null===(_employee$name$toLowe=_employee$name.toLowerCase())||void 0===_employee$name$toLowe?void 0:_employee$name$toLowe.includes(query))||(null==employee||null===(_employee$middleName=employee.middleName)||void 0===_employee$middleName||null===(_employee$middleName$=_employee$middleName.toLowerCase())||void 0===_employee$middleName$?void 0:_employee$middleName$.includes(query)))}))}(employees,searchQuery).filter((function(employee){return employee.workshop===workshop.name})),{fieldName:"lastName",direction:"asc"});return 0===filteredEmployees.length?null:Object(jsx_runtime.jsxs)("div",{className:"notes-journal__list-item",children:[Object(jsx_runtime.jsxs)("span",{onClick:function onClick(){return setWorkshops(Object.assign({},workshops,defineProperty_default()({},workshop.engName,Object.assign({},workshop,{active:!workshop.active}))))},children:[workshop.name,Object(jsx_runtime.jsx)(chevron_down_inline.a,{className:"main-window__img ".concat(workshop.active?"":"main-window__img--rotated")})]}),Object(jsx_runtime.jsx)("div",{className:"notes-journal__employees",children:isLoading?Object(jsx_runtime.jsx)(PlaceholderLoading.a,{itemClassName:"employees__row"}):workshop.active?filteredEmployees.map((function(employee){var _yesterdaysWork$works,_todaysWork$workshop$,prevDay=new Date(new Date(curDay).setDate(curDay.getDate()-1)),isWeekend=0===prevDay.getDay()||6===prevDay.getDay(),screenIsMobile=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=768;return Object(jsx_runtime.jsxs)("div",{className:"employees__row",children:[Object(jsx_runtime.jsx)("span",{children:Object(jsx_runtime.jsxs)(react_router_dom.a,{to:"/dispatcher/employees/edit/".concat(employee.id),target:"_blank",children:[Object(jsx_runtime.jsxs)("div",{children:["".concat(employee.lastName," ").concat(employee.name," ").concat(employee.middleName),Object(jsx_runtime.jsx)(bx_window_open_inline,{className:"main-window__img"})]}),Object(jsx_runtime.jsx)("div",{children:employee.position})]})}),Object(jsx_runtime.jsxs)("div",{className:"employees__days-wrapper",children:[screenIsMobile?null:Object(jsx_runtime.jsx)(TableView_DayItem,{isWeekend:isWeekend,handleOpenWorkForm:handleOpenWorkForm,dayType:"yesterday",employee:employee,workshopName:workshop.engName,curDay:curDay,works:null===(_yesterdaysWork$works=yesterdaysWork[workshop.engName][employee.id])||void 0===_yesterdaysWork$works?void 0:_yesterdaysWork$works.works}),Object(jsx_runtime.jsx)(TableView_DayItem,{isWeekend:isWeekend,handleOpenWorkForm:handleOpenWorkForm,dayType:"today",employee:employee,workshopName:workshop.engName,curDay:curDay,works:null===(_todaysWork$workshop$=todaysWork[workshop.engName][employee.id])||void 0===_todaysWork$workshop$?void 0:_todaysWork$workshop$.works})]})]},employee.id)})):null})]},index)}))})};TableView_TableView.displayName="TableView",TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"};var ProductionJournal_TableView=TableView_TableView,TableView_DayItem=function DayItem(_ref2){var _sortByField,isWeekend=_ref2.isWeekend,handleOpenWorkForm=_ref2.handleOpenWorkForm,_ref2$dayType=_ref2.dayType,dayType=void 0===_ref2$dayType?"yesterday":_ref2$dayType,employee=_ref2.employee,workshopName=_ref2.workshopName,works=_ref2.works,curDay=_ref2.curDay,isOldData=Math.abs(Object(functions.f)(curDay,new Date))>=1,prevDay=new Date(new Date(curDay).setDate(curDay.getDate()-1));return Object(jsx_runtime.jsxs)("span",{className:"employees__day ".concat(isWeekend?"employees__weekend":""),children:[Object(jsx_runtime.jsxs)("div",{className:"employees__day-header",children:[Object(jsx_runtime.jsx)(AddToButton.a,{text:"Добавить работу",onClick:function onClick(){return handleOpenWorkForm(dayType,"new",workshopName,employee,works)}}),Object(jsx_runtime.jsx)("span",{children:isOldData?Object(functions.h)("yesterday"===dayType?prevDay:curDay):{yesterday:"Вчера",today:"Сегодня"}[dayType]}),(null==works?void 0:works.length)>0?Object(jsx_runtime.jsx)("span",{children:"".concat(null==works?void 0:works.reduce((function(sum,cur){return cur.hours+sum}),0)," ч")}):null]}),null===(_sortByField=Object(sorting.a)(works,{fieldName:"hours",direction:"desc"}))||void 0===_sortByField?void 0:_sortByField.map((function(work){return Object(jsx_runtime.jsx)(TableView_WorkItem,{work:work,onClick:function onClick(){return handleOpenWorkForm(dayType,"edit",workshopName,employee,works,work.id)}},work.id)}))]})};TableView_DayItem.displayName="DayItem";var TableView_WorkItem=function WorkItem(_ref3){var work=_ref3.work,onClick=_ref3.onClick,noProductError=0===work.product.length&&"Продукция"===work.workType,noDraftError=0===work.draft.length&&"Чертеж"===work.workType;return Object(jsx_runtime.jsxs)("div",{className:"employees__work-item ".concat(noProductError||noDraftError?"employees__work-item--no-product":""),onClick:onClick,children:[Object(jsx_runtime.jsx)(edit_inline.a,{className:"employees__img"}),Object(jsx_runtime.jsxs)("div",{className:"employees__work-header",children:[Object(jsx_runtime.jsx)("span",{children:work.workName}),Object(jsx_runtime.jsx)("span",{children:"".concat(work.hours," ч")})]}),Object(jsx_runtime.jsx)(TableView_ProductList,{work:work,name:"product"}),Object(jsx_runtime.jsx)(TableView_ProductList,{work:work,name:"draft"}),""!==work.comment?Object(jsx_runtime.jsxs)("div",{className:"employees__comment",children:[Object(jsx_runtime.jsx)("span",{children:"Комментарий:"}),Object(jsx_runtime.jsx)("span",{children:work.comment})]}):null,noProductError?Object(jsx_runtime.jsx)("div",{className:"employees__error",children:"Не указана продукция"}):null,noDraftError?Object(jsx_runtime.jsx)("div",{className:"employees__error",children:"Не указан чертеж"}):null]})};TableView_WorkItem.displayName="WorkItem";var TableView_ProductList=function ProductList(_ref4){var _work$name,_ref4$work=_ref4.work,work=void 0===_ref4$work?{}:_ref4$work,_ref4$name=_ref4.name,name=void 0===_ref4$name?"":_ref4$name;return 0===work[name].length?null:Object(jsx_runtime.jsx)("div",{className:"employees__item-list",children:null===(_work$name=work[name])||void 0===_work$name?void 0:_work$name.map((function(product){return Object(jsx_runtime.jsx)("span",{children:"- ".concat(product.name," - ").concat(product.quantity," шт")},product.id)}))})};TableView_ProductList.displayName="ProductList","undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/TableView.jsx"});var MessageForUser=__webpack_require__(997),dataObjects=__webpack_require__(2678),useWorkReport=(__webpack_require__(3376),__webpack_require__(2901)),useFormWindow=__webpack_require__(451),ErrorMessage=(__webpack_require__(443),__webpack_require__(241),__webpack_require__(283),__webpack_require__(242),__webpack_require__(334),__webpack_require__(3378),__webpack_require__(2660),__webpack_require__(1003)),SelectEmployee=__webpack_require__(2902),work_control=__webpack_require__(2687),Button=__webpack_require__(182),useProductsList=__webpack_require__(2711),SelectWork=__webpack_require__(2900),RecordWork_functions=__webpack_require__(2865),RecordWorkForm_RecordWorkForm=function RecordWorkForm(_ref){var _worktimeInputs$works,_worktimeInputs$works2,inputs=_ref.inputs,handleCloseWindow=_ref.handleCloseWindow,_useState=Object(react.useState)({date:new Date,employee:null,works:[],originalWorks:[]}),_useState2=slicedToArray_default()(_useState,2),worktimeInputs=_useState2[0],setWorkTimeInputs=_useState2[1],_useState3=Object(react.useState)({date:!1,employee:!1,works:!1}),_useState4=slicedToArray_default()(_useState3,2),workTimeErrors=_useState4[0],setWorkTimeErrors=_useState4[1],_useState5=Object(react.useState)({date:!0,employee:!0,works:!0}),_useState6=slicedToArray_default()(_useState5,2),validInputs=_useState6[0],setValidInputs=_useState6[1],_useState7=Object(react.useState)(!1),_useState8=slicedToArray_default()(_useState7,2),showError=_useState8[0],setShowError=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),isSaved=_useState12[0],setIsSaved=_useState12[1],_useProductsList=Object(useProductsList.a)(),products=_useProductsList.products,categories=_useProductsList.categories,_useState13=Object(react.useState)(0),_useState14=slicedToArray_default()(_useState13,2),totalHours=_useState14[0],setTotalHours=_useState14[1],_useState15=Object(react.useState)(!1),_useState16=slicedToArray_default()(_useState15,2),showMessage=_useState16[0],setShowMessage=_useState16[1];return Object(react.useEffect)((function(){var _inputs$employee,_inputs$employee2,_worktimeInputs$emplo;((null==inputs||null===(_inputs$employee=inputs.employee)||void 0===_inputs$employee?void 0:_inputs$employee.lastName)&&null===worktimeInputs.employee||(null===(_inputs$employee2=inputs.employee)||void 0===_inputs$employee2?void 0:_inputs$employee2.id)!==(null===(_worktimeInputs$emplo=worktimeInputs.employee)||void 0===_worktimeInputs$emplo?void 0:_worktimeInputs$emplo.id)||inputs.date!==worktimeInputs.date||inputs.type!==worktimeInputs.type||inputs.works!==worktimeInputs.works)&&setWorkTimeInputs(Object.assign({},inputs,{originalWorks:inputs.works}))}),[inputs,handleCloseWindow]),Object(react.useEffect)((function(){isSaved&&(handleCloseWindow(),setIsSaved(!1))}),[isSaved]),Object(jsx_runtime.jsx)("div",{className:"record-work-form",children:Object(jsx_runtime.jsx)("div",{className:"main-form",children:Object(jsx_runtime.jsxs)("form",{className:"main-form__form",children:[Object(jsx_runtime.jsx)(ErrorMessage.a,{message:"Не заполнены все обязательные поля!",showError:showError,setShowError:setShowError}),Object(jsx_runtime.jsx)(MessageForUser.a,{showMessage:showMessage,setShowMessage:setShowMessage,title:"Подтверждение удаления",message:"Вы уверены что хотите удалить этот элемент?",onClick:function onClick(){!function handleDelete(){setIsLoading(!0),console.log("deleting element",worktimeInputs);var originalWork=worktimeInputs.originalWorks[0],id=originalWork.id;Promise.all(originalWork.product.map((function(product){return Object(work_control.e)(id,product.id)}))).then((function(){return Promise.all(originalWork.draft.map((function(draft){return Object(work_control.d)(id,draft.partId,draft.partType)})))})).then((function(){return Object(work_control.f)(id)})).then((function(){inputs.deleteSelectedDaysWork(),setIsSaved(!0),setIsLoading(!1)}))}(),setShowMessage(!1)}}),Object(jsx_runtime.jsx)(InputDate.a,{inputName:"Дата",name:"date",selected:worktimeInputs.date,readOnly:!0}),Object(jsx_runtime.jsx)(SelectEmployee.a,{inputName:"Выбор сотрудника",defaultValue:worktimeInputs.employee,userHasAccess:function userHasAccess(){},readOnly:!0}),Object(jsx_runtime.jsx)(SelectWork.a,{handleWorkChange:function handleWorkChange(value){!function validateField(fieldName,value){switch(fieldName){case"date":setValidInputs(Object.assign({},validInputs,{date:null!==value}));break;case"works":setValidInputs(Object.assign({},validInputs,{works:null!==value}));break;default:void 0!==validInputs[fieldName]&&setValidInputs(Object.assign({},validInputs,defineProperty_default()({},fieldName,""!==value)))}}("works",value),setWorkTimeInputs(Object.assign({},worktimeInputs,{works:value})),setWorkTimeErrors(Object.assign({},workTimeErrors,{works:!1}))},totalHours:totalHours,setTotalHours:setTotalHours,categories:categories,products:products,defaultValue:worktimeInputs.works,noNewItems:!0}),Object(jsx_runtime.jsx)("div",{className:"main-form__item",children:Object(jsx_runtime.jsx)("div",{className:"main-form__input_name",children:"Всего: ".concat(totalHours," ч")})}),Object(jsx_runtime.jsx)("div",{className:"main-form__input_hint",children:"* - поля, обязательные для заполнения"}),Object(jsx_runtime.jsxs)("div",{className:"main-form__buttons main-form__buttons--full",children:[Object(jsx_runtime.jsx)("button",{inverted:!0,className:"main-form__submit main-form__submit--inverted",onClick:function onClick(){return setIsSaved(!0)},children:"Закрыть"}),"edit"===worktimeInputs.type?Object(jsx_runtime.jsx)(Button.a,{text:"Удалить запись",isLoading:isLoading,className:"main-form__submit",onClick:function onClick(){return setShowMessage(!0)}}):null,(null===(_worktimeInputs$works=worktimeInputs.works)||void 0===_worktimeInputs$works?void 0:_worktimeInputs$works.length)>0&&(null===(_worktimeInputs$works2=worktimeInputs.works)||void 0===_worktimeInputs$works2?void 0:_worktimeInputs$works2.reduce((function(sum,cur){return"Без продукции/чертежа"===cur.workType||"Чертеж"===cur.workType?sum+1:null==cur?void 0:cur.product.length}),0))>0?Object(jsx_runtime.jsx)(Button.a,{text:"Сохранить данные",isLoading:isLoading,className:"main-form__submit",onClick:function handleSubmit(){return Object(RecordWork_functions.a)(worktimeInputs,worktimeInputs.date,worktimeInputs.employee,setIsLoading,inputs).then((function(){return setIsSaved(!0)}))}}):null]})]})})})};RecordWorkForm_RecordWorkForm.displayName="RecordWorkForm",RecordWorkForm_RecordWorkForm.__docgenInfo={description:"",methods:[],displayName:"RecordWorkForm"};var WorkManagement_ProductionJournal_RecordWorkForm=RecordWorkForm_RecordWorkForm;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/RecordWorkForm.jsx"]={name:"RecordWorkForm",docgenInfo:RecordWorkForm_RecordWorkForm.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/RecordWorkForm.jsx"});__webpack_require__(987),__webpack_require__(2826),__webpack_require__(2691),__webpack_require__(1583);var pdfFunctions=__webpack_require__(2672),updateData=function updateData(worksList,selectedWork,newData){var temp=worksList;return temp.splice(worksList.indexOf(selectedWork),1,newData),temp},functions_getProductListText=function getProductListText(products){return products.map((function(product){return"".concat(product.name," - ").concat(Object(functions.a)(Number(product.quantity))," шт\n")})).join("")},getDaysWorkText=function getDaysWorkText(workItem){return workItem.works.map((function(work){var productText=functions_getProductListText(work.product),draftText=functions_getProductListText(work.draft);return["".concat(work.workName," - ").concat(work.hours," ч\n"),{text:productText,fontSize:9,color:"#666"},{text:draftText,fontSize:9,color:"#666"},work.comment&&{text:"Комментарий: ".concat(work.comment),fontSize:9,color:"#999",italics:!0}]}))},functions_getWorkshopList=function getWorkshopList(employees,workshop,curDate,todaysWork,yesterdaysWork){var prevDay=new Date(new Date(curDate).setDate(curDate.getDate()-1)),filteredEmployees=function sortEmployees(employees,workshop){return Object(sorting.a)(employees.filter((function(employee){return employee.workshop===workshop.name&&"Уволен"!==(null==employee?void 0:employee.relevance)&&"Уволенные"!==(null==employee?void 0:employee.workshop)})),{fieldName:"lastName",direction:"asc"})}(employees,workshop);if(0===filteredEmployees.length)return null;var listItems=[],index=0;filteredEmployees.map((function(employee){var _todaysWorks$works,_yesterdaysWorks$work,yesterdaysWorks=yesterdaysWork[workshop.engName][employee.id],todaysWorks=todaysWork[workshop.engName][employee.id];if((0!==(null==todaysWorks||null===(_todaysWorks$works=todaysWorks.works)||void 0===_todaysWorks$works?void 0:_todaysWorks$works.length)||0!==(null==yesterdaysWorks||null===(_yesterdaysWorks$work=yesterdaysWorks.works)||void 0===_yesterdaysWorks$work?void 0:_yesterdaysWorks$work.length))&&todaysWorks&&yesterdaysWorks){var defaultStyle={style:"regularText",fontSize:10,color:"#444",fillColor:index%2==0?"#fff":"#eee",border:[!1,!1,!1,!0],borderColor:["#bbb","#bbb","#bbb","#bbb"]};listItems.push([Object.assign({text:"".concat(employee.lastName," ").concat(employee.name," ").concat(employee.middleName[0],".")},defaultStyle),Object.assign({stack:getDaysWorkText(yesterdaysWorks)},defaultStyle),Object.assign({stack:getDaysWorkText(todaysWorks)},defaultStyle)]),index++}}));var listHeaderStyles={style:"tableHeader",border:[!1,!1,!1,!0],borderColor:["#bbb","#bbb","#bbb","#bbb"]};return[{text:"".concat(workshop.name,"\n"),style:"subheader",fontSize:12,color:"#333",margin:[0,15,0,5]},{table:{widths:[120,"*","*"],headerRows:1,body:[[Object.assign({text:"ФИО сотрудника"},listHeaderStyles),Object.assign({text:Object(functions.h)(prevDay)},listHeaderStyles),Object.assign({text:Object(functions.h)(curDate)},listHeaderStyles)]].concat(listItems)}}]},ProductionJournal_ProductionJournal_ProductionJournal=function ProductionJournal(){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showMessage=_useState2[0],setShowMessage=_useState2[1],_useState3=Object(react.useState)(new Date),_useState4=slicedToArray_default()(_useState3,2),curDay=_useState4[0],setCurDay=_useState4[1],_useState5=Object(react.useState)({day:"today",title:"Создание записи о работе",type:"new",workshop:"lemz",employee:{},worksList:[],workId:0}),_useState6=slicedToArray_default()(_useState5,2),curWorkItem=_useState6[0],setCurWorkItem=_useState6[1],handleCloseWindow=function handleCloseWindow(){return setShowWindow(!_showWindow)},_useFormWindow=Object(useFormWindow.a)(curWorkItem.title,Object(jsx_runtime.jsx)(WorkManagement_ProductionJournal_RecordWorkForm,{inputs:curWorkItem,handleCloseWindow:function handleCloseWindow(){return setShowWindow(!1)},showWindow:function showWindow(){return _showWindow},setShowWindow:setShowWindow}),[curWorkItem]),formWindow=_useFormWindow.formWindow,setShowWindow=_useFormWindow.setShowWindow,_showWindow=_useFormWindow.showWindow,_useState7=Object(react.useState)(""),_useState8=slicedToArray_default()(_useState7,2),searchQuery=_useState8[0],setSearchQuery=_useState8[1],_useWorkReport=Object(useWorkReport.a)(curDay),todaysWork=_useWorkReport.worktimeInputs,employees=_useWorkReport.employees,todayLoading=_useWorkReport.isLoading,setTodaysWork=_useWorkReport.setWorkTimeInputs,_useWorkReport2=Object(useWorkReport.a)(new Date(new Date(curDay).setDate(curDay.getDate()-1))),yesterdaysWork=_useWorkReport2.worktimeInputs,yesterdayLoading=_useWorkReport2.isLoading,setYesterdaysWork=_useWorkReport2.setWorkTimeInputs;Object(react.useEffect)((function(){document.title="Дневник производства",console.log(todaysWork,yesterdaysWork)}),[todaysWork,yesterdaysWork]);var defaultWorkItem={product:[],draft:[],workName:"",workType:"",workId:null,hours:0,comment:"",isOld:!1};return Object(jsx_runtime.jsxs)("div",{className:"notes-journal",children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__header main-window__header--full",children:[Object(jsx_runtime.jsx)("div",{className:"main-window__title",children:"Дневник производства"}),Object(jsx_runtime.jsxs)("div",{className:"main-window__description",children:['Для того, чтобы сохранить введенные вами данные о работе в системе,\n          нажмите кнопку "Сохранить данные" в окне создания/редактирования\n          записи о работе. Для редактирования записи о работе, достаточно нажать\n          на эту запись мышкой - вы перейдете в окно редактирования.',Object(jsx_runtime.jsx)("p",{}),'Сообщайте пожалуйста об ошибках программы/своих предложениях в\n          Обратной связи ("Сообщить об ошибке" в боковом меню слева) - мы будем\n          рады помочь!']})]}),formWindow,Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите фамилию сотрудника для поиска...",setSearchQuery:setSearchQuery}),Object(jsx_runtime.jsx)(MessageForUser.a,{message:"Данные успешно сохранены",title:"Сохранение данных",showMessage:showMessage,setShowMessage:setShowMessage}),Object(jsx_runtime.jsx)(ControlPanel.a,{buttons:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(InputDate.a,{selected:Date.parse(curDay),inputName:"Выбор даты:",handleDateChange:function handleDateChange(date){return setCurDay(date)}}),Object(jsx_runtime.jsx)(Button.a,{className:"main-window__button main-window__button--inverted",inverted:!0,text:"Печатная форма",onClick:function onClick(){return function createWorkListPDF(employees,todaysWork,yesterdaysWork,curDate){var list=[];Object.values(defaultJournalWorkshops).map((function(workshop){list.push(functions_getWorkshopList(employees,workshop,curDate,todaysWork,yesterdaysWork))}));var data={info:{title:"Дневник производства"},content:[{text:"Дневник производства\n",style:"title",margin:[0,0,0,0]}].concat(list),styles:pdfFunctions.b};Object(pdfFunctions.a)(data)}(employees,todaysWork,yesterdaysWork,curDay)}})]})}),Object(jsx_runtime.jsxs)("div",{className:"notes-journal__current-date",children:[Object(jsx_runtime.jsx)(ProductionJournal_ChangeDayButton,{day:"prevDay",curDay:curDay,setCurDay:setCurDay}),"".concat(Object(functions.h)(curDay)," - ").concat(dataObjects.b[curDay.getDay()]),Object(jsx_runtime.jsx)(ProductionJournal_ChangeDayButton,{day:"nextDay",curDay:curDay,setCurDay:setCurDay})]}),Object(jsx_runtime.jsx)(ProductionJournal_TableView,{isLoading:todayLoading||yesterdayLoading,curDay:curDay,todaysWork:todaysWork,yesterdaysWork:yesterdaysWork,searchQuery:searchQuery,employees:employees,handleOpenWorkForm:function handleOpenWorkForm(){var day=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"today",type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",workshop=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lemz",employee=arguments.length>3?arguments[3]:void 0,worksList=arguments.length>4?arguments[4]:void 0,workId=arguments.length>5?arguments[5]:void 0;handleCloseWindow();var deletedWork=worksList?worksList.filter((function(work){return work.id!==workId})):null,selectedWork=worksList?worksList.find((function(work){return work.id===workId})):null,updateWork=function updateWork(daysWork,setDaysWork,works){setDaysWork(Object.assign({},daysWork,defineProperty_default()({},workshop,defineProperty_default()({},employee.id,Object.assign({},daysWork[workshop][employee.id],{works:works,originalWorks:works})))))},_updateSelectedDaysWork=function updateSelectedDaysWork(daysWork,setDaysWork,newData){updateWork(daysWork,setDaysWork,toConsumableArray_default()(updateData(worksList,selectedWork,newData)))},_addSelectedDaysWork=function addSelectedDaysWork(daysWork,setDaysWork,newData){updateWork(daysWork,setDaysWork,[].concat(toConsumableArray_default()(worksList),[newData]))},_deleteSelectedDaysWork=function deleteSelectedDaysWork(daysWork,setDaysWork){updateWork(daysWork,setDaysWork,deletedWork)};setCurWorkItem({day:day,date:"today"===day?curDay:new Date(new Date(curDay).setDate(curDay.getDate()-1)),type:type,workshop:workshop,employee:employee,works:"new"===type?[defaultWorkItem]:[selectedWork],title:"new"===type?"Создание записи о работе":"Редактирование записи о работе",hideWindow:function hideWindow(){return setShowWindow(!_showWindow)},updateSelectedDaysWork:function updateSelectedDaysWork(newData){return"today"===day?_updateSelectedDaysWork(todaysWork,setTodaysWork,newData):_updateSelectedDaysWork(yesterdaysWork,setYesterdaysWork,newData)},deleteSelectedDaysWork:function deleteSelectedDaysWork(){return"today"===day?_deleteSelectedDaysWork(todaysWork,setTodaysWork):_deleteSelectedDaysWork(yesterdaysWork,setYesterdaysWork)},addSelectedDaysWork:function addSelectedDaysWork(newData){return"today"===day?_addSelectedDaysWork(todaysWork,setTodaysWork,newData):_addSelectedDaysWork(yesterdaysWork,setYesterdaysWork,newData)}})}})]})};ProductionJournal_ProductionJournal_ProductionJournal.displayName="ProductionJournal",ProductionJournal_ProductionJournal_ProductionJournal.__docgenInfo={description:"",methods:[],displayName:"ProductionJournal"};__webpack_exports__.default=ProductionJournal_ProductionJournal_ProductionJournal;var ProductionJournal_ChangeDayButton=function ChangeDayButton(_ref){var _ref$day=_ref.day,day=void 0===_ref$day?"prevDay":_ref$day,setCurDay=_ref.setCurDay,curDay=_ref.curDay;return Object(jsx_runtime.jsx)(chevron_down_inline.a,{className:"main-window__img",style:{transform:"rotate(".concat("prevDay"===day?"90deg":"-90deg",")")},onClick:function onClick(){return setCurDay(new Date(new Date(curDay).setDate(curDay.getDate()+("nextDay"===day?1:-1))))}})};ProductionJournal_ChangeDayButton.displayName="ChangeDayButton","undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/ProductionJournal.jsx"]={name:"ProductionJournal",docgenInfo:ProductionJournal_ProductionJournal_ProductionJournal.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/ProductionJournal/ProductionJournal.jsx"})}}]);