(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{2855:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(23),__webpack_require__(36),__webpack_require__(51),__webpack_require__(0)),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(2856),__webpack_require__(1)),PlaceholderLoading=function PlaceholderLoading(_ref){var _ref$items=_ref.items,items=void 0===_ref$items?3:_ref$items,itemClassName=_ref.itemClassName,_ref$minHeight=_ref.minHeight,minHeight=void 0===_ref$minHeight?"1.5rem":_ref$minHeight,placeholderContent=_ref.placeholderContent,wrapperClassName=_ref.wrapperClassName,_ref$itemStyles=_ref.itemStyles,itemStyles=void 0===_ref$itemStyles?{}:_ref$itemStyles,_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),elements=_useState2[0],setElements=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((function(){for(var temp=[],count=items,i=1;i<=count;i++)temp.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading__item ".concat(itemClassName),style:Object.assign({minHeight:minHeight},itemStyles)}));setElements([].concat(temp))}),[]),placeholderContent?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading ".concat(wrapperClassName),children:elements.map((function(item,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:itemClassName,style:{minHeight:minHeight},children:placeholderContent},index)}))}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"placeholder-loading ".concat(wrapperClassName),children:elements.map((function(item){return item}))})};PlaceholderLoading.displayName="PlaceholderLoading",PlaceholderLoading.__docgenInfo={description:"",methods:[],displayName:"PlaceholderLoading",props:{items:{defaultValue:{value:"3",computed:!1},type:{name:"number"},required:!1,description:""},minHeight:{defaultValue:{value:"'1.5rem'",computed:!1},type:{name:"string"},required:!1,description:""},itemStyles:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},itemClassName:{type:{name:"string"},required:!1,description:""},wrapperClassName:{type:{name:"string"},required:!1,description:""},placeholderContent:{type:{name:"any"},required:!1,description:""}}},__webpack_exports__.a=PlaceholderLoading,PlaceholderLoading.propTypes={items:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,minHeight:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,itemClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,wrapperClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,placeholderContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any,itemStyles:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableView/PlaceholderLoading/PlaceholderLoading.jsx"]={name:"PlaceholderLoading",docgenInfo:PlaceholderLoading.__docgenInfo,path:"src/components/TableView/PlaceholderLoading/PlaceholderLoading.jsx"})},2856:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2857);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2857:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,'@keyframes pulse-placeholder-loading{0%,100%{background-color:#e7e7e7}50%{background-color:#efefef}}@keyframes load{from{left:-150px}to{left:100%}}.placeholder-loading__item{height:1rem;background-color:#ddd;animation:pulse-placeholder-loading 1s infinite ease-in-out;position:relative;overflow:hidden;border-bottom:1px solid #bbb}.placeholder-loading__item::after{content:"";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(to right, transparent 0%, #e8e8e8 50%, transparent 100%);animation:load 1s cubic-bezier(0.4, 0, 0.2, 1) infinite}\n',""]),module.exports=exports},2859:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react_datepicker__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(23),__webpack_require__(165),__webpack_require__(201),__webpack_require__(2882)),react_datepicker__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_4__),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2885),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(2881),__webpack_require__(2864),__webpack_require__(1)),InputDate=function InputDate(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__input_name",children:props.inputName+(props.required?"*":"")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:!0===props.error?"input_date__input_field input_date__input_field--error":"input_date__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_datepicker__WEBPACK_IMPORTED_MODULE_4___default.a,Object.assign({},props,{onChange:props.handleDateChange,disabledKeyboardNavigation:!0,dateFormat:props.showMonthYearPicker?"MM.yyyy":"dd.MM.yyyy",locale:date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__.a}))})]}),!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.name,!1)))}:null,children:"Поле не заполнено!"})]})};InputDate.displayName="InputDate",InputDate.__docgenInfo={description:"",methods:[],displayName:"InputDate",props:{inputName:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},error:{type:{name:"bool"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDateChange:{type:{name:"func"},required:!1,description:""},selected:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""},showMonthYearPicker:{type:{name:"bool"},required:!1,description:""},setErrorsArr:{type:{name:"func"},required:!1,description:""},errorsArr:{type:{name:"object"},required:!1,description:""}}},__webpack_exports__.a=InputDate,InputDate.propTypes={inputName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,handleDateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.instanceOf(Date),readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,showMonthYearPicker:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,setErrorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,errorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/InputDate/InputDate.jsx"]={name:"InputDate",docgenInfo:InputDate.__docgenInfo,path:"src/components/Form/InputDate/InputDate.jsx"})},2863:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/edit.efe0dc2a.svg"},2864:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(2865);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2865:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_date{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_date .input_date__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.input_date .input_date__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_date .input_date__input .input_date__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper{width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker{z-index:999}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker .react-datepicker__day--selected{background-color:#4293b6 !important}.input_date .input_date__input .input_date__input_field .react-datepicker-popper{z-index:999}.input_date .input_date__input .input_date__input_field input[type="text"],.input_date .input_date__input .input_date__input_field input[type="password"]{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;box-sizing:border-box;transition:100ms ease-in-out;min-height:2rem}.input_date .input_date__input .input_date__input_field input[type="text"]:hover,.input_date .input_date__input .input_date__input_field input[type="password"]:hover{border-color:#888888}.input_date .input_date__input .input_date__input_field input[type="text"]:focus,.input_date .input_date__input .input_date__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_date .input_date__input .input_date__input_field--error input[type="text"],.input_date .input_date__input .input_date__input_field--error input[type="password"]{border:1px solid #d48282 !important}.input_date .input_date__input .input_date__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_date .input_date__input{flex-wrap:wrap;flex-direction:column;align-items:flex-start}.input_date .input_date__input .input_date__input_name{width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{width:100%}.input_date .input_date__input .input_date__input_field input{padding:10px !important}}\n',""]),module.exports=exports},2867:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return months})),__webpack_require__.d(__webpack_exports__,"b",(function(){return days})),__webpack_require__.d(__webpack_exports__,"a",(function(){return customSelectStyles}));__webpack_require__(23);var months=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],days=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],customSelectStyles={container:function container(provided){return Object.assign({},provided,{width:"100%",borderColor:"1px solid #247fa7"})},option:function option(provided){return Object.assign({},provided,{borderColor:"1px solid #247fa7"})}}},2887:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/chevron-down.d0a0493c.svg"},2895:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ok.2ad21b54.svg"},2934:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return sortEmployees})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getMonthDates}));__webpack_require__(476),__webpack_require__(201);var sortEmployees=function sortEmployees(employees){return employees.sort((function(a,b){return a.employee.lastName<b.employee.lastName?-1:a.employee.lastName>b.employee.lastName?1:0}))},getMonthDates=function getMonthDates(curDate){for(var date=new Date(curDate.getFullYear(),curDate.getMonth()+1,0).getDate()+1,dates=[],i=1;i<date;i++)dates.push(i);return dates}},3012:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(3013),__webpack_require__(1)),TableLoading=function TableLoading(_ref){var isLoading=_ref.isLoading;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"table-loading ".concat(isLoading?"":"table-loading--hidden"),children:isLoading&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"table-loading__circle"})})};TableLoading.displayName="TableLoading",TableLoading.__docgenInfo={description:"",methods:[],displayName:"TableLoading",props:{isLoading:{type:{name:"bool"},required:!1,description:""}}},__webpack_exports__.a=TableLoading,TableLoading.propTypes={isLoading:prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableView/TableLoading/TableLoading.jsx"]={name:"TableLoading",docgenInfo:TableLoading.__docgenInfo,path:"src/components/TableView/TableLoading/TableLoading.jsx"})},3013:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3014);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3014:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.table-loading{background-color:rgba(255,255,255,0.4);position:absolute;top:0;left:0;width:100%;height:100%;min-height:200px;z-index:1;border-radius:5px}.table-loading--hidden{width:0;height:0}.table-loading__circle{display:block;position:absolute;top:50%;left:50%;height:50px;width:50px;margin:-25px 0 0 -25px;border:4px rgba(70,93,102,0.2) solid;border-top:4px rgba(70,93,102,0.5) solid;border-radius:50%;-webkit-animation:spin4 1s infinite linear;animation:spin4 1s infinite linear}@-webkit-keyframes spin4{from{-webkit-transform:rotate(359deg);transform:rotate(359deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes spin4{from{-webkit-transform:rotate(359deg);transform:rotate(359deg);-webkit-transform:rotate(359deg);transform:rotate(359deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0deg)}}\n",""]),module.exports=exports},3326:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3327);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3327:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.work-management-page{background-color:#f4f4f4}.work-management-page .main-window__title{display:flex;align-items:center;justify-content:center;margin-bottom:0 !important}.work-management-page .main-window__title .main-window__button{font-size:60%}.work-management-page .main-window__title .main-window__img{margin-right:5px;filter:invert(1)}.work-management-page .control-panel{margin-bottom:10px}.work-management-page .control-panel .main-window__info-panel{margin-top:10px}.work-management-page .work-management-page__mobile-text{display:none}.work-management-page .main-window__list .main-window__list-item{cursor:pointer}.work-management-page .main-window__list .main-window__list-item span:nth-child(1){flex:0 1 30%}.work-management-page .main-window__list .main-window__list-item span:nth-child(2){flex:0 1 50%}.work-management-page .main-window__list .main-window__list-item span:nth-child(3){max-width:50px}.work-management-page .main-window__list .main-window__list-item span:nth-child(5){max-width:100px}.work-management-page .main-window__info-panel{justify-content:space-between !important;align-items:center;flex-wrap:wrap}.work-management-page .main-window__info-panel .work-management-page__date-pick{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-size:80%;width:fit-content}.work-management-page .main-window__info-panel .work-management-page__date-pick>div:first-child{display:flex;flex-direction:row}.work-management-page .main-window__info-panel .work-management-page__date-pick .main-window__button{padding:7.5px 5px}.work-management-page .main-window__info-panel .work-management-page__date-pick .main-window__button img{filter:brightness(3)}.work-management-page .main-window__info-panel .work-management-page__workshop-pick{display:flex;justify-content:center;align-items:center;font-size:90%;flex-wrap:wrap}.work-management-page .main-window__info-panel .work-management-page__workshop-pick .main-window__button{font-size:75%;padding:5px 10px;margin-top:5px}.work-management-page .main-window__info-panel .work-management-page__workshop-pick .main-window__button--inverted{color:#666666}.work-management-page .main-window__info-panel .work-management-page__workshop-pick .main-window__amount_table{margin-top:5px}.work-management-page .main-window__sort-panel{display:flex;width:calc(100% - 50px);margin-bottom:5px;font-size:80%;color:#666666;align-items:center}.work-management-page .main-window__sort-panel span{margin-right:5px}.work-management-page .main-window__sort-panel select{outline:none;border-radius:5px;min-width:100px;padding:2.5px 5px}.work-management-page .input_date{margin-bottom:0;margin-right:10px}.work-management-page .main-window__line{content:"";width:2px;background-color:#4293b6;height:calc(100% - 25px);position:absolute;top:0;left:10px;border-radius:999px}.work-management-page .main-window__list-options{display:flex;flex-direction:column;align-items:center;position:relative;padding-bottom:10px !important;font-size:80% !important}.work-management-page .main-window__list-options--hidden{padding-bottom:0px !important}.work-management-page .main-window__list-options .main-window__reminder{justify-content:center;padding:1px 10px}.work-management-page .main-window__list-options .main-window__reminder div:nth-child(1){font-size:14px;margin-right:5px}.work-management-page .main-window__list-options .main-window__reminder div:nth-child(2){width:fit-content}.work-management-page .main-window__list-options::after{content:"";width:10px;background-color:#dddddd;height:22px;font-size:90%;position:absolute;bottom:2px;left:5px}.work-management-page .main-window__list-options:hover .main-window__action .main-window__img{filter:brightness(1) !important}.work-management-page .main-window__list-options>span:not(:first-of-type){margin-top:10px}.work-management-page .main-window__list-options>span:last-of-type{padding-bottom:5px}.work-management-page .main-window__list-options>.main-window__list-item:last-of-type{margin-bottom:0px}.work-management-page .main-window__list-options>span{color:#222222;position:relative;display:flex;flex-direction:row;align-items:center;font-size:95% !important}.work-management-page .main-window__list-options>span div:first-child{text-decoration:underline}.work-management-page .main-window__list-options>span .main-window__action{margin-left:5px;padding:0px 2px !important;width:fit-content}.work-management-page .main-window__list-options>span::before{content:"";width:20px;height:20px;border:2px solid #4293b6;border-color:transparent transparent transparent #4293b6;position:absolute;left:-85px;border-radius:999px;background-color:#4293b6;border:0;border-radius:0;width:10px;height:2px;top:10px}.work-management-page .main-window__list-options>span::after{display:flex;justify-content:center;align-items:center;text-align:center;content:attr(data-hours);width:25px;padding:0 10px;width:fit-content;border:2px solid #4293b6;background-color:#4293b6;color:#fff;height:25px;font-size:90%;position:absolute;top:-3.5px;left:-75px;border-radius:999px}.work-management-page .main-window__list-options span,.work-management-page .main-window__list-options .main-window__list-item{width:calc(100% - 160px);margin-left:20px}.work-management-page .main-window__list-options span span,.work-management-page .main-window__list-options .main-window__list-item span{margin-left:0}.work-management-page .main-window__list-options .main-window__list-item:not(.main-window__list-item--header){position:relative;font-size:80%}.work-management-page .main-window__list-options .main-window__list-item:not(.main-window__list-item--header):hover span{color:#fff}.work-management-page .main-window__list-options .main-window__list-item:not(.main-window__list-item--header)::before{content:"";width:35px;height:20px;border:2px solid #4293b6;border-color:transparent transparent transparent #4293b6;position:absolute;top:0px;left:-50px;border-radius:999px;background-color:#4293b6;border:0;border-radius:0;width:50px;height:2px;top:15px}.work-management-page .main-window__list-options .main-window__list-item:not(.main-window__list-item--header):last-child::after{content:"";width:10px;background-color:#dddddd;height:20.5px;font-size:90%;position:absolute;top:17px;left:-55px}.work-management-page .main-window__list-options .main-window__list-item{width:50%;margin-left:50px;min-width:250px;max-width:500px;margin-right:auto;padding:8px 5px !important}.work-management-page .main-window__list-options .main-window__list-item span{color:#000;transition:200ms ease-in-out}.work-management-page .main-window__list-options .main-window__list-item span:nth-child(1){flex:0 1 100%}.work-management-page .main-window__list-options .main-window__list-item span:nth-child(2){max-width:100px}.work-management-page .main-window__list-options>span{font-size:16px}.work-management-page .input_date__input_name{margin-right:5px}.work-management-page .react-datepicker-wrapper{width:100%}.work-management-page .react-datepicker-wrapper .react-datepicker{width:100%}.work-management-page .react-datepicker-wrapper .react-datepicker .react-datepicker__day--selected{background-color:#4293b6 !important}.work-management-page .main-window__actions{flex-direction:row !important}@media (max-width: 1024px){.work-management-page .floating-plus{display:none}}@media (max-width: 768px){.work-management-page .main-window{padding-top:0}.work-management-page .main-window__menu{width:calc(100% - 10px) !important}.work-management-page .main-window__list-item span{max-width:100% !important}.work-management-page .main-window__info-panel{width:calc(100% - 30px);flex-direction:column !important}.work-management-page .searchbar{width:calc(100% - 10px)}.work-management-page .work-management-page__date-pick{margin-bottom:5px;width:100% !important;flex-direction:row;justify-content:flex-start !important}.work-management-page .work-management-page__date-pick>div:first-child{flex-direction:column !important}.work-management-page .work-management-page__date-pick .input_date{width:100%}.work-management-page .work-management-page__date-pick .input_date,.work-management-page .work-management-page__date-pick .input_date__input{flex-direction:row !important;flex-wrap:nowrap !important;align-items:center;justify-content:flex-start;margin-bottom:2.5px;width:calc(100% - 0px)}.work-management-page .work-management-page__date-pick .input_date .input_date__input_name,.work-management-page .work-management-page__date-pick .input_date__input .input_date__input_name{max-width:50px;width:50px;flex:0 1 50px}.work-management-page .work-management-page__date-pick .input_date__input_field{width:calc(100% - 60px) !important;max-width:120px;height:fit-content !important}.work-management-page .work-management-page__date-pick>.main-window__button{margin-left:5px;margin-top:0px;padding:10px 10px !important}.work-management-page .work-management-page__date-pick>.main-window__button .button__img{margin-right:0}.work-management-page .work-management-page__date-pick>.main-window__button .button__text{display:none}.work-management-page .work-management-page__workshop-pick{margin-top:10px;flex-wrap:wrap;width:100%;justify-content:flex-start !important}.work-management-page .work-management-page__workshop-pick .main-window__button{margin-right:2.5px;margin-bottom:2.5px;margin-top:0 !important}.work-management-page .work-management-page__workshop-pick .main-window__amount_table{margin-left:10px;margin-top:0 !important}.work-management-page .main-window__list-options{font-size:100% !important}.work-management-page .main-window__list-options .main-window__list-item{margin-left:0px;width:calc(90% - 10px);margin-right:0;margin-left:0}.work-management-page .main-window__list-options .main-window__list-item::before{display:none}.work-management-page .main-window__list-options .main-window__line{display:none}.work-management-page .main-window__list-options span{margin-left:0;width:100%}.work-management-page .main-window__list-options span::before{display:none}.work-management-page .main-window__list-options span::after{display:none}.work-management-page .main-window__list-options span div:nth-child(1){text-align:left;margin-right:10px}.work-management-page .main-window__list-options span>div:nth-child(2){padding:0 7.5px;border:2px solid #4293b6;background-color:#4293b6;color:#fff;border-radius:999px;font-size:90%;white-space:nowrap}.work-management-page .main-window__list-options span .main-window__mobile-text:last-child{min-width:50px}.work-management-page .main-window__list-options span .main-window__action:last-child{margin-right:auto}}\n',""]),module.exports=exports},3328:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/onecolumn.1759f3e9.png"},3329:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/twocolumns.ab6d670d.png"},3330:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3331);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3331:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.parts-statistic{width:calc(100% - 30px);background-color:rgba(255,255,255,0.5);border-radius:5px;margin:15px 0;padding:0px 0px;transition:200ms ease-in-out;box-shadow:none !important;border:1px solid #cccccc;border-radius:10px;margin-right:auto;margin-left:15px;padding-bottom:15px;width:100%;margin-left:0;margin-right:0;box-sizing:border-box;margin-top:-10px;border:0;border-radius:0;border-bottom:1px solid #dddddd}.parts-statistic .main-window__title{padding:15px 0px;cursor:pointer;transition:200ms ease-in-out;border-radius:5px;justify-content:flex-start;margin-top:10px !important;padding-top:5px !important;padding-bottom:5px !important;padding-left:28px !important}.parts-statistic .main-window__title:hover{background-color:rgba(255,255,255,0.8)}.parts-statistic .main-window__title .main-window__img{margin-left:2px;margin-top:3px}.parts-statistic .main-window__header{margin-bottom:0;transition:200ms ease-in-out;cursor:pointer}.parts-statistic .main-window__header .main-window__menu{width:100%;transition:200ms ease-in-out;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-left-radius:0px;border-bottom-right-radius:0px;box-shadow:none}.parts-statistic .main-window__header--hidden{height:0px;transform:scaleY(0);transition:200ms ease-in-out;margin-top:0}.parts-statistic .main-window__header--hidden .main-window__menu{height:0px;transform:scaleY(0);transition:200ms ease-in-out}.parts-statistic__wrapper{display:flex;flex-direction:row;justify-content:space-around;overflow-y:auto;width:100%;max-height:400px;overflow-y:auto;transform-origin:50% 0;transition:200ms ease-in-out;min-height:100px;position:relative;background-color:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.parts-statistic__wrapper--hidden{max-height:0px;min-height:0px;transform:scaleY(0);transition:200ms ease-in-out}.parts-statistic .main-window__chart-wrapper{background-color:transparent;box-shadow:none;padding:10px 15px;min-width:400px;margin:15px 10px;min-height:calc(250px) !important;max-height:none !important}.parts-statistic .main-window__chart-wrapper .main-window__chart{max-height:none !important}.parts-statistic .main-window__title{font-size:20px}.parts-statistic .main-window__list{margin:5px;max-width:500px;height:fit-content;transition:opacity 200ms ease-in-out, right 500ms ease-in-out;right:10px;opacity:1}.parts-statistic .main-window__list--hidden{position:absolute;opacity:0;visibility:hidden;right:200px;max-height:100px;overflow:hidden;transition:opacity 200ms ease-in-out, right 500ms ease-in-out}.parts-statistic .main-window__list .main-window__list-item{cursor:auto}.parts-statistic .main-window__list .main-window__list-item span:nth-child(1){flex:0 1 80%}.parts-statistic .main-window__list .main-window__list-item span:nth-child(2){flex:0 1 20%}.parts-statistic .main-window__list .main-window__list-item:not(.main-window__list-item--header){background-color:#f5f5f5;padding:7.5px 10px}.parts-statistic .main-window__list .main-window__list-item:not(.main-window__list-item--header):hover{background-color:#e6e6e6}@media (max-width: 768px){.parts-statistic{margin-top:0px}.parts-statistic .main-window__title{padding-bottom:0px !important;padding-top:0px !important;padding-left:25px !important}.parts-statistic .main-window__header{margin-top:0}.parts-statistic .parts-statistic__wrapper{max-height:none;flex-direction:column !important;justify-content:center;align-items:center}.parts-statistic .parts-statistic__wrapper--hidden{max-height:0px}.parts-statistic .parts-statistic__wrapper .main-window__chart-wrapper{align-self:flex-start}.parts-statistic .parts-statistic__wrapper .main-window__list{right:0}}\n",""]),module.exports=exports},3332:function(module,exports,__webpack_require__){var api=__webpack_require__(45),content=__webpack_require__(3333);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3333:function(module,exports,__webpack_require__){(exports=__webpack_require__(46)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.work-management-page__table-view{display:flex}.work-management-page__table-view--one-col{flex-direction:column}.work-management-page__table-view--two-col{flex-direction:row;flex-wrap:wrap}.work-management-page__table-view--two-col .work-management-page__row{width:calc(50% - 30px);max-width:500px}.work-management-page__table-view--placeholder{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.work-management-page__table-view--placeholder .work-management-page__row{min-width:calc(50% - 50px);max-width:500px}.work-management-page__table-view .work-management-page__table-date{margin-right:100%;margin-bottom:5px;padding:0 5px;color:#333333;border-bottom:1.5px solid #aaaaaa;font-size:90%;width:fit-content;white-space:nowrap;margin-top:15px;margin-bottom:5px}.work-management-page__table-view .work-management-page__table-date:first-child{margin-top:5px}.work-management-page__table-view .work-management-page__table-employees-count{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin-top:-2px;margin-left:5px;font-size:80%}.work-management-page__table-view .work-management-page__table-employees-count span:nth-child(1){color:#777777}.work-management-page__table-view .work-management-page__table-employees-count span:nth-child(2){color:#444444}.work-management-page__table-view .work-management-page__row{display:flex;flex-direction:column;border-radius:5px;padding:2.5px 10px;border:1px solid #cccccc;background-color:#fff;transition:200ms ease-in-out;cursor:pointer;margin-right:7.5px;margin-bottom:7.5px;max-width:600px;height:fit-content;min-width:300px}.work-management-page__table-view .work-management-page__row:hover{background-color:#f2f2f2}.work-management-page__table-view .work-management-page__row--hidden .work-management-page__item:not(.work-management-page__item--header){transform:scaleY(0);max-height:0;padding:0;overflow-y:hidden}.work-management-page__table-view .work-management-page__row .work-management-page__item{display:flex;flex-direction:column;padding:2.5px 0;padding-left:0px;justify-content:center;transition:200ms ease-in-out;transform-origin:50% 0;max-height:200px;overflow-y:auto}.work-management-page__table-view .work-management-page__row .work-management-page__item--header{font-size:90%;padding-left:0;flex-direction:row;justify-content:flex-start;align-items:center}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header__wrapper{display:flex;flex-direction:column;width:fit-content;margin-left:5px}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--position{margin-right:5px;color:#333333;font-size:85%;width:100%}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--name{margin-right:auto;white-space:nowrap;font-size:95%;width:fit-content}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--top-work{display:flex;align-items:center;border-left:1px solid #dddddd;padding-left:20px;margin-left:20px;flex-wrap:nowrap;font-size:0.85rem}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--top-work .header--hours{margin-left:10px;padding:3px 7.5px;background-color:transparent;color:#000000;border-width:1px;font-size:0.75rem;border-radius:3px;border-color:#cccccc}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--hours{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;max-width:100px;padding:3px 7.5px;width:fit-content;border:1px solid #4293b6;font-size:80%;border-radius:3px;white-space:nowrap}.work-management-page__table-view .work-management-page__row .work-management-page__item:not(.work-management-page__item--header){color:#222222;font-size:90%}.work-management-page__table-view .work-management-page__row .work-management-page__item:not(.work-management-page__item--header) a{color:#333333;text-decoration:underline;display:flex;flex-direction:row}.work-management-page__table-view .work-management-page__row .work-management-page__item:not(.work-management-page__item--header) a:hover{color:#000000}.work-management-page__table-view .work-management-page__row .work-management-page__item:not(.work-management-page__item--header) a .main-window__img{margin-left:5px}.work-management-page__table-view .work-management-page__row .work-management-page__item--products{padding-left:30px;color:#444444 !important;font-size:90% !important}.work-management-page__table-view .work-management-page__row--reminder{border:1px solid #ca8a8a;background-color:#e7d1d0}.work-management-page__table-view .work-management-page__row--reminder:hover{background-color:#ebd9d8}.work-management-page__table-view .work-management-page__row--reminder .work-management-page__item--header .header--hours{border:1px solid #b08f8f;background-color:#fcdddd;color:#222222}@media (max-width: 1000px){.work-management-page__table-view .work-management-page__row{width:100%;min-width:220px;max-width:calc(100% - 20px);margin-right:0}}@media (max-width: 768px){.work-management-page__table-view .work-management-page__row{width:100%;min-width:220px;max-width:calc(100% - 20px);margin-right:0}.work-management-page__table-view .work-management-page__row .work-management-page__item--header{flex-direction:column !important;align-items:flex-start !important}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--name{width:100% !important}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--hours{margin-top:5px;margin-left:0;margin-bottom:5px}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header__wrapper{margin-bottom:5px;margin-left:0 !important}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--top-work{border-left:none;margin-left:0;padding-left:0}.work-management-page__table-view .work-management-page__row .work-management-page__item--header .header--top-work .header--hours{margin-top:0 !important;margin-bottom:0}.work-management-page__table-view .work-management-page__item:not(.work-management-page__item--header){padding-left:5px}.work-management-page__table-view .work-management-page__item--products{padding-left:5px !important}}\n",""]),module.exports=exports},3558:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var toConsumableArray=__webpack_require__(18),toConsumableArray_default=__webpack_require__.n(toConsumableArray),defineProperty=__webpack_require__(15),defineProperty_default=__webpack_require__.n(defineProperty),asyncToGenerator=__webpack_require__(37),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),slicedToArray=__webpack_require__(7),slicedToArray_default=__webpack_require__.n(slicedToArray),regenerator=__webpack_require__(20),regenerator_default=__webpack_require__.n(regenerator),react=(__webpack_require__(201),__webpack_require__(134),__webpack_require__(83),__webpack_require__(51),__webpack_require__(23),__webpack_require__(166),__webpack_require__(154),__webpack_require__(202),__webpack_require__(36),__webpack_require__(165),__webpack_require__(474),__webpack_require__(257),__webpack_require__(1018),__webpack_require__(1017),__webpack_require__(0)),SearchBar=(__webpack_require__(3326),__webpack_require__(1782),__webpack_require__(355)),onecolumn=__webpack_require__(3328),onecolumn_default=__webpack_require__.n(onecolumn),ok=__webpack_require__(2895),ok_default=__webpack_require__.n(ok),twocolumns=__webpack_require__(3329),twocolumns_default=__webpack_require__.n(twocolumns),chevron_down=__webpack_require__(2887),chevron_down_default=__webpack_require__.n(chevron_down),InputDate=__webpack_require__(2859),functions=__webpack_require__(63),work_control=__webpack_require__(480),API_employees=__webpack_require__(231),Button=__webpack_require__(153),graphs=(__webpack_require__(1019),__webpack_require__(1025),__webpack_require__(3330),__webpack_require__(1009)),TableLoading=__webpack_require__(3012),sorting=__webpack_require__(302),jsx_runtime=__webpack_require__(1),ProductsStatisticsList_ProductsStatisticsList=function ProductsStatisticsList(_ref){var isHidden=_ref.isHidden,data=_ref.data;return Object(jsx_runtime.jsxs)("div",{className:isHidden?"main-window__list main-window__list--hidden":"main-window__list",children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item main-window__list-item--header",children:[Object(jsx_runtime.jsx)("span",{children:"Название"}),Object(jsx_runtime.jsx)("span",{children:"Количество"})]}),Object(sorting.a)(data,{fieldName:"quantity",direction:"desc"}).map((function(part){return Object(jsx_runtime.jsxs)("div",{className:"main-window__list-item",children:[Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Название:"}),part.name]}),Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__mobile-text",children:"Количество:"}),Object(functions.a)(part.quantity)]})]},part.id)}))]})};ProductsStatisticsList_ProductsStatisticsList.displayName="ProductsStatisticsList",ProductsStatisticsList_ProductsStatisticsList.__docgenInfo={description:"",methods:[],displayName:"ProductsStatisticsList"};var PartsStatistic_ProductsStatisticsList=ProductsStatisticsList_ProductsStatisticsList;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/PartsStatistic/ProductsStatisticsList.jsx"]={name:"ProductsStatisticsList",docgenInfo:ProductsStatisticsList_ProductsStatisticsList.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/PartsStatistic/ProductsStatisticsList.jsx"});var App=__webpack_require__(135),PartsStatistic_PartsStatistic_PartsStatistic=function PartsStatistic(props){var _useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),graph=_useState2[0],setGraph=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),canvasLoaded=_useState6[0],setCanvasLoaded=_useState6[1],_useState7=Object(react.useState)(!0),_useState8=slicedToArray_default()(_useState7,2),isVisible=_useState8[0],setIsVisible=_useState8[1],userContext=Object(react.useContext)(App.a),_useState9=Object(react.useState)("Продукция"),_useState10=slicedToArray_default()(_useState9,2),curPage=_useState10[0],setCurPage=_useState10[1],workshopsSwitch={"ЦехЛЭМЗ":"ROLE_LEMZ","ЦехЛепсари":"ROLE_LEPSARI","ЦехЛиговский":"ROLE_LIGOVSKIY"},filterWorkshops=function filterWorkshops(data){return data.filter((function(part){return!!userContext.userHasAccess(["ROLE_ADMIN"])||userContext.userHasAccess([workshopsSwitch[part.product.productionLocation]])}))},sortWorkshops=function sortWorkshops(data){return Object(sorting.a)(data,{fieldName:"quantity",direction:"desc"})},defaultOptions={maintainAspectRatio:!1,responsive:!0,cornerRadius:2.5,fullCornerRadius:!1,animation:{easing:"easeInOutCirc"},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1},scaleLabel:{display:!1,labelString:"Название",fontStyle:"italic"}}],xAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Количество (шт.)",fontStyle:"italic"}}]}},optionsProducts={type:"horizontalBar",data:{labels:toConsumableArray_default()(sortWorkshops(filterWorkshops(Object.values(props.data))).map((function(product){return product.name}))),datasets:[{barThickness:"flex",label:"Количество ед. продукции",backgroundColor:toConsumableArray_default()(filterWorkshops(Object.values(props.data)).map((function(){return"#247fa7"}))),data:toConsumableArray_default()(sortWorkshops(filterWorkshops(Object.values(props.data))).map((function(product){return product.quantity})))}]},options:defaultOptions},optionsDrafts={type:"horizontalBar",data:{labels:toConsumableArray_default()(sortWorkshops(props.drafts).map((function(product){return product.name}))),datasets:[{barThickness:"flex",label:"Количество ед. чертежей",backgroundColor:toConsumableArray_default()(props.drafts.map((function(){return"#247fa7"}))),data:toConsumableArray_default()(sortWorkshops(props.drafts).map((function(product){return product.quantity})))}]},options:defaultOptions};Object(react.useEffect)((function(){setIsLoading(!0),filterWorkshops(Object.values(props.data)).length>0||props.drafts.length>0?(setIsLoading(!0),canvasLoaded||(console.log("loading canvas"),Object(graphs.b)("main-window__chart-wrapper","main-window__chart"),setCanvasLoaded(!0)),setTimeout((function(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>768&&setIsVisible(!0),canvasLoaded&&graph.destroy(),setGraph(Object(graphs.a)("Продукция"===curPage?optionsProducts:optionsDrafts)),setIsLoading(!1)}),150)):(setIsVisible(!1),canvasLoaded&&graph.destroy(),setIsLoading(!1))}),[props.drafts,curPage]);var getMenuItem=function getMenuItem(name){return Object(jsx_runtime.jsx)("div",{className:"main-window__item ".concat(curPage===name?"main-window__item--active":""),onClick:function onClick(){return setCurPage(name)},children:name})};return Object(jsx_runtime.jsxs)("div",{className:"parts-statistic",style:{paddingBottom:!isVisible&&0},children:[Object(jsx_runtime.jsxs)("div",{className:"main-window__title",title:isVisible?"Свернуть":"Развернуть",onClick:function onClick(){return setIsVisible(!isVisible)},children:["Отчет производства",Object(jsx_runtime.jsx)("img",{className:"main-window__img ".concat(isVisible?"main-window__img--rotated":""),src:chevron_down_default.a})]}),Object(jsx_runtime.jsx)("div",{className:"main-window__header ".concat(isVisible?"":"main-window__header--hidden"),children:Object(jsx_runtime.jsxs)("div",{className:"main-window__menu",children:[getMenuItem("Продукция"),getMenuItem("Чертежи")]})}),Object(jsx_runtime.jsxs)("div",{className:isVisible?"parts-statistic__wrapper":"parts-statistic__wrapper parts-statistic__wrapper--hidden",children:[Object(jsx_runtime.jsx)(TableLoading.a,{isLoading:props.isLoading}),Object(jsx_runtime.jsx)("div",{className:"main-window__chart-wrapper",style:{height:"".concat("Продукция"===curPage?50*filterWorkshops(Object.values(props.data)).length:50*props.drafts.length,"px")}}),Object(jsx_runtime.jsx)(PartsStatistic_ProductsStatisticsList,{data:filterWorkshops(Object.values(props.data)),isLoading:isLoading,isHidden:"Продукция"!==curPage}),Object(jsx_runtime.jsx)(PartsStatistic_ProductsStatisticsList,{data:props.drafts,isLoading:isLoading,isHidden:"Чертежи"!==curPage})]})]})};PartsStatistic_PartsStatistic_PartsStatistic.displayName="PartsStatistic",PartsStatistic_PartsStatistic_PartsStatistic.__docgenInfo={description:"",methods:[],displayName:"PartsStatistic"};var WorkManagementPage_PartsStatistic_PartsStatistic=PartsStatistic_PartsStatistic_PartsStatistic;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/PartsStatistic/PartsStatistic.jsx"]={name:"PartsStatistic",docgenInfo:PartsStatistic_PartsStatistic_PartsStatistic.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/PartsStatistic/PartsStatistic.jsx"});__webpack_require__(476),__webpack_require__(672),__webpack_require__(673),__webpack_require__(1784),__webpack_require__(1016),__webpack_require__(674),__webpack_require__(3332);var edit=__webpack_require__(2863),edit_default=__webpack_require__.n(edit),dataObjects=__webpack_require__(2867),react_router_dom=__webpack_require__(47),PlaceholderLoading=__webpack_require__(2855),ReportTablePage_functions=__webpack_require__(2934),TableView_TableView_TableView=function TableView(props){var _useState=Object(react.useState)({}),_useState2=slicedToArray_default()(_useState,2),datesEmployees=_useState2[0],setDatesEmployees=_useState2[1];Object(react.useEffect)((function(){setDatesEmployees(Object.assign({},function findMissingEmployees(datesEmployees,employees){var temp=datesEmployees;return Object.entries(datesEmployees).map((function(date){employees.map((function(employee){void 0===date[1][employee.id]&&(temp[date[0]]=Object.assign({},temp[date[0]],defineProperty_default()({},employee.id,{employee:employee,works:[]})))}))})),temp}(props.data,props.employees,props.curWorkshop)))}),[props.data,props.employees,props.isLoading,props.searchQuery]);var sortWorks=function sortWorks(works){return works.sort((function(a,b){return a.hours<b.hours?1:a.hours>b.hours?-1:0}))};return Object(jsx_runtime.jsxs)("div",{className:props.isOneColumn?"work-management-page__table-view work-management-page__table-view--one-col":"work-management-page__table-view work-management-page__table-view--two-col",children:[props.isLoading&&Object(jsx_runtime.jsx)(PlaceholderLoading.a,{wrapperClassName:"work-management-page__table-view--placeholder",itemClassName:"work-management-page__row",minHeight:"2rem",items:4}),Object.entries(datesEmployees).sort((function(a,b){return new Date(a[0])<new Date(b[0])?-1:new Date(a[0])>new Date(b[0])?1:0})).map((function(date){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"work-management-page__table-date",children:Object(functions.f)(date[0])+" - "+dataObjects.b[new Date(date[0]).getDay()]}),Object(ReportTablePage_functions.b)(Object.values(date[1])).filter((function(item){return item.employee.lastName.toLowerCase().includes(props.searchQuery.toLowerCase())})).map((function(item){if(item.works.length>0||0!==new Date(date[0]).getDay()&&6!==new Date(date[0]).getDay()){var workHours=Math.floor(100*item.works.reduce((function(sum,cur){return void 0!==cur.hours?sum+cur.hours:sum}),0))/100;return Object(jsx_runtime.jsxs)("div",{className:(item.isOpen?"work-management-page__row ":"work-management-page__row work-management-page__row--hidden ")+(0===item.works.length?"work-management-page__row--reminder":""),onClick:function onClick(){!function onClickHandle(employee,date,value){var newData=props.data;newData[date][employee.id].isOpen=!value,props.onChange(newData)}(item.employee,date[0],item.isOpen)},children:[Object(jsx_runtime.jsxs)("div",{className:"work-management-page__item work-management-page__item--header",children:[Object(jsx_runtime.jsx)("span",{className:"header--hours",children:item.works.length>0?"".concat(workHours," ").concat(Object(functions.s)(workHours,["ч","ч","ч"])):"Нет записи!"}),Object(jsx_runtime.jsxs)("div",{className:"header__wrapper header__wrapper--person",children:[Object(jsx_runtime.jsx)("span",{className:"header--position",children:item.employee.position+" "}),Object(jsx_runtime.jsx)("span",{className:"header--name",children:Object(functions.o)(item.employee)})]}),Object(jsx_runtime.jsx)("div",{className:"header__wrapper",style:{marginLeft:"auto"},children:Object(jsx_runtime.jsx)("span",{className:"header--top-work",children:item.works.length>0?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sortWorks(item.works)[0].workList.work,Object(jsx_runtime.jsx)("span",{className:"header--hours",children:"".concat(Math.floor(100*sortWorks(item.works)[0].hours)/100," ч")})]}):null})})]}),item.works.map((function(workItem){return Object(jsx_runtime.jsxs)("div",{className:"work-management-page__item",children:[Object(jsx_runtime.jsxs)(react_router_dom.a,{title:"Редактировать",to:"/work-management/record-time?employee=".concat(item.employee.id,"&date=").concat(item.year,",").concat(item.month,",").concat(item.day),target:"_blank",children:[workItem.workList.work+" - "+workItem.hours+" "+Object(functions.s)(Number.parseInt(Math.floor(100*workItem.hours)/100),["час","часа","часов"]),Object(jsx_runtime.jsx)("img",{className:"main-window__img",src:edit_default.a,alt:""})]}),Object(jsx_runtime.jsxs)("div",{className:"work-management-page__item work-management-page__item--products",children:[workItem.workControlProduct.map((function(product){return Object(jsx_runtime.jsx)("div",{children:product.product.name+" ("+Object(functions.a)(null!==product.quantity?product.quantity:0)+" шт.)"},product.id)})),workItem.partsWorks.map((function(draft){return Object(jsx_runtime.jsx)("div",{children:draft.name+" ("+Object(functions.a)(null!==draft.quantity?draft.quantity:0)+" шт.)"},draft.id)}))]})]},workItem.id)}))]})}})),0!==new Date(date[0]).getDay()&&6!==new Date(date[0]).getDay()&&Object(jsx_runtime.jsxs)("div",{className:"work-management-page__table-employees-count",children:[Object(jsx_runtime.jsx)("span",{children:Object.values(date[1]).filter((function(item){return item.works.length>0})).length}),Object(jsx_runtime.jsx)("span",{children:"/".concat(Object.values(props.employees).length)})]})]})}))]})};TableView_TableView_TableView.displayName="TableView",TableView_TableView_TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"};var WorkManagementPage_TableView_TableView=TableView_TableView_TableView;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/TableView/TableView.jsx"]={name:"TableView",docgenInfo:TableView_TableView_TableView.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/TableView/TableView.jsx"});var FloatingButton=__webpack_require__(676),ControlPanel=__webpack_require__(675),WorkManagementPage_WorkManagementPage_WorkManagementPage=function WorkManagementPage(props){var _useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)([]),_useState4=slicedToArray_default()(_useState3,2),workItems=_useState4[0],setWorkItems=_useState4[1],_useState5=Object(react.useState)({}),_useState6=slicedToArray_default()(_useState5,2),datesEmployees=_useState6[0],setDatesEmployees=_useState6[1],_useState7=Object(react.useState)({}),_useState8=slicedToArray_default()(_useState7,2),partsStatistics=_useState8[0],setPartsStatistics=_useState8[1],_useState9=Object(react.useState)([]),_useState10=slicedToArray_default()(_useState9,2),draftsStatistics=_useState10[0],setDraftsStatistics=_useState10[1],_useState11=Object(react.useState)("Сотрудники"),_useState12=slicedToArray_default()(_useState11,2),curPage=_useState12[0],setCurPage=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),isOneColumn=_useState14[0],setIsOneColumn=_useState14[1],_useState15=Object(react.useState)([{name:"ЦехЛЭМЗ",visibility:["ROLE_ADMIN","ROLE_LEMZ","ROLE_DISPATCHER"],active:!0,minimized:!0,employees:[],className:"lemz"},{name:"ЦехЛепсари",visibility:["ROLE_ADMIN","ROLE_LEPSARI","ROLE_DISPATCHER"],active:!0,minimized:!0,employees:[],className:"lepsari"},{name:"ЦехЛиговский",visibility:["ROLE_ADMIN","ROLE_LIGOVSKIY","ROLE_DISPATCHER","ROLE_MANAGER"],active:!0,minimized:!0,employees:[],className:"ligovskiy"},{name:"Офис",visibility:["ROLE_ADMIN","ROLE_DISPATCHER","ROLE_MANAGER","ROLE_ENGINEER"],active:!0,minimized:!0,employees:[],className:"office"}]),_useState16=slicedToArray_default()(_useState15,2),workshops=_useState16[0],setWorkshops=_useState16[1],_useState17=Object(react.useState)({start:new Date((new Date).setDate((new Date).getDate()-1)),end:new Date}),_useState18=slicedToArray_default()(_useState17,2),dates=_useState18[0],setDates=_useState18[1],_useState19=Object(react.useState)(!1),_useState20=slicedToArray_default()(_useState19,2),isLoading=_useState20[0],setIsLoading=_useState20[1];function loadWorks(_x){return _loadWorks.apply(this,arguments)}function _loadWorks(){return(_loadWorks=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(signal){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsLoading(!0),_context.abrupt("return",Object(work_control.h)(dates.start.getDate(),dates.start.getMonth()+1,dates.start.getFullYear(),dates.end.getDate(),dates.end.getMonth()+1,dates.end.getFullYear(),signal).then((function(res){return res.json()})).then((function(res){setPartsStatistics(Object(functions.k)(res)),setDraftsStatistics(Object(functions.j)(res)),combineWorksForSamePeople(toConsumableArray_default()(res.map((function(item){return Object.assign({},item,{openWorks:!0})})))),setDatesEmployees(Object(functions.m)(res)),getAllEmployees(toConsumableArray_default()(res.map((function(item){return Object.assign({},item,{openWorks:!0})})))),setWorkItems(toConsumableArray_default()(res.map((function(item){return Object.assign({},item,{openWorks:!0})})))),setIsLoading(!1)})));case 2:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var getAllEmployees=function getAllEmployees(works){var newEmployees={};works.map((function(work){if(void 0===newEmployees[work.employee.id])return newEmployees=Object.assign(Object.assign({},newEmployees,defineProperty_default()({},work.employee.id,work.employee)))}))},combineWorksForSamePeople=function combineWorksForSamePeople(works){var newEmployeesMap={};Promise.all(works.map((function(work){return newEmployeesMap=void 0!==newEmployeesMap[work.employee.id]&&void 0!==newEmployeesMap[work.employee.id][new Date(work.year,work.month-1,work.day)]?Object.assign(Object.assign({},newEmployeesMap,defineProperty_default()({},work.employee.id,Object.assign({},newEmployeesMap[work.employee.id],defineProperty_default()({},new Date(work.year,work.month-1,work.day),[].concat(toConsumableArray_default()(newEmployeesMap[work.employee.id][new Date(work.year,work.month-1,work.day)]),[work])))))):Object.assign(Object.assign({},newEmployeesMap,defineProperty_default()({},work.employee.id,Object.assign({},newEmployeesMap[work.employee.id],defineProperty_default()({},new Date(work.year,work.month-1,work.day),[{openWorks:!0},work])))))})))};return Object(react.useEffect)((function(){document.title="Отчет производства";var abortController=new AbortController;return loadWorks(abortController.signal).then((function(){!function loadEmployeesCount(signal){setIsLoading(!0);var temp=workshops;Promise.all(workshops.map((function(workshop,index){return Object(API_employees.h)({workshop:workshop.name},signal).then((function(res){return res.json()})).then((function(res){temp.splice(index,1,Object.assign({},workshop,{employees:res.filter((function(item){return"Уволен"!==item.relevance}))}))}))}))).then((function(){return setIsLoading(!1),setWorkshops(toConsumableArray_default()(temp)),temp})).catch((function(error){setIsLoading(!0),console.log(error)}))}(abortController.signal)})),function cancel(){abortController.abort()}}),[]),Object(jsx_runtime.jsx)("div",{className:"work-management-page",children:Object(jsx_runtime.jsxs)("div",{className:"main-window",children:[Object(jsx_runtime.jsx)(FloatingButton.a,{iconSrc:isOneColumn?twocolumns_default.a:onecolumn_default.a,title:isOneColumn?"Несколько столбцов":"Один столбец",onClick:function onClick(){setIsOneColumn(!isOneColumn)},visibility:["ROLE_ADMIN","ROLE_WORKSHOP","ROLE_MANAGER","ROLE_DISPATCHER"]}),Object(jsx_runtime.jsx)("div",{className:"main-window__title"}),Object(jsx_runtime.jsxs)("div",{className:"main-window__header main-window__header--full",children:[(props.userHasAccess(["ROLE_ADMIN"])||props.userHasAccess(["ROLE_WORKSHOP"]))&&Object(jsx_runtime.jsx)(WorkManagementPage_PartsStatistic_PartsStatistic,{data:partsStatistics,drafts:draftsStatistics,isLoading:isLoading}),Object(jsx_runtime.jsx)("div",{className:"main-window__menu",children:Object(jsx_runtime.jsx)("div",{className:"Сотрудники"===curPage?"main-window__item main-window__item--active":"main-window__item",onClick:function onClick(){return setCurPage("Сотрудники")},children:"Сотрудники"})})]}),Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите запрос для поиска...",setSearchQuery:setSearchQuery}),Object(jsx_runtime.jsx)(ControlPanel.a,{itemsCount:"Всего: ".concat(workItems.length," записей"),buttons:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Button.a,{text:"Пред. день",isLoading:isLoading,inverted:!0,className:"main-window__button main-window__button--inverted",onClick:function onClick(){setDates(Object.assign({},dates,{start:new Date(new Date(dates.start).setDate(dates.start.getDate()-1))})),loadWorks()}}),Object(functions.f)(dates.end)<Object(functions.f)(new Date)?Object(jsx_runtime.jsx)(Button.a,{text:"Cлед. день",isLoading:isLoading,inverted:!0,className:"main-window__button main-window__button--inverted",onClick:function onClick(){setDates(Object.assign({},dates,{start:new Date(new Date(dates.start).setDate(dates.start.getDate()+1))})),loadWorks()}}):null]}),content:Object(jsx_runtime.jsxs)("div",{className:"main-window__info-panel",children:[Object(jsx_runtime.jsxs)("div",{className:"work-management-page__date-pick",children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("div",{className:"work-management-page__date",children:Object(jsx_runtime.jsx)(InputDate.a,{inputName:"Начало:",selected:Date.parse(dates.start),startDate:Date.parse(dates.start),endDate:Date.parse(dates.end),selectsStart:!0,handleDateChange:function handleDateChange(value){setDates(Object.assign({},dates,{start:value}))}})}),Object(jsx_runtime.jsx)("div",{className:"work-management-page__date",children:Object(jsx_runtime.jsx)(InputDate.a,{inputName:"Конец:",selected:Date.parse(dates.end),selectsEnd:!0,startDate:Date.parse(dates.start),endDate:Date.parse(dates.end),handleDateChange:function handleDateChange(value){setDates(Object.assign({},dates,{end:value}))}})})]}),Object(jsx_runtime.jsx)(Button.a,{text:"Применить",isLoading:isLoading,imgSrc:ok_default.a,className:"main-window__button",onClick:loadWorks})]}),Object(jsx_runtime.jsx)("div",{className:"work-management-page__workshop-pick",children:workshops.map((function(item,index){if(props.userHasAccess(item.visibility))return Object(jsx_runtime.jsx)("div",{className:item.active?"main-window__button ":"main-window__button main-window__button--inverted ",onClick:function onClick(){var temp=workshops;temp.splice(index,1,Object.assign({},temp[index],{name:item.name,active:!item.active})),setWorkshops(toConsumableArray_default()(temp))},children:item.name})}))})]})}),Object(jsx_runtime.jsxs)("div",{className:isOneColumn?"main-window__list main-window__list--one-column":"main-window__list",children:[isLoading&&Object(jsx_runtime.jsx)(PlaceholderLoading.a,{itemClassName:"main-window__list-item",minHeight:"1.5rem",items:3}),workshops.map((function(workshop,workshopIndex){if(workshop.active&&void 0!==workItems.find((function(item){return item.employee.workshop===workshop.name}))&&props.userHasAccess(workshop.visibility))return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"main-window__list-item main-window__list-item--divider",children:Object(jsx_runtime.jsxs)("span",{title:workshop.minimized?"Развернуть":"Свернуть",onClick:function onClick(){var temp=datesEmployees;Object.entries(datesEmployees[workshop.name]).map((function(date){Object.entries(date[1]).map((function(employee){return temp[workshop.name][date[0]][employee[0]].isOpen=!datesEmployees[workshop.name][date[0]][employee[0]].isOpen}))})),datesEmployees[workshop.name];var newWorkshops=workshops;newWorkshops.splice(workshopIndex,1,Object.assign({},workshop,{minimized:!workshop.minimized})),setWorkshops(toConsumableArray_default()(newWorkshops))},children:[workshop.name,Object(jsx_runtime.jsx)("img",{className:workshop.minimized?"main-window__img":"main-window__img main-window__img--rotated",src:chevron_down_default.a})]})}),Object(jsx_runtime.jsx)(WorkManagementPage_TableView_TableView,{isLoading:isLoading,isOneColumn:isOneColumn,employees:workshop.employees,curWorkshop:workshop.name,searchQuery:searchQuery,onChange:function onChange(newData){var temp=Object.assign(Object.assign({},datesEmployees,defineProperty_default()({},workshop.name,Object.assign({},newData))));setDatesEmployees(Object.assign({},temp))},data:datesEmployees[workshop.name]})]})}))]})]})})};WorkManagementPage_WorkManagementPage_WorkManagementPage.displayName="WorkManagementPage",WorkManagementPage_WorkManagementPage_WorkManagementPage.__docgenInfo={description:"",methods:[],displayName:"WorkManagementPage"};__webpack_exports__.default=WorkManagementPage_WorkManagementPage_WorkManagementPage;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/WorkManagementPage.jsx"]={name:"WorkManagementPage",docgenInfo:WorkManagementPage_WorkManagementPage_WorkManagementPage.__docgenInfo,path:"src/components/MainPage/GeneralPage/WorkManagement/WorkManagementPage/WorkManagementPage.jsx"})}}]);