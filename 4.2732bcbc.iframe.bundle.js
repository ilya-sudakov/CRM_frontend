(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2664:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react_datepicker__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(41),__webpack_require__(282),__webpack_require__(333),__webpack_require__(2690)),react_datepicker__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_4__),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2691),date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(2689),__webpack_require__(2671),__webpack_require__(1)),InputDate=function InputDate(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"input_date__input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__input_name",children:props.inputName+(props.required?"*":"")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:!0===props.error?"input_date__input_field input_date__input_field--error":"input_date__input_field",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_datepicker__WEBPACK_IMPORTED_MODULE_4___default.a,Object.assign({},props,{onChange:props.handleDateChange,disabledKeyboardNavigation:!0,dateFormat:props.showMonthYearPicker?"MM.yyyy":"dd.MM.yyyy",locale:date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_6___default.a}))})]}),!0===props.error&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"input_date__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},props.name,!1)))}:null,children:"Поле не заполнено!"})]})};InputDate.displayName="InputDate",InputDate.__docgenInfo={description:"",methods:[],displayName:"InputDate",props:{inputName:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},error:{type:{name:"bool"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDateChange:{type:{name:"func"},required:!1,description:""},selected:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""},showMonthYearPicker:{type:{name:"bool"},required:!1,description:""},setErrorsArr:{type:{name:"func"},required:!1,description:""},errorsArr:{type:{name:"object"},required:!1,description:""}}},__webpack_exports__.a=InputDate,InputDate.propTypes={inputName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,handleDateChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.instanceOf(Date),readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,showMonthYearPicker:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,setErrorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,errorsArr:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputDate\\InputDate.jsx"]={name:"InputDate",docgenInfo:InputDate.__docgenInfo,path:"src\\utils\\Form\\InputDate\\InputDate.jsx"})},2670:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(989),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(2701),__webpack_require__(1)),SelectFromButton=function SelectFromButton(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"Выбрать":_ref$text,_onClick=_ref.onClick;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"select-from-button",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"select-from-button__link",onClick:function onClick(event){event.preventDefault(),_onClick()},children:[text,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_1__.a,{className:"select-from-button__img select-from-button__img--more"})]})})};SelectFromButton.displayName="SelectFromButton",SelectFromButton.__docgenInfo={description:"",methods:[],displayName:"SelectFromButton",props:{text:{defaultValue:{value:"'Выбрать'",computed:!1},required:!1},onClick:{type:{name:"func"},required:!1,description:""}}},__webpack_exports__.a=SelectFromButton,SelectFromButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\SelectFromButton\\SelectFromButton.jsx"]={name:"SelectFromButton",docgenInfo:SelectFromButton.__docgenInfo,path:"src\\utils\\Form\\SelectFromButton\\SelectFromButton.jsx"})},2671:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2672);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2672:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_date{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_date .input_date__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.input_date .input_date__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_date .input_date__input .input_date__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper{width:100%}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker{z-index:999}.input_date .input_date__input .input_date__input_field .react-datepicker-wrapper .react-datepicker .react-datepicker__day--selected{background-color:#4293b6 !important}.input_date .input_date__input .input_date__input_field .react-datepicker-popper{z-index:999}.input_date .input_date__input .input_date__input_field input[type="text"],.input_date .input_date__input .input_date__input_field input[type="password"]{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px;box-sizing:border-box;transition:100ms ease-in-out;min-height:2rem}.input_date .input_date__input .input_date__input_field input[type="text"]:hover,.input_date .input_date__input .input_date__input_field input[type="password"]:hover{border-color:#888888}.input_date .input_date__input .input_date__input_field input[type="text"]:focus,.input_date .input_date__input .input_date__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_date .input_date__input .input_date__input_field--error input[type="text"],.input_date .input_date__input .input_date__input_field--error input[type="password"]{border:1px solid #d48282 !important}.input_date .input_date__input .input_date__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_date .input_date__input{flex-wrap:wrap;flex-direction:column;align-items:flex-start}.input_date .input_date__input .input_date__input_name{width:100%;margin-bottom:5px}.input_date .input_date__input .input_date__input_field{width:100%}.input_date .input_date__input .input_date__input_field input{padding:10px !important}}\n',""]),module.exports=exports},2701:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2702);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2702:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-from-button__link{display:flex;align-items:center;transition:100ms ease-in-out;color:#777777 !important;border-radius:3px;cursor:pointer;font-size:0.9rem;padding:2px 8px;padding-right:3px;margin-top:2px;width:fit-content;margin-left:10px}.select-from-button__link .select-from-button__img{width:20px;transition:margin-left 200ms ease-in-out}.select-from-button__link .select-from-button__img--plus{margin-left:7px}.select-from-button__link .select-from-button__img--plus path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.select-from-button__link .select-from-button__img--more{transform:rotate(-90deg) !important}.select-from-button__link .select-from-button__img--more path:first-child{transition:fill 200ms ease-in-out;fill:#bbbbbb}.select-from-button__link:hover{color:#333333 !important}.select-from-button__link:hover .select-from-button__img--more{margin-left:8px}.select-from-button__link:hover .select-from-button__img--more path:first-child{fill:#55a1c1}.select-from-button__link:hover .select-from-button__img--plus path:first-child{fill:#55a1c1}\n",""]),module.exports=exports},2712:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/chevron-down.d0a0493c.svg"},2730:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/delete.1ad59e4c.svg"},2799:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(23),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(65),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(15),slicedToArray_default=__webpack_require__.n(slicedToArray),SelectFromButton=(__webpack_require__(638),__webpack_require__(442),__webpack_require__(634),__webpack_require__(213),__webpack_require__(636),__webpack_require__(637),__webpack_require__(282),__webpack_require__(241),__webpack_require__(987),__webpack_require__(41),__webpack_require__(242),__webpack_require__(639),__webpack_require__(333),__webpack_require__(2663),__webpack_require__(3276),__webpack_require__(2670)),react=__webpack_require__(0),SearchBar=(__webpack_require__(3278),__webpack_require__(640)),TableView=__webpack_require__(3073),FormWindow=__webpack_require__(335),ImgLoader=__webpack_require__(2711),ControlPanel=__webpack_require__(2655),useSort=__webpack_require__(2683),select_delete=(__webpack_require__(990),__webpack_require__(1583),__webpack_require__(1581),__webpack_require__(2730)),delete_default=__webpack_require__.n(select_delete),chevron_down=__webpack_require__(2712),chevron_down_default=__webpack_require__.n(chevron_down),jsx_runtime=(__webpack_require__(3285),__webpack_require__(1)),ColorPicker_ColorPicker_ColorPicker=function ColorPicker(props){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),showColorPicker=_useState2[0],setShowColorPicker=_useState2[1],clickOnColorOption=function clickOnColorOption(color){props.handleStatusChange(color,props.id),setShowColorPicker(!1)};return Object(jsx_runtime.jsxs)("div",{className:"select-product__color",children:[Object(jsx_runtime.jsx)("div",{className:showColorPicker?"select-product__color_overlay":"select-product__color_overlay select-product__color_overlay--hidden",onClick:function onClick(){return setShowColorPicker(!showColorPicker)}}),Object(jsx_runtime.jsxs)("div",{className:"select-product__color_name",onClick:function onClick(){return setShowColorPicker(!showColorPicker)},children:[props.defaultName,Object(jsx_runtime.jsx)("img",{className:"tableview__img",src:chevron_down_default.a})]}),Object(jsx_runtime.jsxs)("div",{className:showColorPicker?"select-product__color_picker":"select-product__color_picker select-product__color_picker--hidden",children:[Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("completed")},className:"select-product__color_option select-product__color_option--completed",children:"Завершено"}),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("defect")},className:"select-product__color_option select-product__color_option--defect",children:"Приоритет"}),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return clickOnColorOption("production")},className:"select-product__color_option select-product__color_option--production",children:"В работе"})]})]})};ColorPicker_ColorPicker_ColorPicker.displayName="ColorPicker",ColorPicker_ColorPicker_ColorPicker.__docgenInfo={description:"",methods:[],displayName:"ColorPicker"};var InputProducts_ColorPicker_ColorPicker=ColorPicker_ColorPicker_ColorPicker;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\ColorPicker\\ColorPicker.jsx"]={name:"ColorPicker",docgenInfo:ColorPicker_ColorPicker_ColorPicker.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\ColorPicker\\ColorPicker.jsx"});var functions_defaultPropsForLayoutFunctions={numberInput:"text",readOnly:!1,workshop:!1,handleParamChange:function handleParamChange(){},clickOnSelected:function clickOnSelected(){},handleStatusChange:function handleStatusChange(){}},functions_renderQuantity=function renderQuantity(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Кол-во (шт.)".concat(props.readOnly?"":"*"),readOnly:!1};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_quantity",children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{quantity_id:index,type:"number",name:"quantity",autoComplete:"off",defaultValue:0!=item.quantity?item.quantity:0,value:item.quantity,onChange:props.handleParamChange,disabled:props.readOnly||props.workshop||options.readOnly})]})};functions_renderQuantity.displayName="renderQuantity";var functions_renderNewQuantity=function renderNewQuantity(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Отгружено (шт.)".concat(props.readOnly?"":"*"),readOnly:!1};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_quantity",children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{quantityNew_id:index,type:"number",name:"quantityNew",autoComplete:"off",defaultValue:0,value:item.quantityNew,onChange:props.handleParamChange,disabled:options.readOnly})]})};functions_renderNewQuantity.displayName="renderNewQuantity";var functions_renderPackaging=function renderPackaging(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{customName:"Фасовка".concat(props.readOnly?"":"*"),readOnly:!1,marginRight:"0px"};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_packaging",style:{marginRight:options.marginRight},children:[Object(jsx_runtime.jsx)("span",{children:options.customName}),Object(jsx_runtime.jsx)("input",{packaging_id:index,type:"text",name:"packaging",autoComplete:"off",defaultValue:item.packaging,value:item.packaging,onChange:props.handleParamChange,disabled:options.readOnly||props.workshop})]})};functions_renderPackaging.displayName="renderPackaging";var functions_renderSelectPackaging=function renderSelectPackaging(index,item){var _products$find,_products$find$packin,props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,products=arguments.length>3?arguments[3]:void 0;return Object(jsx_runtime.jsx)("select",{onChange:props.handleParamChange,packaging_id:index,name:"packaging",defaultValue:item.packaging,value:item.packaging,disabled:props.readOnly||props.workshop,children:null===(_products$find=products.find((function(product){return product.id===Number.parseInt(item.productId)})))||void 0===_products$find||null===(_products$find$packin=_products$find.packings)||void 0===_products$find$packin?void 0:_products$find$packin.map((function(packagingItem,index){return Object(jsx_runtime.jsx)("option",{value:packagingItem.id,children:packagingItem.name},index)}))})};functions_renderSelectPackaging.displayName="renderSelectPackaging";var functions_renderSelectedItemName=function renderSelectedItemName(index,item){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:functions_defaultPropsForLayoutFunctions,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{readOnly:!1,showColorPicker:!0,showDelete:!0};return Object(jsx_runtime.jsxs)("div",{className:"select__selected_item select__selected_item--"+(item.status?item.status:"production"),children:[!props.readOnly&&options.showColorPicker?Object(jsx_runtime.jsx)(InputProducts_ColorPicker_ColorPicker,{defaultName:item.name,id:item.id,handleStatusChange:props.handleStatusChange}):Object(jsx_runtime.jsx)("div",{className:"select__selected_name",children:item.name}),Object(jsx_runtime.jsx)("img",{id:index,className:"select__img",src:delete_default.a,alt:"",onClick:props.clickOnSelected})]})};functions_renderSelectedItemName.displayName="renderSelectedItemName",functions_renderQuantity.__docgenInfo={description:"",methods:[],displayName:"renderQuantity"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\functions.jsx"]={name:"renderQuantity",docgenInfo:functions_renderQuantity.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\functions.jsx"}),functions_renderNewQuantity.__docgenInfo={description:"",methods:[],displayName:"renderNewQuantity"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\functions.jsx"]={name:"renderNewQuantity",docgenInfo:functions_renderNewQuantity.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\functions.jsx"}),functions_renderPackaging.__docgenInfo={description:"",methods:[],displayName:"renderPackaging"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\functions.jsx"]={name:"renderPackaging",docgenInfo:functions_renderPackaging.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\functions.jsx"}),functions_renderSelectPackaging.__docgenInfo={description:"",methods:[],displayName:"renderSelectPackaging"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\functions.jsx"]={name:"renderSelectPackaging",docgenInfo:functions_renderSelectPackaging.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\functions.jsx"}),functions_renderSelectedItemName.__docgenInfo={description:"",methods:[],displayName:"renderSelectedItemName"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\functions.jsx"]={name:"renderSelectedItemName",docgenInfo:functions_renderSelectedItemName.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\functions.jsx"});var useProductsList=__webpack_require__(2737),InputProducts_InputProducts_InputProducts=function InputProducts(props){var _props$products,_props$products2,_props$customSearch,_props$products5,_props$categories,_useState=Object(react.useState)(""),_useState2=slicedToArray_default()(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),searchQueryCategory=_useState4[0],setSearchQueryCategory=_useState4[1],_useState5=Object(react.useState)([]),_useState6=slicedToArray_default()(_useState5,2),selected=_useState6[0],setSelected=_useState6[1],_useProductsList=Object(useProductsList.a)(!props.products||!props.categories),products=_useProductsList.products,categories=_useProductsList.categories,_useState7=Object(react.useState)(!1),_useState8=slicedToArray_default()(_useState7,2),showWindow=_useState8[0],setShowWindow=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),closeWindow=_useState10[0],setCloseWindow=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),showOptions=_useState12[0],setShowOptions=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),showOverlay=_useState14[0],setShowOverlay=_useState14[1],_useSort=Object(useSort.a)(null!==(_props$products=props.products)&&void 0!==_props$products?_props$products:products,{ignoreURL:!0,sortOrder:{curSort:"name",name:"asc"},sortOptions:[{value:"name asc",text:"По алфавиту (А-Я)"},{value:"name desc",text:"По алфавиту (Я-А)"},{value:"weight desc",text:"По весу"}]},[null!==(_props$products2=props.products)&&void 0!==_props$products2?_props$products2:products]),sortPanel=_useSort.sortPanel,sortedData=_useSort.sortedData,clickOnInput=function clickOnInput(){return setShowOverlay(!showOverlay),setShowOptions(!showOptions)},clickOnOption=function clickOnOption(event){var value=event.currentTarget.getAttribute("name"),newData={id:event.currentTarget.getAttribute("id"),name:value,quantity:0,quantityNew:0,packaging:"",status:"production",productId:event.currentTarget.getAttribute("productId")};clickOnInput(),setSelected([].concat(toConsumableArray_default()(selected),[newData])),props.onChange([].concat(toConsumableArray_default()(selected),[newData]))},pressEscKey=Object(react.useCallback)((function(event){if(27===event.keyCode&&(console.log(showOptions,showOverlay),showOptions))return clickOnInput()}),[showOptions,showOverlay]);Object(react.useEffect)((function(){return void 0!==props.defaultValue&&setSelected(toConsumableArray_default()(props.defaultValue)),document.addEventListener("keydown",pressEscKey,!1),function(){document.removeEventListener("keydown",pressEscKey,!1)}}),[props.defaultValue,props.categories,showOptions,showOverlay]);var defaultPropsForLayoutFunctions={numberInput:props.numberInput,readOnly:props.readOnly,workshop:props.workshop,handleParamChange:function handleParamChange(event){return function handleParamChange(event){var value=event.target.value,name=event.target.getAttribute("name"),id=event.target.getAttribute(name+"_id"),productId=event.target.getAttribute(productId),newSelected=selected;newSelected=newSelected.map((function(item,index){return Object.assign({},item,defineProperty_default()({},name,index==id?value:item[name]))})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))}(event)},clickOnSelected:function clickOnSelected(event){var id=event.target.getAttribute("id"),newSelected=selected;newSelected.splice(id,1),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))},handleStatusChange:function handleStatusChange(color,id){var newSelected=selected;newSelected=newSelected.map((function(item){return Object.assign({},item,{status:item.id==id?color:item.status})})),setSelected(toConsumableArray_default()(newSelected)),props.onChange(toConsumableArray_default()(newSelected))}},customLayoutOptions={productName:{render:function render(index,item,options){return functions_renderSelectedItemName(index,item,defaultPropsForLayoutFunctions,options)}},quantity:{render:function render(index,item,options){return functions_renderQuantity(index,item,defaultPropsForLayoutFunctions,options)}},newQuantity:{render:function render(index,item,options){return functions_renderNewQuantity(index,item,defaultPropsForLayoutFunctions,options)}},packaging:{render:function render(index,item,options){return functions_renderPackaging(index,item,defaultPropsForLayoutFunctions,options)}},selectPackaging:{render:function render(index,item){var _props$products4;return functions_renderSelectPackaging(index,item,defaultPropsForLayoutFunctions,null!==(_props$products4=props.products)&&void 0!==_props$products4?_props$products4:products)}}};return Object(jsx_runtime.jsx)("div",{className:"input_products",children:Object(jsx_runtime.jsxs)("div",{className:"input_products__input",children:[Object(jsx_runtime.jsxs)("div",{className:"input_products__input_name main-form__input_name--header",children:[props.inputName+(props.required?"*":""),!props.readOnly&&Object(jsx_runtime.jsx)(SelectFromButton.a,{text:"Выбрать продукцию",onClick:function onClick(){return setShowWindow(!showWindow)}})]}),Object(jsx_runtime.jsxs)("div",{className:"select",children:[Object(jsx_runtime.jsx)("div",{className:showOverlay?"select__overlay":"select__overlay select__overlay--hidden",onClick:function clickOverlay(){showOverlay&&clickOnInput()}}),!props.readOnly&&!props.workshop&&!1!==(null===(_props$customSearch=props.customSearch)||void 0===_props$customSearch?void 0:_props$customSearch.display)&&Object(jsx_runtime.jsxs)("div",{className:"select__searchbar",children:[Object(jsx_runtime.jsx)("input",{type:"text",className:!0===props.error?"select__input select__input--error":"select__input",onChange:function handleInputChange(event){setSearchQuery(event.target.value)},onClick:props.readOnly?null:clickOnInput,placeholder:props.searchPlaceholder,readOnly:props.readOnly||props.workshop}),Object(jsx_runtime.jsx)(FormWindow.a,{title:"Выбор продукции",content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SearchBar.a,{fullSize:!0,placeholder:"Введите название продукции для поиска...",setSearchQuery:setSearchQueryCategory}),Object(jsx_runtime.jsx)(ControlPanel.a,{itemsCount:"Всего: ".concat((null!==(_props$products5=props.products)&&void 0!==_props$products5?_props$products5:products).length," записей"),sorting:sortPanel}),Object(jsx_runtime.jsx)(TableView.a,{products:function filterSearchQuery(data){var query=searchQueryCategory.toLowerCase();return data.filter((function(item){return item.name.toLowerCase().includes(query)||item.id.toString().includes(query)||item.weight.toString().includes(query)||null!==item.comment&&item.comment.toLowerCase().includes(query)}))}(sortedData),categories:null!==(_props$categories=props.categories)&&void 0!==_props$categories?_props$categories:categories,searchQuery:searchQueryCategory,deleteItem:null,selectProduct:function selectProduct(id,value,productId){var newData={id:id,name:value,quantity:0,quantityNew:0,packaging:"",status:"production",productId:productId};setSelected([].concat(toConsumableArray_default()(selected),[newData])),props.onChange([].concat(toConsumableArray_default()(selected),[newData]))},closeWindow:closeWindow,setCloseWindow:setCloseWindow,setShowWindow:setShowWindow})]}),showWindow:showWindow,setShowWindow:setShowWindow})]}),!0===props.error&&Object(jsx_runtime.jsx)("div",{className:"select__error",onClick:props.setErrorsArr?function(){return props.setErrorsArr(Object.assign({},props.errorsArr,defineProperty_default()({},props.name,!1)))}:null,children:"Поле не заполнено!"}),props.options&&Object(jsx_runtime.jsx)("div",{className:showOptions?"select__options":"select__options select__options--hidden",children:function search(){var _props$products3,searchArr=searchQuery.split(" ");return(null!==(_props$products3=props.products)&&void 0!==_props$products3?_props$products3:products).filter((function(item){var check=!0;return searchArr.map((function(searchWord){!1===item.name.toLowerCase().includes(searchWord.toLowerCase())&&(check=!1)})),!0===check}))}().map((function(item,index){return Object(jsx_runtime.jsxs)("div",{id:item.id,optionId:index,productId:item.id,name:item.name,className:"select__option_item",onClick:clickOnOption,children:[Object(jsx_runtime.jsx)(ImgLoader.a,{imgSrc:item.photo,imgClass:"select__img"}),Object(jsx_runtime.jsx)("div",{children:"№"+item.id+", "+item.name})]},item.id)}))}),Object(jsx_runtime.jsxs)("div",{className:"select__selected",children:[0!==selected.length&&Object(jsx_runtime.jsx)("span",{className:"select__selected_title",children:"Выбранная продукция:"}),selected.map((function(item,index){var _props$customSelected;return Object(jsx_runtime.jsx)("div",{className:props.readOnly||props.workshop||!0===(null===(_props$customSelected=props.customSelectedItem)||void 0===_props$customSelected?void 0:_props$customSelected.isMinimized)?"select__selected_row select__selected_row--minimized":"select__selected_row",children:props.customLayout?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.entries(props.customLayout).map((function(layoutOption){return customLayoutOptions[layoutOption[0]].render(index,item,layoutOption[1])}))}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[functions_renderSelectedItemName(index,item,defaultPropsForLayoutFunctions),functions_renderQuantity(index,item,defaultPropsForLayoutFunctions),functions_renderPackaging(index,item,defaultPropsForLayoutFunctions,props.noPackaging?{readOnly:!0,customName:"Фасовка".concat(props.readOnly?"":"*"),marginRight:"0px"}:void 0)]})},item.id)}))]})]})]})})};InputProducts_InputProducts_InputProducts.displayName="InputProducts",InputProducts_InputProducts_InputProducts.__docgenInfo={description:"",methods:[],displayName:"InputProducts"};__webpack_exports__.a=InputProducts_InputProducts_InputProducts;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\utils\\Form\\InputProducts\\InputProducts.jsx"]={name:"InputProducts",docgenInfo:InputProducts_InputProducts_InputProducts.__docgenInfo,path:"src\\utils\\Form\\InputProducts\\InputProducts.jsx"})},3276:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3277);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3277:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.input_products{width:calc(100% - 20px);display:flex;flex-direction:column;margin-bottom:20px}.input_products .select{width:calc(90% - 20px);width:100%}.input_products--new{margin:0 !important;padding-right:10px}.input_products .input_products__input{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;width:100%}.input_products .input_products__input .input_products__input_name{color:#666;flex:0 1 calc(20% - 10px);padding-right:10px;width:100%;margin-bottom:5px}.input_products .input_products__input .input_products__input_field{display:flex;justify-content:center;width:calc(90% - 20px);position:relative;height:2rem;width:100%}.input_products .input_products__input .input_products__input_field input[type="text"],.input_products .input_products__input .input_products__input_field input[type="password"]{border:1px solid #bbbbbb;width:calc(100% - 20px);padding:5px 10px;border-radius:5px;transition:100ms ease-in-out}.input_products .input_products__input .input_products__input_field input[type="text"]:hover,.input_products .input_products__input .input_products__input_field input[type="password"]:hover{border-color:#888888}.input_products .input_products__input .input_products__input_field input[type="text"]:focus,.input_products .input_products__input .input_products__input_field input[type="password"]:focus{border:1px solid #4293b6}.input_products .input_products__input .input_products__input_field--error input[type="text"],.input_products .input_products__input .input_products__input_field--error input[type="password"]{border:1px solid #f73434 !important}.input_products .input_products__input .input_products__input_field:focus{border:1px solid #4293b6}@media (max-width: 768px){.input_products .input_products__input{flex-wrap:wrap}.input_products .input_products__input .input_products__input_name{margin-bottom:5px}.input_products .input_products__input .input_products__input_field{width:100%}.input_products .input_products__error{width:calc(100% - 20px)}}\n',""]),module.exports=exports},3278:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3279);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3279:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select{width:100%;position:relative;--completed: #c7e9ce;--defect: #ebbdba;--production: #eaebde}.select .select__overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select .select__overlay--hidden{display:none}.select__error{width:100%;box-sizing:border-box;margin-top:1px;font-size:0.75rem;margin-top:-11px;border:1px solid #d48282;background-color:#fadada;color:#ad1c1c;border-radius:3px;padding:5px 10px;transition:0.2s ease-in-out;cursor:pointer}.select__error--hidden{display:none}.select__searchbar{display:flex;flex-direction:column;position:relative;margin-bottom:12px}.select__searchbar .select__input{border:1px solid #bbbbbb;width:100%;padding:5px 10px;border-radius:3px !important;box-sizing:border-box;z-index:0;transition:100ms ease-in-out;min-height:2rem}.select__searchbar .select__input:hover{border-color:#888888}.select__searchbar .select__input:focus{border:1px solid #4293b6}.select__searchbar .select__input--error{border:1px solid #d48282 !important}.select__searchbar .main-form__button{font-size:0.8rem}.select__searchbar .tableview_products{width:calc(100% + 30px);margin-left:-15px}.select__options{position:absolute;width:100%;max-height:200px;overflow-y:auto;background-color:#fff;display:flex;flex-direction:column;font-size:80%;z-index:2;transform:scaleX(1);transition:0.1s ease-in-out;padding:5px 0;box-shadow:0 4px 4px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);transform-origin:0 0;margin-top:-12px}.select__options--hidden{transform:scaleY(0)}.select__options .select__img{max-width:50px;width:100%;border-radius:2.5px;margin-right:10px}.select__options .sk-circle{max-width:50px;max-height:50px}.select__options .select__option_item{padding:5px 10px;cursor:pointer;background-color:#ffffff;transition:0.1s ease-in-out;display:flex;flex-direction:row;align-items:center;min-height:40px}.select__options .select__option_item:hover{color:#fff;background-color:#4293b6}.select__selected{font-size:90%;display:flex;flex-direction:column}.select__selected_photo{max-width:50px;max-height:50px;margin-right:10px;border-radius:5px}.select__selected_title{margin-top:5px;font-size:95%;color:#666;display:none}.select__selected_row{display:flex;flex-direction:row;justify-content:space-between;margin-top:12px;font-size:0.9rem}.select__selected_row:first-of-type{margin-top:0px}.select__selected_row .select__selected_item{display:flex;padding:0px 0px;border-radius:3px;width:calc(50% - 30px);margin-right:50px;position:relative;font-size:90%;align-items:center;border:1px solid #bbbbbb;transition:100ms ease-in-out;cursor:pointer;background-color:#ffffff;color:#333333}.select__selected_row .select__selected_item:hover{border-color:#999999}.select__selected_row .select__selected_item:last-child{margin-bottom:0}.select__selected_row .select__selected_item .select__img{position:absolute;left:calc(100% + 10px);width:22.5px;border-radius:105px}.select__selected_row .select__selected_item .select__selected_name{width:100%;height:fit-content;padding:10px 10px}.select__selected_row .select__selected_quantity,.select__selected_row .select__selected_packaging{width:calc(25% - 10px);display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:90%;margin-right:10px;box-sizing:border-box;position:relative}.select__selected_row .select__selected_quantity span,.select__selected_row .select__selected_packaging span{position:absolute;top:-7px;left:6px;z-index:1;background-color:#ffffff;padding:0 5px;color:#777777;white-space:nowrap;border-radius:3px}.select__selected_row .select__selected_quantity input[type="text"],.select__selected_row .select__selected_quantity input[type="number"],.select__selected_row .select__selected_quantity textarea,.select__selected_row .select__selected_quantity select,.select__selected_row .select__selected_packaging input[type="text"],.select__selected_row .select__selected_packaging input[type="number"],.select__selected_row .select__selected_packaging textarea,.select__selected_row .select__selected_packaging select{border:1px solid #bbbbbb;font-size:110%;width:100%;min-width:100px;display:flex;padding:10px 10px;border-radius:3px;outline:none;position:relative;align-items:center;transition:100ms ease-in-out;z-index:0;padding-top:10px;box-sizing:border-box;color:#333333;height:auto}.select__selected_row .select__selected_quantity input[type="text"]:hover,.select__selected_row .select__selected_quantity input[type="number"]:hover,.select__selected_row .select__selected_quantity textarea:hover,.select__selected_row .select__selected_quantity select:hover,.select__selected_row .select__selected_packaging input[type="text"]:hover,.select__selected_row .select__selected_packaging input[type="number"]:hover,.select__selected_row .select__selected_packaging textarea:hover,.select__selected_row .select__selected_packaging select:hover{border-color:#888888}.select__selected_row .select__selected_quantity input[type="text"]:focus,.select__selected_row .select__selected_quantity input[type="number"]:focus,.select__selected_row .select__selected_quantity textarea:focus,.select__selected_row .select__selected_quantity select:focus,.select__selected_row .select__selected_packaging input[type="text"]:focus,.select__selected_row .select__selected_packaging input[type="number"]:focus,.select__selected_row .select__selected_packaging textarea:focus,.select__selected_row .select__selected_packaging select:focus{border:1px solid #4293b6}.select__selected_row .select__selected_quantity input::-webkit-outer-spin-button,.select__selected_row .select__selected_quantity input::-webkit-inner-spin-button,.select__selected_row .select__selected_packaging input::-webkit-outer-spin-button,.select__selected_row .select__selected_packaging input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.select__selected_row .select__selected_quantity input[type="number"],.select__selected_row .select__selected_packaging input[type="number"]{-moz-appearance:textfield}.select__selected_row .select__selected_packaging{margin-right:0;width:25%}.select__selected_row--minimized .select__selected_item{width:calc(50% - 30px);margin-right:10px}.select__selected_row--minimized .select__selected_quantity,.select__selected_row--minimized .select__selected_packaging{width:calc(25% + 15px);margin-right:10px}.select__selected_row--minimized .select__img{display:none}.select__selected_row--minimized div:last-child{margin-right:0}.select__selected .select__selected_item--completed{background-color:var(--completed)}.select__selected .select__selected_item--defect{background-color:var(--defect)}.select__selected .select__selected_item--production{background-color:var(--production)}.select--new{padding-right:10px;box-sizing:border-box;margin-top:0;margin-bottom:0 !important;display:flex;flex-direction:row-reverse;align-items:flex-start}.select--new .select__input{width:fit-content !important}.select--new .select__input_field{font-size:0.85rem !important}.select--new .select__input_name{position:absolute;top:-11px;left:6px;z-index:1;color:#555555;font-size:0.8rem !important;background-color:#ffffff;width:fit-content !important;padding:2px 5px}.select--new button{border-color:transparent;font-size:28px;color:#888;cursor:pointer;background-color:transparent;line-height:1rem;margin-top:4px}.select--new .select__selected{margin-top:0px;width:100%;margin-bottom:10px;margin-right:6px}.select--new .select__selected .select__selected_row{margin-top:0;align-items:flex-start}.select--new .select__selected .select__selected_row:not(:first-child){margin-top:8px}.select--new .select__selected_item{width:calc(100%);font-size:0.8rem}.select--new .select__selected_item .select-product__color_name{padding:5px 5px;height:3rem !important;max-height:1.5rem !important}.select--new .select__selected_item .select__selected_name{padding:5px 10px;height:3rem !important;max-height:1.6rem !important;white-space:nowrap;overflow-x:hidden;background-color:#ffffff;border-radius:5px;display:flex;align-items:center;font-size:0.9rem}.select--new .select__img{max-width:21px}.select--new input{max-width:none !important;min-width:0 !important}.select--new .select__selected_quantity{margin-right:0;width:calc(30%);min-width:110px;max-width:125px;font-size:0.8rem}.select--new .select__selected_quantity input{min-width:100% !important;box-sizing:border-box;height:3rem !important;max-height:2.25rem !important}.select--new .select__input_field{font-size:0.9rem}.select--readonly .select__input .select__input_name{border-radius:5px}.select--readonly .select__selected .select__selected_row:first-child{margin-top:0px !important}.select--readonly .select__selected .select__selected_row .select__selected_item .select__selected_name{max-height:1rem}.select--readonly .select__selected .select__selected_row .select__selected_quantity input{height:3rem !important;max-height:2.3rem !important}@media (max-width: 768px){.select{width:100% !important}.select .select__searchbar .select__input{padding:10px !important}.select__selected_row{flex-wrap:wrap}.select__selected_row .select__selected_item{margin-right:auto !important;width:calc(100% - 43px) !important}.select__selected_row .select__selected_packaging,.select__selected_row .select__selected_quantity{width:calc(50% - 2.5px);margin-top:10px;margin-right:5px}.select__selected_row .select__selected_quantity{min-width:80px}.select__selected_row .select__selected_packaging{min-width:150px}.select__selected_row--minimized{margin-left:0}.select__selected_row--minimized .select__selected_item{width:100% !important}}\n',""]),module.exports=exports},3285:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3286);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3286:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,':root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.select-product__color{width:100%;height:100%;display:flex;position:relative;align-items:center;justify-content:center;--completed: #c7e9ce;--defect: #ebbdba;--production: #eaebde}.select-product__color .select-product__color_overlay{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1}.select-product__color .select-product__color_overlay--hidden{display:none}.select-product__color .select-product__color_name{cursor:pointer;display:flex;text-align:left;justify-content:space-between;align-items:center;width:100%;height:fit-content;padding:10px 10px;transition:0.2s ease-in-out}.select-product__color .select-product__color_name .tableview__img{margin:0;width:15px}.select-product__color .select-product__color_picker{box-shadow:0 1px 1px rgba(0,0,0,0.22),0 0px 5px rgba(0,0,0,0.24);border-radius:2.5px;font-weight:normal;position:absolute;top:calc(100% - 1rem);transform-origin:0 0;width:100%;max-width:100px;z-index:1}.select-product__color .select-product__color_picker--hidden{transform:scaleY(0)}.select-product__color .select-product__color_picker .select-product__color_option{content:"";width:100%;padding:2.5px 0px;text-align:center;transition:100ms ease-in-out;cursor:pointer;color:#444444}.select-product__color .select-product__color_picker .select-product__color_option:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.select-product__color .select-product__color_picker .select-product__color_option:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.select-product__color .select-product__color_picker .select-product__color_option:hover{color:#999999}.select-product__color .select-product__color_picker .select-product__color_option--completed{background-color:var(--completed)}.select-product__color .select-product__color_picker .select-product__color_option--defect{background-color:var(--defect)}.select-product__color .select-product__color_picker .select-product__color_option--production{background-color:var(--production)}\n',""]),module.exports=exports}}]);