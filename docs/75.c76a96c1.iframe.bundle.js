(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{2830:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(26),__webpack_require__(0)),Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1003),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(2832),__webpack_require__(1)),ControlPanel=function ControlPanel(props){var _props$styles,_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),isHidden=_useState2[0],setIsHidden=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"control-panel",style:Object.assign({},null!==(_props$styles=props.styles)&&void 0!==_props$styles?_props$styles:{}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"main-window__control-panel-wrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"control-panel__buttons",children:[props.sorting||null,props.content?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"main-window__button main-window__button--inverted main-window__button--filter",onClick:function onClick(){return setIsHidden((function(isHidden){return!isHidden}))},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{children:props.panelName||"Фильтры"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Assets_tableview_chevron_down_inline_svg__WEBPACK_IMPORTED_MODULE_3__.a,{className:"main-window__img ".concat(isHidden?"":"main-window__img--rotated")})]}):null,props.buttons||null,props.itemsCount?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"main-window__amount_table",children:props.itemsCount}):null]}),isHidden?null:props.content]})})};ControlPanel.displayName="ControlPanel",ControlPanel.__docgenInfo={description:"",methods:[],displayName:"ControlPanel"},__webpack_exports__.a=ControlPanel,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/MainWindow/ControlPanel/ControlPanel.jsx"]={name:"ControlPanel",docgenInfo:ControlPanel.__docgenInfo,path:"src/utils/MainWindow/ControlPanel/ControlPanel.jsx"})},2832:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(2833);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2833:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.control-panel{width:100%}.control-panel .main-window__control-panel-wrapper{padding-top:5px;padding-bottom:10px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__button{margin-top:5px;padding:8px 10px;font-size:85%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .switch{margin-top:5px;margin-right:10px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .searchbar{max-width:50%;margin-right:auto;padding:0;align-self:center;margin-left:-15px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__amount_table{color:#666666;align-self:center;margin-top:5px;margin-left:auto}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window{padding:0}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel{width:max-content;margin-bottom:0;margin-right:10px;box-sizing:border-box;padding-top:calc(5px);position:relative;background-color:#ffffff}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel::before{width:100%;height:20px;position:absolute;content:\"Сортировка\";top:8px;left:10px;z-index:0;color:#777777;font-size:95%}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel select{padding-top:18px;padding-right:25px;padding-left:9px;height:100%;margin:0;box-sizing:border-box;min-width:150px;z-index:0;background-color:transparent;cursor:pointer;border:1px solid #cccccc;transition:background-color 100ms ease-in-out;-webkit-appearance:none;-moz-appearance:none;background:transparent;background-image:url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z'></path></svg>\");background-repeat:no-repeat;background-position-x:100%;background-position-y:calc(50% + 2px)}.control-panel .main-window__control-panel-wrapper .main-window__button--filter{border-color:#cccccc;justify-content:space-between;padding:8px 8px !important;padding-right:5px !important}.control-panel .main-window__control-panel-wrapper .main-window__button--filter span{margin-right:20px;font-size:95%}.control-panel .main-window__control-panel-wrapper .main-window__button--filter .main-window__img{filter:none;max-width:18px;margin-top:1px;margin-right:0;transition:200ms cubic-bezier(0.23, 1, 0.32, 1)}.control-panel .main-window__control-panel-wrapper .main-window__button--filter .main-window__img path:nth-child(1){transition:200ms cubic-bezier(0.23, 1, 0.32, 1);fill:#333333}@media (max-width: 768px){.control-panel .main-window__control-panel-wrapper{padding-left:15px;padding-right:15px}.control-panel .main-window__control-panel-wrapper .control-panel__buttons{width:calc(100% + 30px);padding:0 15px;box-sizing:border-box;flex-wrap:nowrap;margin-left:-15px;overflow:auto;white-space:nowrap}.control-panel .main-window__control-panel-wrapper .control-panel__buttons .main-window__sort-panel select{padding-top:18px !important;padding-right:25px !important;padding-left:9px !important;max-width:240px}}\n",""]),module.exports=exports},3003:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(255),__webpack_require__(657),__webpack_require__(658),__webpack_require__(79),__webpack_require__(465),__webpack_require__(197),__webpack_require__(0)),Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(1760),__webpack_require__(298)),Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(351),Components_App__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(132),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1),TableView=function TableView(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_7__.useState)(!0),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],userContext=Object(react__WEBPACK_IMPORTED_MODULE_7__.useContext)(Components_App__WEBPACK_IMPORTED_MODULE_11__.a);Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){props.data.length>0&&setIsLoading(!1)}),[props.data]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Components_Table_Table_jsx__WEBPACK_IMPORTED_MODULE_10__.a,{columns:[{text:"Название",value:"work"},{text:"Тип",value:"typeOfWork"}],data:function sortWorkItems(data){return function searchQuery(data){var query=props.searchQuery.toLowerCase();return data.filter((function(item){return item.work.toLowerCase().includes(query)||item.id.toString().includes(query)}))}(Object(Utils_sorting_sorting__WEBPACK_IMPORTED_MODULE_9__.a)(data,{fieldName:"work",direction:"asc"}))}(props.data),loading:{isLoading:isLoading},actions:props.selectWork?void 0:function actions(item){return[{elementType:"edit",title:"Редактировать работу",link:"/work-list/edit/".concat(item.id)},{elementType:"delete",title:"Удаление работы",onClick:function onClick(){return props.deleteItem(item.id)},isRendered:userContext.userHasAccess(["ROLE_ADMIN"])}]},onClick:props.selectWork?function(_ref){var work=_ref.work,id=_ref.id,typeOfWork=_ref.typeOfWork;return props.selectWork(work,id,typeOfWork)}:void 0,options:props.selectWork?{fullSize:!0}:void 0})};TableView.displayName="TableView",TableView.__docgenInfo={description:"",methods:[],displayName:"TableView"},__webpack_exports__.a=TableView,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/TableView.jsx"]={name:"TableView",docgenInfo:TableView.__docgenInfo,path:"src/components/MainPage/Work/TableView.jsx"})},3490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(3491),__webpack_require__(348)),_TableView_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3003),API_WorkManaging_work_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1026),Utils_MainWindow_FloatingButton_FloatingButton_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(662),Utils_MainWindow_ControlPanel_ControlPanel_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2830),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),Work=function Work(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),work=_useState2[0],setWork=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){document.title="Работы";var abortController=new AbortController;return loadWork(abortController.signal),function cancel(){abortController.abort()}}),[]);var loadWork=function loadWork(signal){Object(API_WorkManaging_work_list__WEBPACK_IMPORTED_MODULE_5__.d)(signal).then((function(response){return response.json()})).then((function(response){console.log(response),setWork(response)})).catch((function(error){console.log(error)}))};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"work",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"main-window",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Utils_MainWindow_FloatingButton_FloatingButton_jsx__WEBPACK_IMPORTED_MODULE_6__.a,{linkTo:"/work-list/new",visibility:["ROLE_ADMIN"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"main-window__header main-window__header--full",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"main-window__title",children:"Работы"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SearchBar_SearchBar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{fullSize:!0,placeholder:"Введите название работы для поиска...",setSearchQuery:setSearchQuery}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Utils_MainWindow_ControlPanel_ControlPanel_jsx__WEBPACK_IMPORTED_MODULE_7__.a,{itemsCount:"Всего: ".concat(work.length," записей")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_TableView_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{data:work,searchQuery:searchQuery,userHasAccess:props.userHasAccess,deleteItem:function deleteItem(id){return Object(API_WorkManaging_work_list__WEBPACK_IMPORTED_MODULE_5__.b)(id).then((function(){return loadWork()}))}})]})})};Work.displayName="Work",Work.__docgenInfo={description:"",methods:[],displayName:"Work"},__webpack_exports__.default=Work,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MainPage/Work/Work.jsx"]={name:"Work",docgenInfo:Work.__docgenInfo,path:"src/components/MainPage/Work/Work.jsx"})},3491:function(module,exports,__webpack_require__){var api=__webpack_require__(48),content=__webpack_require__(3492);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},3492:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,":root{--accent-color--light: #f8f1f1;--accent-color--contrast: #16c79a;--main-color: #4293b6;--main-color--dark: #19456b}.work{width:100%;display:flex;flex-direction:column;align-items:center}.work .main-window{padding-top:10px;padding-bottom:10px}.work .main-window__title{font-size:24px}.work .main-window__link{margin-bottom:15px}@media (max-width: 768px){.work .main-window__amount_table{margin-left:10px;align-self:flex-start}}\n",""]),module.exports=exports}}]);